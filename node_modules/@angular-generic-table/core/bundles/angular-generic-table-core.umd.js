(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/platform-browser'), require('rxjs/ReplaySubject'), require('rxjs/Subject'), require('tether'), require('rxjs/Observable'), require('@angular/common'), require('@angular/forms')) :
    typeof define === 'function' && define.amd ? define('@angular-generic-table/core', ['exports', '@angular/core', '@angular/platform-browser', 'rxjs/ReplaySubject', 'rxjs/Subject', 'tether', 'rxjs/Observable', '@angular/common', '@angular/forms'], factory) :
    (factory((global['angular-generic-table'] = global['angular-generic-table'] || {}, global['angular-generic-table'].core = {}),global.ng.core,global.ng.platformBrowser,global.rxjs.ReplaySubject,global.rxjs.Subject,global.Tether,global.rxjs.Observable,global.ng.common,global.ng.forms));
}(this, (function (exports,core,platformBrowser,ReplaySubject,Subject,Tether,Observable,common,forms) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    // unsupported: template constraints.
    /**
     * @template R
     */
    var  
    // unsupported: template constraints.
    /**
     * @template R
     */
    GtExpandedRow = /** @class */ (function () {
        function GtExpandedRow() {
            this.redrawEvent = new core.EventEmitter();
            this.toggleRowEvent = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        GtExpandedRow.prototype.$hide = /**
         * @return {?}
         */
            function () {
                this.toggleRowEvent.emit(this.row);
            };
        /**
         * @param {?=} $event
         * @return {?}
         */
        GtExpandedRow.prototype.$redraw = /**
         * @param {?=} $event
         * @return {?}
         */
            function ($event) {
                this.redrawEvent.emit(this.row);
            };
        /**
         * @param {?} row
         * @param {?} $event
         * @return {?}
         */
        GtExpandedRow.prototype.$rowClick = /**
         * @param {?} row
         * @param {?} $event
         * @return {?}
         */
            function (row, $event) {
                this.gtEvent.emit({
                    name: 'gt-row-clicked',
                    value: { row: row, event: $event }
                });
            };
        return GtExpandedRow;
    }());
    // unsupported: template constraints.
    // unsupported: template constraints.
    /**
     * @template R, C
     */
    var GtExpandingRowComponent = /** @class */ (function () {
        function GtExpandingRowComponent() {
            this.redrawEvent = new core.EventEmitter();
            this.toggleRowEvent = new core.EventEmitter();
        }
        /**
         * @param {?} instance
         * @return {?}
         */
        GtExpandingRowComponent.prototype.newInstance = /**
         * @param {?} instance
         * @return {?}
         */
            function (instance) {
                instance.row = this.row;
                instance.columnWidth = this.columnWidth;
                instance.gtSettings = this.gtSettings;
                instance.gtFields = this.gtFields;
                instance.gtOptions = this.gtOptions;
                instance.gtInfo = this.gtInfo;
                instance.data =
                    typeof this.data === 'function' ? this.data(this.row) : this.data;
                instance.redrawEvent.subscribe(this.redrawEvent);
                instance.toggleRowEvent.subscribe(this.toggleRowEvent);
                instance.gtEvent = this.gtEvent;
            };
        GtExpandingRowComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gt-expanding-row',
                        template: "\n        <div gtComponentAnchor\n             [ctor]=\"type\" (instance)=\"newInstance($event)\"></div>"
                    },] },
        ];
        /** @nocollapse */
        GtExpandingRowComponent.propDecorators = {
            "type": [{ type: core.Input },],
            "row": [{ type: core.Input },],
            "columnWidth": [{ type: core.Input },],
            "gtSettings": [{ type: core.Input },],
            "gtFields": [{ type: core.Input },],
            "gtOptions": [{ type: core.Input },],
            "gtInfo": [{ type: core.Input },],
            "data": [{ type: core.Input },],
            "redrawEvent": [{ type: core.Output },],
            "toggleRowEvent": [{ type: core.Output },],
            "gtEvent": [{ type: core.Input },],
        };
        return GtExpandingRowComponent;
    }());

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    /* global Reflect, Promise */
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b)
            if (b.hasOwnProperty(p))
                d[p] = b[p]; };
    function __extends(d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }
    var __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s)
                if (Object.prototype.hasOwnProperty.call(s, p))
                    t[p] = s[p];
        }
        return t;
    };
    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m)
            return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                ar.push(r.value);
        }
        catch (error) {
            e = { error: error };
        }
        finally {
            try {
                if (r && !r.done && (m = i["return"]))
                    m.call(i);
            }
            finally {
                if (e)
                    throw e.error;
            }
        }
        return ar;
    }
    function __spread() {
        for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
        return ar;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtMetaPipe = /** @class */ (function () {
        function GtMetaPipe() {
        }
        /**
         * @param {?} allRows
         * @param {?=} rowIndex
         * @param {?=} page
         * @param {?=} recordLength
         * @return {?}
         */
        GtMetaPipe.prototype.transform = /**
         * @param {?} allRows
         * @param {?=} rowIndex
         * @param {?=} page
         * @param {?=} recordLength
         * @return {?}
         */
            function (allRows, rowIndex, page, recordLength) {
                for (var /** @type {?} */ i = 0; i < allRows.length; i++) {
                    if (!allRows[i].$$gtRowId) {
                        allRows[i].$$gtRowId = rowIndex
                            ? allRows[i][rowIndex]
                            : page
                                ? page * recordLength +
                                    i +
                                    '_' +
                                    Math.random()
                                        .toString(36)
                                        .substr(2, 16)
                                : i +
                                    '_' +
                                    Math.random()
                                        .toString(36)
                                        .substr(2, 16);
                    }
                    if (!allRows[i].$$gtInitialRowIndex) {
                        allRows[i].$$gtInitialRowIndex = i;
                    }
                }
                return allRows;
            };
        GtMetaPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtMeta'
                    },] },
        ];
        return GtMetaPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    // unsupported: template constraints.
    // unsupported: template constraints.
    /**
     * @template R, C
     */
    var GenericTableComponent = /** @class */ (function () {
        function GenericTableComponent(renderer, gtMetaPipe) {
            var _this = this;
            this.renderer = renderer;
            this.gtMetaPipe = gtMetaPipe;
            this.columnWidth = {};
            this.sortOrder = [];
            this.metaInfo = {};
            this.selectedRows = [];
            this.openRows = [];
            this._gtSettings = [];
            this._gtFields = [];
            this.gtDefaultTexts = {
                loading: 'Loading...',
                noData: 'No data',
                noMatchingData: 'No data matching results found',
                noVisibleColumnsHeading: 'No visible columns',
                noVisibleColumns: 'Please select at least one column to be visible.',
                tableInfo: 'Showing #recordFrom to #recordTo of #recordsAfterSearch entries.',
                tableInfoAfterSearch: 'Showing  #recordFrom to #recordTo of #recordsAfterSearch entries (filtered from a total of #recordsAll entries).',
                csvDownload: 'download',
                sortLabel: 'Sort:',
                paginateNext: 'Next page',
                paginatePrevious: 'Previous page',
                inlineEditEdited: 'Press enter to save'
            };
            this.gtTexts = this.gtDefaultTexts;
            this.gtEvent = new core.EventEmitter();
            this.gtDefaultOptions = {
                csvDelimiter: ';',
                stack: false,
                lazyLoad: false,
                cache: false,
                debounceTime: 200,
                highlightSearch: false,
                rowSelection: false,
                rowSelectionAllowMultiple: true,
                rowExpandAllowMultiple: true,
                numberOfRows: 10,
                reportColumnWidth: false,
                allowUnsorted: true,
                mutateData: true
            };
            this._gtOptions = this.gtDefaultOptions;
            this.store = [];
            this.loading = true;
            this.debounceTimer = null;
            this.lazyAllSelected = false;
            this.gtInfo = {
                pageCurrent: 1,
                pageTotal: 0,
                recordFrom: 0,
                recordTo: 0,
                recordLength: this.gtOptions.numberOfRows,
                recordsAll: 0,
                recordsAfterFilter: 0,
                recordsAfterSearch: 0
            };
            this.refreshPipe = false;
            this.refreshTotals = false;
            this.refreshSorting = false;
            this.refreshFilter = false;
            this.refreshPageArray = false;
            this.editedRows = {};
            this.data = { exportData: [] };
            /**
             * Sort table by object key.
             * @param objectKey - name of key to sort on.
             * @param event - such as key press during sorting.
             */
            this.gtSort = function (objectKey, event) {
                this.inlineEditCancel(); // cancel inline editing
                // loop through current settings
                for (var /** @type {?} */ i = 0; i < this._gtSettings.length; i++) {
                    if (this._gtSettings[i].objectKey === objectKey) {
                        // check if sorting is disabled...
                        if (this._gtSettings[i].sort &&
                            this._gtSettings[i].sort.indexOf('disable') !== -1) {
                            // ...if so, exit function without applying any sorting
                            return;
                        }
                        else if ( /* check if sorting is undefined... */typeof this._gtSettings[i]
                            .sort === 'undefined') {
                            // ...is so, set sorting property to enable
                            this._gtSettings[i].sort = 'enable';
                        }
                    }
                }
                // check length
                var /** @type {?} */ ctrlKey = event.metaKey || event.ctrlKey;
                var /** @type {?} */ sort = this.sortOrder.slice(0);
                var /** @type {?} */ match = -1;
                var /** @type {?} */ matchDesc = -1;
                var /** @type {?} */ pos = -1;
                // check if property already exits
                for (var /** @type {?} */ i = 0; i < sort.length; i++) {
                    var /** @type {?} */ hit = sort[i].indexOf(objectKey);
                    if (hit !== -1) {
                        match = this.sortOrder.indexOf(objectKey);
                        matchDesc =
                            match === -1 ? this.sortOrder.indexOf('-' + objectKey) : match;
                        pos = Math.max(match, matchDesc);
                    }
                }
                // if ctrl key or meta key is press together with sort...
                if (ctrlKey) {
                    if (this.sortOrder[this.sortOrder.length - 1] === '$$gtInitialRowIndex') {
                        this.sortOrder.pop();
                    }
                    switch (pos) {
                        // ...and property is not sorted before...
                        case -1:
                            // ...add property to sorting
                            this.sortOrder.push(objectKey);
                            break;
                        default:
                            // ...and property is sorted before...
                            if (match !== -1) {
                                // ...change from asc to desc if sorted asc
                                this.sortOrder[pos] = '-' + objectKey;
                            }
                            else if (this.sortOrder.length > 1) {
                                // ...remove sorting if sorted desc
                                if (ctrlKey) {
                                    this.sortOrder[pos] = objectKey;
                                }
                                else {
                                    this.sortOrder.splice(pos, 1);
                                }
                            }
                            else if (this.sortOrder.length === 1) {
                                // ...set sorting to asc if only sorted property
                                this.sortOrder[pos] = objectKey;
                            }
                            break;
                    }
                }
                else {
                    /* if ctrl key or meta key is not press together with sort... */
                    switch (pos) {
                        // ...and property is not sorted before...
                        case -1:
                            // ...sort by property
                            this.sortOrder = [objectKey];
                            break;
                        default:
                            // ...change from desc to asc and vise versa
                            this.sortOrder =
                                match !== -1
                                    ? ['-' + objectKey]
                                    : ctrlKey || !this.gtOptions.allowUnsorted
                                        ? [objectKey]
                                        : [];
                            break;
                    }
                }
                // update settings object with new sorting information
                for (var /** @type {?} */ i = 0; i < this._gtSettings.length; i++) {
                    if (this._gtSettings[i].objectKey === objectKey) {
                        switch (this._gtSettings[i].sort) {
                            // if sorted asc...
                            case 'asc':
                                // ...change to desc
                                this._gtSettings[i].sort = 'desc';
                                break;
                            // if sorted desc...
                            case 'desc':
                                // ...change to asc if it's the only sorted property otherwise remove sorting
                                this._gtSettings[i].sort =
                                    (this.sortOrder.length === 1 && sort.length < 2) ||
                                        ctrlKey ||
                                        !this.gtOptions.allowUnsorted
                                        ? 'asc'
                                        : 'enable';
                                break;
                            // if sorting enabled...
                            case 'enable':
                                // ...change to asc
                                this._gtSettings[i].sort = 'asc';
                                break;
                        }
                        this._gtSettings[i].sortOrder =
                            this._gtSettings[i].sort === 'enable'
                                ? this._gtSettings.length - 1
                                : this.sortOrder.indexOf(objectKey) === -1
                                    ? this.sortOrder.indexOf('-' + objectKey)
                                    : this.sortOrder.indexOf(objectKey);
                    }
                    else if (this._gtSettings[i].sort &&
                        this._gtSettings[i].sort.indexOf('disable') === -1 &&
                        this.sortOrder.indexOf(this._gtSettings[i].objectKey) === -1 &&
                        this.sortOrder.indexOf('-' + this._gtSettings[i].objectKey) === -1) {
                        this._gtSettings[i].sort = 'enable';
                        this._gtSettings[i].sortOrder = this._gtSettings.length - 1;
                    }
                }
                // refresh sorting pipe
                this.refreshSorting = !this.refreshSorting;
                this.refreshPageArray = !this.refreshPageArray;
                // sort by initial sort order as last resort
                this.sortOrder.push('$$gtInitialRowIndex');
                // emit sort event
                this.gtEvent.emit({
                    name: 'gt-sorting-applied',
                    value: this.sortOrder
                });
            };
            /**
             * Change number of rows to be displayed.
             * @param rowLength - total number of rows.
             * @param reset - should page be reset to first page.
             */
            this.changeRowLength = function (rowLength, reset) {
                var /** @type {?} */ lengthValue = isNaN(parseInt(rowLength, 10))
                    ? 0
                    : parseInt(rowLength, 10);
                var /** @type {?} */ newPosition = 1;
                if (!lengthValue && this.gtData) {
                    lengthValue = this.gtData.length;
                }
                // if reset is not true and we're not lazy loading data...
                if (reset !== true && this._gtOptions.lazyLoad !== true) {
                    // ...get current position in record set
                    var /** @type {?} */ currentRecord = this.gtInfo.recordLength * (this.gtInfo.pageCurrent - 1);
                    var /** @type {?} */ currentPosition = this._gtData.indexOf(this._gtData[currentRecord]) + 1;
                    // ...get new position
                    newPosition = Math.ceil(currentPosition / lengthValue);
                }
                // change row length
                this.gtInfo.recordLength = lengthValue;
                // go to new position
                this.gtInfo.pageCurrent = newPosition;
                // if lazy loading data...
                if (this._gtOptions.lazyLoad) {
                    // ...replace data with place holders for new data
                    this._gtData[0] = this.loadingContent(lengthValue);
                    // ...empty current store
                    this.store = [];
                }
                // this.updateRecordRange();
                this.gtEvent.emit({
                    name: 'gt-row-length-changed',
                    value: lengthValue
                });
            };
            /**
             * Force a redraw of table rows.
             * As the table uses pure pipes, we need to force a redraw if an object in the array is changed to see the changes.
             */
            this.redraw = function ($event) {
                this.refreshSorting = !this.refreshSorting;
                this.refreshPageArray = !this.refreshPageArray;
                this.refreshPipe = !this.refreshPipe;
            };
            /**
             * Go to next page.
             */
            this.nextPage = function () {
                var /** @type {?} */ page = this.gtInfo.pageCurrent === this.gtInfo.pageTotal
                    ? this.gtInfo.pageTotal
                    : this.gtInfo.pageCurrent + 1;
                this.goToPage(page);
            };
            /**
             * Go to previous page.
             */
            this.previousPage = function () {
                var /** @type {?} */ page = this.gtInfo.pageCurrent === 1 ? 1 : this.gtInfo.pageCurrent - 1;
                this.goToPage(page);
            };
            /**
             * Request more data (used when lazy loading)
             */
            this.getData = function () {
                // ...emit event requesting for more data
                this.gtEvent.emit({
                    name: 'gt-page-changed-lazy',
                    value: {
                        pageCurrent: this.gtInfo.pageCurrent,
                        recordLength: this.gtInfo.recordLength
                    }
                });
            };
            /**
             * Go to specific page.
             * @param page - page number.
             */
            this.goToPage = function (page) {
                var _this = this;
                var /** @type {?} */ previousPage = this.gtInfo.pageCurrent;
                this.gtInfo.pageCurrent = page;
                this.inlineEditCancel(); // cancel inline edit
                // if lazy loading and if page contains no records...
                if (this._gtOptions.lazyLoad) {
                    // ...if data for current page contains no entries...
                    if (this._gtOptions.cache === false ||
                        this._gtData[this.gtInfo.pageCurrent - 1].length === 0) {
                        // ...create temporary content while waiting for data
                        this._gtData[this.gtInfo.pageCurrent - 1] = this.loadingContent(this.gtInfo.recordLength);
                        this.loading = true; // loading true
                    }
                    // ...if first entry in current page equals our loading placeholder...
                    if (this._gtData[this.gtInfo.pageCurrent - 1][0][this.loadingProperty] ===
                        this.gtTexts.loading) {
                        // ...get data
                        clearTimeout(this.debounceTimer);
                        this.debounceTimer = setTimeout(function () {
                            _this.getData();
                        }, this._gtOptions.debounceTime);
                    }
                }
                // this.updateRecordRange();
                // ...emit page change event
                if (previousPage !== page) {
                    this.gtEvent.emit({
                        name: 'gt-page-changed',
                        value: {
                            pageCurrent: this.gtInfo.pageCurrent,
                            pagePrevious: previousPage,
                            recordLength: this.gtInfo.recordLength
                        }
                    });
                }
            };
            /**
             * Sort by sort order
             */
            this.getSortOrder = function (a, b) {
                if (a.sortOrder < b.sortOrder) {
                    return -1;
                }
                if (a.sortOrder > b.sortOrder || typeof a.sortOrder === 'undefined') {
                    return 1;
                }
                return 0;
            };
            /**
             * Sort by column order
             */
            this.getColumnOrder = function (a, b) {
                if (a.columnOrder === undefined) {
                    return -1;
                }
                if (a.columnOrder < b.columnOrder) {
                    return -1;
                }
                if (a.columnOrder > b.columnOrder) {
                    return 1;
                }
                return 0;
            };
            /**
             * Create a deep copy of data
             */
            this.cloneDeep = function (o) {
                return JSON.parse(JSON.stringify(o));
            };
            /**
             * Return property
             */
            this.getProperty = function (array, key) {
                for (var /** @type {?} */ i = 0; i < array.length; i++) {
                    if (array[i].objectKey === key) {
                        return array[i];
                    }
                }
            };
            this.restructureSorting = function () {
                /**
                 * Check and store sort order upon initialization.
                 *  This is done by checking sort properties in the settings array of the table, if no sorting is defined
                 *  we'll sort the data by the first visible and enabled column in the table(ascending). Please note that actually
                 *  sorting have to be done server side when lazy loading data for obvious reasons.
                 */
                var /** @type {?} */ sorting = [];
                if (this._gtSettings) {
                    // ...sort settings by sort order
                    this._gtSettings.sort(this.getSortOrder);
                    // ...loop through settings
                    for (var /** @type {?} */ i = 0; i < this._gtSettings.length; i++) {
                        var /** @type {?} */ setting = this._gtSettings[i];
                        // ...if sorted ascending...
                        if (setting.sort === 'asc') {
                            // ... add to sorting
                            sorting.push(setting.objectKey);
                        }
                        else if (setting.sort === 'desc') {
                            /* ...else if sorted descending... */
                            // ... add to sorting
                            sorting.push('-' + setting.objectKey);
                        }
                    }
                    // ...if no sorting applied...
                    if (sorting.length === 0) {
                        sorting.push('$$gtRowId');
                        /*// ...sort settings by column order
                                        this._gtSettings.sort(this.getColumnOrder);
                        
                                        // ...loop through settings
                                        for (let i = 0; i < this._gtSettings.length; i++) {
                                            const setting = this._gtSettings[i];
                        
                                            // ...if column is enabled and visible...
                                            if (setting.enabled !== false && setting.visible !== false) {
                                                // ...add first match and exit function
                                                this.sortOrder = [this._gtSettings[i].objectKey];
                                                return;
                                            }
                                        }*/
                    }
                }
                if (this.sortOrder.length === 0) {
                    this.sortOrder = sorting;
                }
            };
            /**
             *  Extend object function.
             */
            this.extend = function (a, b) {
                for (var /** @type {?} */ key in b) {
                    if (b.hasOwnProperty(key)) {
                        a[key] = b[key];
                    }
                }
                return a;
            };
            this.gtEvent.subscribe(function ($event) {
                if ($event.name === 'gt-info') {
                    _this.updateRecordRange();
                }
                if ($event.name === 'gt-row-updated') {
                    _this.updateTotals();
                }
            });
        }
        Object.defineProperty(GenericTableComponent.prototype, "gtRowComponent", {
            get: /**
             * @return {?}
             */ function () {
                return this._gtRowComponent;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                console.warn('GtRowComponent has been deprecated and support will be removed in a future release, see https://github.com/hjalmers/angular-generic-table/issues/34');
                this._gtRowComponent = value;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GenericTableComponent.prototype, "hasEdits", {
            get: /**
             * @return {?}
             */ function () {
                return Object.keys(this.editedRows).length > 0;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GenericTableComponent.prototype, "gtOptions", {
            get: /**
             * @return {?}
             */ function () {
                return this._gtOptions;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._gtOptions = value;
                // if number of rows is passed and if number of rows differs from current record length...
                if (this.gtOptions.numberOfRows &&
                    this.gtInfo.recordLength !== this.gtOptions.numberOfRows) {
                    // ...update record length and redraw table
                    this.gtInfo.recordLength = this.gtOptions.numberOfRows;
                    this.redraw();
                }
                // ...extend gtOptions default values with values passed into component
                this._gtOptions = /** @type {?} */ (this.extend(this.gtDefaultOptions, this._gtOptions));
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GenericTableComponent.prototype, "gtTotals", {
            get: /**
             * @return {?}
             */ function () {
                return this._gtTotals;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._gtTotals = value;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GenericTableComponent.prototype, "gtFields", {
            get: /**
             * @return {?}
             */ function () {
                return this._gtFields;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._gtFields = value;
                var /** @type {?} */ COLUMNS_WITH_CLASS_NAMES = this._gtFields
                    .map(function (column) { return column; })
                    .filter(function (column) { return column.classNames; });
                // TODO: remove deprecated warning when setting has been removed
                if (COLUMNS_WITH_CLASS_NAMES.length > 0) {
                    console.warn('Field setting "classNames" have been deprecated in favor for "columnClass" and will be removed in the future, please update field settings for column with object key: ' +
                        COLUMNS_WITH_CLASS_NAMES[0].objectKey);
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GenericTableComponent.prototype, "gtSettings", {
            get: /**
             * @return {?}
             */ function () {
                return this._gtSettings;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._gtSettings = value;
                // loop through current settings
                for (var /** @type {?} */ i = 0; i < this._gtSettings.length; i++) {
                    // set sort enabled/disabled setting
                    this._gtSettings[i].sortEnabled =
                        this._gtSettings[i].sortEnabled !== false
                            ? (this._gtSettings[i].sortEnabled = !(this._gtSettings[i].sort &&
                                this._gtSettings[i].sort.indexOf('disable') !== -1))
                            : false;
                    // check if sorting is undefined...
                    if (typeof this._gtSettings[i].sort === 'undefined') {
                        // ...is so, set sorting property to enable
                        this._gtSettings[i].sort = 'enable';
                    }
                    // check if column order is undefined...
                    if (typeof this._gtSettings[i].columnOrder === 'undefined' &&
                        this._gtSettings[i].enabled !== false) {
                        // ...is so, set sorting property to enable
                        this._gtSettings[i].columnOrder = this._gtSettings[i - 1]
                            ? this._gtSettings[i - 1].columnOrder + 1
                            : 0;
                    }
                    // check if column lock settings are undefined...
                    if (typeof this._gtSettings[i].lockSettings === 'undefined') {
                        // ...if so, set lock settings to false unless field is disabled (enable === false)
                        this._gtSettings[i].lockSettings =
                            this._gtSettings[i].enabled === false || false;
                    }
                }
                this.restructureSorting();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GenericTableComponent.prototype, "gtData", {
            get: /**
             * @return {?}
             */ function () {
                return this._gtData;
            },
            set: /**
             * @param {?} initialData
             * @return {?}
             */ function (initialData) {
                var _this = this;
                var /** @type {?} */ data = this._gtOptions.mutateData
                    ? __spread(initialData) : this.cloneDeep(initialData);
                if (this.gtOptions.lazyLoad && this.gtInfo) {
                    this.gtMetaPipe.transform(data, this.gtOptions.rowIndex, this.gtInfo.pageCurrent - 1, this.gtInfo.recordLength);
                    if (this.lazyAllSelected) {
                        var /** @type {?} */ UNIQUE_ROWS_1 = this.selectedRows.map(function (row) { return row.$$gtRowId; });
                        data.map(function (row) {
                            if (UNIQUE_ROWS_1.indexOf(row.$$gtRowId) === -1) {
                                _this.selectedRows.push(row);
                            }
                        });
                        this._updateMetaInfo(this.selectedRows, 'isSelected', true);
                    }
                }
                else {
                    this.gtMetaPipe.transform(data, this.gtOptions.rowIndex);
                }
                if (this.gtOptions.rowSelectionInitialState) {
                    data.map(function (row) {
                        var /** @type {?} */ selected = typeof _this.gtOptions.rowSelectionInitialState === 'function'
                            ? _this.gtOptions.rowSelectionInitialState(row)
                            : _this.gtOptions.rowSelectionInitialState;
                        if (selected) {
                            if (typeof _this.metaInfo[row.$$gtRowId] === 'undefined') {
                                _this.metaInfo[row.$$gtRowId] = { isSelected: true };
                            }
                            else {
                                _this.metaInfo[row.$$gtRowId].isSelected = true;
                            }
                            _this.selectedRows.push(row);
                        }
                    });
                }
                if (this.gtOptions.rowExpandInitialState &&
                    this.gtOptions.rowExpandInitialComponent) {
                    data.map(function (row) {
                        var /** @type {?} */ expanded = typeof _this.gtOptions.rowExpandInitialState === 'function'
                            ? _this.gtOptions.rowExpandInitialState(row)
                            : _this.gtOptions.rowExpandInitialState;
                        _this.expandedRow = _this.gtOptions.rowExpandInitialComponent;
                        if (expanded) {
                            if (typeof _this.metaInfo[row.$$gtRowId] === 'undefined') {
                                _this.metaInfo[row.$$gtRowId] = { isOpen: true };
                            }
                            else {
                                _this.metaInfo[row.$$gtRowId].isOpen = true;
                            }
                        }
                    });
                }
                this._gtData = data;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Update record range.
         * @return {?}
         */
        GenericTableComponent.prototype.updateRecordRange = /**
         * Update record range.
         * @return {?}
         */
            function () {
                this.gtInfo.recordFrom =
                    this.gtInfo.recordsAfterSearch === 0
                        ? 0
                        : (this.gtInfo.pageCurrent - 1) * this.gtInfo.recordLength + 1;
                this.gtInfo.recordTo =
                    this.gtInfo.recordsAfterSearch <
                        this.gtInfo.pageCurrent * this.gtInfo.recordLength
                        ? this.gtInfo.recordsAfterSearch
                        : this.gtInfo.pageCurrent * this.gtInfo.recordLength;
            };
        /**
         * Update totals.
         * @return {?}
         */
        GenericTableComponent.prototype.updateTotals = /**
         * Update totals.
         * @return {?}
         */
            function () {
                this.refreshTotals = !this.refreshTotals;
            };
        /**
         * Get meta data for row.
         * @param {?} row
         * @return {?}
         */
        GenericTableComponent.prototype.getRowState = /**
         * Get meta data for row.
         * @param {?} row
         * @return {?}
         */
            function (row) {
                return typeof this.metaInfo[row.$$gtRowId] === 'undefined'
                    ? null
                    : this.metaInfo[row.$$gtRowId];
            };
        /**
         * Expand all rows.
         * @param {?} expandedRow - component to render when rows are expanded.
         * @return {?}
         */
        GenericTableComponent.prototype.expandAllRows = /**
         * Expand all rows.
         * @param {?} expandedRow - component to render when rows are expanded.
         * @return {?}
         */
            function (expandedRow) {
                this.expandedRow = expandedRow;
                this._toggleAllRowProperty('isOpen', true);
            };
        /**
         * Collapse all rows.
         * @return {?}
         */
        GenericTableComponent.prototype.collapseAllRows = /**
         * Collapse all rows.
         * @return {?}
         */
            function () {
                this._toggleAllRowProperty('isOpen', false);
            };
        /**
         * Select all rows.
         * @return {?}
         */
        GenericTableComponent.prototype.selectAllRows = /**
         * Select all rows.
         * @return {?}
         */
            function () {
                this._toggleAllRowProperty('isSelected', true);
            };
        /**
         * Deselect all rows.
         * @return {?}
         */
        GenericTableComponent.prototype.deselectAllRows = /**
         * Deselect all rows.
         * @return {?}
         */
            function () {
                this._toggleAllRowProperty('isSelected', false);
            };
        /**
         * Toggle all rows.
         * @return {?}
         */
        GenericTableComponent.prototype.toggleAllRows = /**
         * Toggle all rows.
         * @return {?}
         */
            function () {
                if (this._gtOptions.lazyLoad) {
                    if (!this.lazyAllSelected || this.selectedRows.length === 0) {
                        this.selectAllRows();
                        this.lazyAllSelected = true;
                    }
                    else {
                        this.deselectAllRows();
                        this.lazyAllSelected = false;
                    }
                }
                else {
                    if (this.selectedRows.length !== this.gtData.length) {
                        this.selectAllRows();
                    }
                    else {
                        this.deselectAllRows();
                    }
                }
            };
        /**
         * Toggle row collapsed state ie. expanded/open or collapsed/closed.
         * @param {?} row - row object that should be expanded/collapsed.
         * @param {?=} expandedRow - component to render when row is expanded.
         * @return {?}
         */
        GenericTableComponent.prototype.toggleCollapse = /**
         * Toggle row collapsed state ie. expanded/open or collapsed/closed.
         * @param {?} row - row object that should be expanded/collapsed.
         * @param {?=} expandedRow - component to render when row is expanded.
         * @return {?}
         */
            function (row, expandedRow) {
                if (expandedRow) {
                    this.expandedRow = expandedRow;
                }
                this._toggleRowProperty(row, 'isOpen');
            };
        /**
         * Toggle row selected state ie. selected or not.
         * @param {?} row - row object that should be selected/deselected.
         * @return {?}
         */
        GenericTableComponent.prototype.toggleSelect = /**
         * Toggle row selected state ie. selected or not.
         * @param {?} row - row object that should be selected/deselected.
         * @return {?}
         */
            function (row) {
                this._toggleRowProperty(row, 'isSelected');
            };
        /**
         * @param {?} row
         * @param {?} $event
         * @return {?}
         */
        GenericTableComponent.prototype.rowClick = /**
         * @param {?} row
         * @param {?} $event
         * @return {?}
         */
            function (row, $event) {
                this.gtEvent.emit({
                    name: 'gt-row-clicked',
                    value: { row: row, event: $event }
                });
            };
        /**
         * Update row data.
         * @param {?} row - row object that has been edited.
         * @param {?} oldValue - row object before edit.
         * @return {?}
         */
        GenericTableComponent.prototype.updateRow = /**
         * Update row data.
         * @param {?} row - row object that has been edited.
         * @param {?} oldValue - row object before edit.
         * @return {?}
         */
            function (row, oldValue) {
                this._toggleRowProperty(row, 'isUpdated', oldValue);
            };
        /**
         * removes a row from the table
         * @param {?} row - the row object to remove
         * @return {?}
         */
        GenericTableComponent.prototype.removeRow = /**
         * removes a row from the table
         * @param {?} row - the row object to remove
         * @return {?}
         */
            function (row) {
                if (this.isRowSelected(row)) {
                    this.toggleSelect(row);
                }
                var /** @type {?} */ index = this._gtData.indexOf(row);
                this._gtData.splice(index, 1);
            };
        /**
         * check if a row is selected
         * @param {?} row - row object
         * @return {?}
         */
        GenericTableComponent.prototype.isRowSelected = /**
         * check if a row is selected
         * @param {?} row - row object
         * @return {?}
         */
            function (row) {
                return (this.metaInfo[row.$$gtRowId] && this.metaInfo[row.$$gtRowId].isSelected);
            };
        /**
         * Update meta info for all rows, ie. isSelected, isOpen.
         * @param {?} array - array that holds rows that need to be updated.
         * @param {?} property - name of property that should be changed/toggled.
         * @param {?} active - should rows be expanded/open, selected.
         * @param {?=} exception - update all rows except this one.
         * @return {?}
         */
        GenericTableComponent.prototype._updateMetaInfo = /**
         * Update meta info for all rows, ie. isSelected, isOpen.
         * @param {?} array - array that holds rows that need to be updated.
         * @param {?} property - name of property that should be changed/toggled.
         * @param {?} active - should rows be expanded/open, selected.
         * @param {?=} exception - update all rows except this one.
         * @return {?}
         */
            function (array, property, active, exception) {
                for (var /** @type {?} */ i = 0; i < array.length; i++) {
                    if (!this.metaInfo[array[i].$$gtRowId]) {
                        this.metaInfo[array[i].$$gtRowId] = {};
                    }
                    if (exception && array[i].$$gtRowId === exception.$$gtRowId) ;
                    else {
                        this.metaInfo[array[i].$$gtRowId][property] = active;
                    }
                }
            };
        /**
         * Push selected/expanded lazy loaded rows to array with meta data.
         * @param {?} target - array to which rows should be added.
         * @param {?} source - array that holds rows that should be added.
         * @return {?} array with added rows.
         */
        GenericTableComponent.prototype._pushLazyRows = /**
         * Push selected/expanded lazy loaded rows to array with meta data.
         * @param {?} target - array to which rows should be added.
         * @param {?} source - array that holds rows that should be added.
         * @return {?} array with added rows.
         */
            function (target, source) {
                var /** @type {?} */ UNIQUE_ROWS = target.map(function (row) { return row.$$gtRowId; });
                for (var /** @type {?} */ i = 0; i < source.length; i++) {
                    // only add if not already in list
                    if (UNIQUE_ROWS.indexOf(source[i].$$gtRowId) === -1) {
                        target.push(source[i]);
                    }
                }
                return target;
            };
        /**
         * Toggle meta info for all rows, ie. isSelected, isOpen.
         * @param {?} property - name of property that should be changed/toggled.
         * @param {?} active - should rows be expanded/open, selected.
         * @return {?}
         */
        GenericTableComponent.prototype._toggleAllRowProperty = /**
         * Toggle meta info for all rows, ie. isSelected, isOpen.
         * @param {?} property - name of property that should be changed/toggled.
         * @param {?} active - should rows be expanded/open, selected.
         * @return {?}
         */
            function (property, active) {
                var /** @type {?} */ eventName;
                var /** @type {?} */ eventValue;
                switch (property) {
                    case 'isOpen':
                        // check if multiple expanded rows are allowed...
                        if (this._gtOptions.rowExpandAllowMultiple === false) {
                            // ...if not, exit function
                            console.log('feature disabled: enable by setting "rowExpandAllowMultiple = true"');
                            return;
                        }
                        if (active) {
                            eventName = 'expand-all';
                            this.openRows = this._gtOptions.lazyLoad
                                ? this._pushLazyRows(this.openRows, this._gtData[this.gtInfo.pageCurrent - 1].slice())
                                : this._gtData.slice();
                            this._updateMetaInfo(this.openRows, property, active);
                        }
                        else {
                            eventName = 'collapse-all';
                            this._updateMetaInfo(this.openRows, property, active);
                            this.openRows = [];
                        }
                        eventValue = {
                            expandedRows: this.openRows,
                            changedRow: 'all'
                        };
                        break;
                    case 'isSelected':
                        // check if multi row selection is allowed...
                        if (this._gtOptions.rowSelectionAllowMultiple === false) {
                            // ...if not, exit function
                            console.log('feature disabled: enable by setting "rowSelectionAllowMultiple = true"');
                            return;
                        }
                        if (active) {
                            eventName = 'select-all';
                            this.selectedRows = this._gtOptions.lazyLoad
                                ? this._pushLazyRows(this.selectedRows, this._gtData[this.gtInfo.pageCurrent - 1].slice())
                                : this._gtData.slice();
                            this._updateMetaInfo(this.selectedRows, property, active);
                        }
                        else {
                            eventName = 'deselect-all';
                            this._updateMetaInfo(this.selectedRows, property, active);
                            this.selectedRows = [];
                        }
                        eventValue = {
                            selectedRows: this.selectedRows,
                            changedRow: 'all'
                        };
                        break;
                }
                this.gtEvent.emit({
                    name: 'gt-row-' + eventName,
                    value: eventValue
                });
            };
        /**
         * Toggle meta info for row, ie. isSelected, isOpen.
         * @param {?} row - row object.
         * @param {?} property - name of property that should be changed/toggled.
         * @param {?=} propertyValues - optional property values that can be passed.
         * @return {?}
         */
        GenericTableComponent.prototype._toggleRowProperty = /**
         * Toggle meta info for row, ie. isSelected, isOpen.
         * @param {?} row - row object.
         * @param {?} property - name of property that should be changed/toggled.
         * @param {?=} propertyValues - optional property values that can be passed.
         * @return {?}
         */
            function (row, property, propertyValues) {
                var /** @type {?} */ eventName;
                var /** @type {?} */ eventValue;
                // make sure gtRowId exists on row object
                if (typeof row.$$gtRowId !== 'undefined') {
                    // check if meta info exists for row
                    if (!this.metaInfo[row.$$gtRowId]) {
                        // if not, add object to store meta info
                        this.metaInfo[row.$$gtRowId] = {};
                    }
                    switch (property) {
                        case 'isOpen':
                            var /** @type {?} */ opened = this.metaInfo[row.$$gtRowId][property];
                            // check if multiple expanded rows are allowed...
                            if (this._gtOptions.rowExpandAllowMultiple === false) {
                                // ...if not, collapse all rows except current row
                                this._updateMetaInfo(this.openRows, property, false, row);
                                this.openRows = [];
                            }
                            // check if row is expanded
                            if (!opened) {
                                eventName = 'expand';
                                // add row to expanded rows
                                this.openRows.push(row);
                            }
                            else {
                                eventName = 'collapse';
                                // loop through expanded rows...
                                for (var /** @type {?} */ i = 0; i < this.openRows.length; i++) {
                                    // if expanded row equals passed row...
                                    if (this.openRows[i].$$gtRowId === row.$$gtRowId) {
                                        // ...remove row from expanded rows...
                                        this.openRows.splice(i, 1);
                                        // ...and exit loop
                                        break;
                                    }
                                }
                            }
                            eventValue = {
                                expandedRows: this.openRows,
                                changedRow: row
                            };
                            break;
                        case 'isSelected':
                            var /** @type {?} */ selected = this.metaInfo[row.$$gtRowId][property];
                            // check if multi row selection is allowed...
                            if (this._gtOptions.rowSelectionAllowMultiple === false) {
                                // ...if not, deselect all rows except current row
                                this._updateMetaInfo(this.selectedRows, property, false, row);
                                this.selectedRows = [];
                            }
                            // check if row is selected
                            if (!selected) {
                                eventName = 'select';
                                // add row to selected rows
                                this.selectedRows.push(row);
                            }
                            else {
                                if (this.gtOptions.lazyLoad && this.lazyAllSelected) {
                                    this.lazyAllSelected = false;
                                }
                                eventName = 'deselect';
                                // loop through selected rows...
                                for (var /** @type {?} */ i = 0; i < this.selectedRows.length; i++) {
                                    // if selected row equals passed row...
                                    if (this.selectedRows[i].$$gtRowId === row.$$gtRowId) {
                                        // ...remove row from selected rows...
                                        this.selectedRows.splice(i, 1);
                                        // ...and exit loop
                                        break;
                                    }
                                }
                            }
                            eventValue = {
                                selectedRows: this.selectedRows,
                                changedRow: row
                            };
                            break;
                        case 'isUpdated':
                            eventName = 'updated';
                            var /** @type {?} */ oldValue = propertyValues;
                            // check if edit object exists for row
                            if (typeof this.metaInfo[row.$$gtRowId][property] === 'undefined') {
                                this.metaInfo[row.$$gtRowId][property] = {
                                    originalValue: oldValue,
                                    oldValue: oldValue,
                                    newValue: row
                                };
                            }
                            else {
                                this.metaInfo[row.$$gtRowId][property].oldValue = oldValue;
                                this.metaInfo[row.$$gtRowId][property].newValue = row;
                            }
                            eventValue = this.metaInfo[row.$$gtRowId][property];
                            this.redraw();
                            this.inlineEditCancel(row);
                            // this.gtData = [...this.gtData.map((r) => { return{...r}; })];
                            break;
                    }
                    this.gtEvent.emit({
                        name: 'gt-row-' + eventName,
                        value: eventValue
                    });
                    if (property !== 'isUpdated') {
                        this.metaInfo[row.$$gtRowId][property] = !this.metaInfo[row.$$gtRowId][property];
                    }
                }
            };
        /**
         * Update column.
         * @param {?} $event - key up event.
         * @param {?} row - row object.
         * @param {?} column - column object.
         * @return {?}
         */
        GenericTableComponent.prototype.gtUpdateColumn = /**
         * Update column.
         * @param {?} $event - key up event.
         * @param {?} row - row object.
         * @param {?} column - column object.
         * @return {?}
         */
            function ($event, row, column) {
                this._editRow(row, column);
            };
        /**
         * Dropdown select.
         * @param {?} row - row object.
         * @param {?} column - column object.
         * @return {?}
         */
        GenericTableComponent.prototype.gtDropdownSelect = /**
         * Dropdown select.
         * @param {?} row - row object.
         * @param {?} column - column object.
         * @return {?}
         */
            function (row, column) {
                var /** @type {?} */ oldValue = __assign({}, row);
                row[column.objectKey] = column.renderValue;
                this.updateRow(row, oldValue);
            };
        /**
         * @param {?} row
         * @param {?} column
         * @return {?}
         */
        GenericTableComponent.prototype._editRow = /**
         * @param {?} row
         * @param {?} column
         * @return {?}
         */
            function (row, column) {
                var /** @type {?} */ OBJECT_KEY = column.objectKey; // declare object key which contains changes
                // check if cell has changed value
                column.edited = row[column.objectKey] !== column.renderValue;
                // check if row contains changes...
                if (!this.editedRows[row.$$gtRowId]) {
                    // if not, create an object for the changed row
                    this.editedRows[row.$$gtRowId] = {
                        changes: {},
                        // create placeholder for changes
                        row: row // store reference to the row that should be updated
                    };
                }
                // store changed column under changes if it has been edited
                if (column.edited) {
                    this.editedRows[row.$$gtRowId].changes[OBJECT_KEY] = column;
                }
                else {
                    // delete change object if column is unchanged
                    delete this.editedRows[row.$$gtRowId].changes[OBJECT_KEY];
                    // check how many columns have been changed
                    var /** @type {?} */ CHANGED_COLUMNS = Object.keys(this.editedRows[row.$$gtRowId].changes).length;
                    if (CHANGED_COLUMNS === 0) {
                        // delete row from edited rows if no columns have been edited
                        delete this.editedRows[row.$$gtRowId];
                    }
                }
                // if no listener is present...
                if (!this.globalInlineEditListener) {
                    // ...listen for update event
                    this._listenForKeydownEvent();
                }
            };
        /**
         * Listen for key down event - listen for key down event during inline edit.
         * @return {?}
         */
        GenericTableComponent.prototype._listenForKeydownEvent = /**
         * Listen for key down event - listen for key down event during inline edit.
         * @return {?}
         */
            function () {
                var _this = this;
                // add global listener for key down events
                this.globalInlineEditListener = this.renderer.listen('document', 'keydown', function ($event) {
                    switch ($event.key) {
                        case 'Enter': // update data object
                            // update data object
                            _this.inlineEditUpdate();
                            break;
                        case 'Escape': // cancel
                            // cancel
                            _this.inlineEditCancel();
                            break;
                    }
                });
            };
        /**
         * Inline edit update - accept changes and update row values.
         * @return {?}
         */
        GenericTableComponent.prototype.inlineEditUpdate = /**
         * Inline edit update - accept changes and update row values.
         * @return {?}
         */
            function () {
                var _this = this;
                // loop through rows that have been edited
                Object.keys(this.editedRows).map(function (key) {
                    var /** @type {?} */ ROW = _this.editedRows[key].row; // row to update
                    var /** @type {?} */ CHANGES = _this.editedRows[key].changes; // changes to the row
                    // loop through changes in row
                    Object.keys(CHANGES).map(function (objectKey) {
                        var /** @type {?} */ oldValue = __assign({}, ROW);
                        ROW[objectKey] = CHANGES[objectKey].renderValue; // update data value
                        _this.updateRow(ROW, oldValue); // update meta info for row and send event
                        CHANGES[objectKey].edited = false; // disable edit mode
                    });
                });
                // clear rows marked as edited as the rows have been updated
                this.editedRows = {};
                // remove listener
                this._stopListeningForKeydownEvent();
            };
        /**
         * Inline edit cancel - cancel and reset inline edits.
         * @param {?=} row
         * @return {?}
         */
        GenericTableComponent.prototype.inlineEditCancel = /**
         * Inline edit cancel - cancel and reset inline edits.
         * @param {?=} row
         * @return {?}
         */
            function (row) {
                var _this = this;
                if (row) {
                    delete this.editedRows[row.$$gtRowId];
                    // remove listener
                    this._stopListeningForKeydownEvent();
                    return;
                }
                // loop through rows that have been edited
                Object.keys(this.editedRows).map(function (key) {
                    var /** @type {?} */ ROW = _this.editedRows[key].row; // row to update
                    var /** @type {?} */ CHANGES = _this.editedRows[key].changes; // changes to the row
                    // loop through changes in row
                    Object.keys(CHANGES).map(function (objectKey) {
                        CHANGES[objectKey].renderValue = ROW[objectKey]; // reset rendered value
                        CHANGES[objectKey].edited = false; // disable edit mode
                    });
                });
                // clear rows marked as edited as the rows have been updated
                this.editedRows = {};
                // remove listener
                this._stopListeningForKeydownEvent();
            };
        /**
         * Stop listening for key down event - stop listening for key down events passed during inline edit.
         * @return {?}
         */
        GenericTableComponent.prototype._stopListeningForKeydownEvent = /**
         * Stop listening for key down event - stop listening for key down events passed during inline edit.
         * @return {?}
         */
            function () {
                if (this.globalInlineEditListener) {
                    this.globalInlineEditListener();
                    this.globalInlineEditListener = null;
                }
            };
        /**
         * Apply filter(s).
         * @param {?} filter - object containing key value pairs, where value should be array of values.
         * @return {?}
         */
        GenericTableComponent.prototype.gtApplyFilter = /**
         * Apply filter(s).
         * @param {?} filter - object containing key value pairs, where value should be array of values.
         * @return {?}
         */
            function (filter) {
                this.gtInfo.filter = filter;
                // go to first page
                this.goToPage(1);
                this.updateTotals();
            };
        /**
         * Clear/remove applied filter(s).
         * @return {?}
         */
        GenericTableComponent.prototype.gtClearFilter = /**
         * Clear/remove applied filter(s).
         * @return {?}
         */
            function () {
                this.gtInfo.filter = false;
                this.updateTotals();
                // this.updateRecordRange();
            };
        /**
         * Search
         * @param {?} value - string containing one or more words
         * @return {?}
         */
        GenericTableComponent.prototype.gtSearch = /**
         * Search
         * @param {?} value - string containing one or more words
         * @return {?}
         */
            function (value) {
                this.gtInfo.searchTerms = value;
                // always go to first page when searching
                this.goToPage(1);
                this.updateTotals();
            };
        /**
         * Add rows
         * @param {?} rows - rows to add
         * @return {?} new data array.
         */
        GenericTableComponent.prototype.gtAdd = /**
         * Add rows
         * @param {?} rows - rows to add
         * @return {?} new data array.
         */
            function (rows) {
                this.gtData = __spread(this.gtData, rows);
                return __spread(this.gtData);
            };
        /**
         * Delete row
         * @param {?} objectKey - object key you want to find match with
         * @param {?} value - the value that should be deleted
         * @param {?=} match - all: delete all matches, first: delete first match (default)
         * @return {?} new data array.
         */
        GenericTableComponent.prototype.gtDelete = /**
         * Delete row
         * @param {?} objectKey - object key you want to find match with
         * @param {?} value - the value that should be deleted
         * @param {?=} match - all: delete all matches, first: delete first match (default)
         * @return {?} new data array.
         */
            function (objectKey, value, match) {
                if (match === void 0) {
                    match = 'first';
                }
                if (match === 'first') {
                    for (var /** @type {?} */ i = 0; i < this.gtData.length; i++) {
                        if (this.gtData[i][objectKey] === value) {
                            if (this.isRowSelected(this.gtData[i])) {
                                this.toggleSelect(this.gtData[i]);
                            }
                            this.gtData.splice(i, 1);
                            this.gtData = __spread(this.gtData);
                            if (match === 'first') {
                                break;
                            }
                        }
                    }
                }
                else {
                    for (var /** @type {?} */ i = this.gtData.length; i > 0; i--) {
                        if (this.gtData[i - 1][objectKey] === value) {
                            if (this.isRowSelected(this.gtData[i - 1])) {
                                this.toggleSelect(this.gtData[i - 1]);
                            }
                            this.gtData.splice(i - 1, 1);
                            this.gtData = __spread(this.gtData);
                        }
                    }
                }
                return __spread(this.gtData);
            };
        /**
         * Create store to hold previously loaded records.
         * @param {?} records - total number of records in store.
         * @param {?} perPage - how many records to show per page.
         * @return {?} a nested array to hold records per page.
         */
        GenericTableComponent.prototype.createStore = /**
         * Create store to hold previously loaded records.
         * @param {?} records - total number of records in store.
         * @param {?} perPage - how many records to show per page.
         * @return {?} a nested array to hold records per page.
         */
            function (records, perPage) {
                var /** @type {?} */ stores = Math.ceil(records / perPage);
                var /** @type {?} */ store = [];
                for (var /** @type {?} */ i = 0; i < stores; i++) {
                    store[i] = [];
                }
                return store;
            };
        /**
         * Create placeholders for rows while loading data from back-end.
         * @param {?} perPage - how many records to show per page.
         * @return {?} an array containing empty records to be presented while fetching real data.
         */
        GenericTableComponent.prototype.loadingContent = /**
         * Create placeholders for rows while loading data from back-end.
         * @param {?} perPage - how many records to show per page.
         * @return {?} an array containing empty records to be presented while fetching real data.
         */
            function (perPage) {
                // create row object
                var /** @type {?} */ rowObject = {
                    $$loading: true
                };
                var /** @type {?} */ order = 0;
                // sort settings by column order
                this._gtSettings.sort(this.getColumnOrder);
                // loop through all settings objects...
                for (var /** @type {?} */ i = 0; i < this._gtSettings.length; i++) {
                    var /** @type {?} */ setting = this._gtSettings[i];
                    // ...if column is visible and enabled...
                    if (setting.visible !== false && setting.enabled !== false) {
                        // ...if first column, set value to loading text otherwise leave it empty
                        if (order === 0) {
                            rowObject[setting.objectKey] = this.gtTexts.loading;
                            this.loadingProperty = setting.objectKey;
                        }
                        else {
                            rowObject[setting.objectKey] = '';
                        }
                        order++;
                    }
                    else {
                        rowObject[setting.objectKey] = '';
                    }
                }
                // create content placeholder
                var /** @type {?} */ contentPlaceholder = [];
                // create equal number of rows as rows per page
                for (var /** @type {?} */ i = 0; i < perPage; i++) {
                    // ...add temporary row object
                    contentPlaceholder.push(rowObject);
                }
                return contentPlaceholder;
            };
        /**
         * Export data as CSV
         * @param {?=} fileName - optional file name (overrides default file name).
         * @param {?=} useBOM - use BOM (byte order marker).
         * @return {?}
         */
        GenericTableComponent.prototype.exportCSV = /**
         * Export data as CSV
         * @param {?=} fileName - optional file name (overrides default file name).
         * @param {?=} useBOM - use BOM (byte order marker).
         * @return {?}
         */
            function (fileName, useBOM) {
                var _this = this;
                if (useBOM === void 0) {
                    useBOM = false;
                }
                var /** @type {?} */ data = this.data.exportData;
                var /** @type {?} */ csv = '';
                var /** @type {?} */ BOM = '\uFEFF';
                // csv export headers
                for (var /** @type {?} */ i = 0; i < this._gtSettings.length; i++) {
                    if (this._gtSettings[i].export !== false) {
                        csv += this.getProperty(this._gtFields, this._gtSettings[i].objectKey)
                            .name;
                        if (i < this._gtSettings.length - 1) {
                            csv += this._gtOptions.csvDelimiter;
                        }
                    }
                }
                // csv export body
                data.forEach(function (row) {
                    csv += '\n';
                    for (var /** @type {?} */ i = 0; i < _this._gtSettings.length; i++) {
                        if (_this._gtSettings[i].export !== false) {
                            // get field settings
                            var /** @type {?} */ fieldSetting = _this.getProperty(_this._gtFields, _this._gtSettings[i].objectKey);
                            // get export value, if export function is defined use it otherwise check for value function and as a last resort export raw data
                            var /** @type {?} */ exportValue = fieldSetting.export && typeof fieldSetting.export === 'function'
                                ? fieldSetting.export(row)
                                : fieldSetting.value && typeof fieldSetting.value === 'function'
                                    ? fieldSetting.value(row)
                                    : row[_this._gtSettings[i].objectKey];
                            // escape export value using double quotes (") if export value contains delimiter
                            exportValue =
                                typeof exportValue === 'string' &&
                                    exportValue.indexOf(_this._gtOptions.csvDelimiter) !== -1
                                    ? '"' + exportValue + '"'
                                    : exportValue;
                            csv += exportValue;
                            if (i < _this._gtSettings.length - 1) {
                                csv += _this._gtOptions.csvDelimiter;
                            }
                        }
                    }
                });
                var /** @type {?} */ blob = new Blob([(useBOM ? BOM : '') + csv], {
                    type: 'text/csv;charset=utf-8'
                });
                if (window.navigator.msSaveOrOpenBlob) {
                    navigator.msSaveOrOpenBlob(blob, fileName ? fileName + '.csv' : this.gtTexts.csvDownload + '.csv');
                }
                else {
                    var /** @type {?} */ link = document.createElement('a');
                    link.style.display = 'none';
                    document.body.appendChild(link);
                    if (link.download !== undefined) {
                        link.setAttribute('href', 'data:text/csv;charset=utf-8,' +
                            encodeURIComponent((useBOM ? BOM : '') + csv)); // URL.createObjectURL(blob));
                        link.setAttribute('download', fileName ? fileName + '.csv' : this.gtTexts.csvDownload + '.csv');
                        document.body.appendChild(link);
                        link.click();
                    }
                    else {
                        csv = 'data:text/csv;charset=utf-8,' + (useBOM ? BOM : '') + csv;
                        window.open(encodeURIComponent(csv));
                    }
                    document.body.removeChild(link);
                }
                // emit export event
                this.gtEvent.emit({
                    name: 'gt-exported-csv',
                    value: fileName ? fileName : this.gtTexts.csvDownload + '.csv'
                });
            };
        /**
         * @return {?}
         */
        GenericTableComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                // if number of row to display from start is set to null or 0...
                if (!this.gtOptions.numberOfRows) {
                    // ...change row length
                    this.changeRowLength(this.gtOptions.numberOfRows);
                }
                this.restructureSorting();
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        GenericTableComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                // if gt texts have changed...
                if (changes['gtTexts']) {
                    // ...extend gtOptions default values with values passed into component
                    this.gtTexts = /** @type {?} */ (this.extend(this.gtDefaultTexts, this.gtTexts));
                }
                // if lazy loading data and paging information is available...
                if (this.gtOptions.lazyLoad && this.gtInfo) {
                    // ...calculate total number of pages
                    this.gtInfo.pageTotal = Math.ceil(this.gtInfo.recordsAfterSearch / this.gtInfo.recordLength);
                    // ...declare store position
                    var /** @type {?} */ storePosition = this.gtInfo.pageCurrent - 1;
                    // ...and if store is empty or page length has changed...
                    if (this.store.length === 0 ||
                        this.store[0].length !== this.gtInfo.recordLength) {
                        // ...create store
                        this.store = this.createStore(this.gtInfo.recordsAfterSearch, this.gtInfo.recordLength);
                    }
                    // ...store retrieved data in store at store position
                    this.store[storePosition] = this.gtData;
                    this.gtInfo.visibleRecords = __spread(this.gtData); // add visible rows
                    // replace data with store
                    this._gtData = this.store;
                    this.loading = false;
                    this.updateRecordRange();
                    this.gtEvent.emit({
                        name: 'gt-info',
                        value: this.gtInfo
                    });
                }
                else if (this._gtData &&
                    this._gtData.length >= 0 &&
                    changes['gtData'] &&
                    changes['gtData'].previousValue) {
                    this.loading = false;
                }
                else if (changes['gtData'] &&
                    changes['gtData'].firstChange &&
                    this._gtData &&
                    this._gtData.length > 0) {
                    this.loading = false;
                }
            };
        /**
         * @param {?} index
         * @param {?} item
         * @return {?}
         */
        GenericTableComponent.prototype.trackByFn = /**
         * @param {?} index
         * @param {?} item
         * @return {?}
         */
            function (index, item) {
                return item.$$gtRowId;
            };
        /**
         * @param {?} index
         * @param {?} item
         * @return {?}
         */
        GenericTableComponent.prototype.trackByColumnFn = /**
         * @param {?} index
         * @param {?} item
         * @return {?}
         */
            function (index, item) {
                return item.objectKey;
            };
        /**
         * @return {?}
         */
        GenericTableComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                // remove listener
                this._stopListeningForKeydownEvent();
            };
        GenericTableComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'generic-table',
                        template: "<table class=\"table\" ngClass=\"{{gtClasses}} {{gtOptions.stack ? 'table-stacked':''}}\"\n       *ngIf=\"gtFields && gtSettings && (gtFields | gtVisible:gtSettings:refreshPipe).length > 0\">\n  <thead>\n  <tr>\n    <th class=\"gt-sort-label\" *ngIf=\"gtOptions.stack\">{{gtTexts.sortLabel}}</th>\n    <th *ngFor=\"let column of gtSettings | gtVisible:gtSettings:refreshPipe\"\n        ngClass=\"{{column.objectKey +'-column' | dashCase}} {{gtFields | gtProperty:column.objectKey:'classNames'}} {{column.sortEnabled ? 'sort-'+column.sort:''}} {{column.sortEnabled && column.sortOrder >= 0  ? 'sort-order-'+column.sortOrder:''}} {{ gtFields | gtColumnClass:column }}\"\n        (click)=\"column.sortEnabled ? gtSort(column.objectKey,$event):'';\">\n      <span *ngIf=\"!(gtFields | gtProperty:column.objectKey:'header')\">{{gtFields | gtProperty:column.objectKey:'name'}}</span>\n      <gt-custom-component-factory *ngIf=\"(gtFields | gtProperty:column.objectKey:'header')\"\n                                   [type]=\"(gtFields | gtProperty:column.objectKey:'header')?.type\"\n                                   [injector]=\"(gtFields | gtProperty:column.objectKey:'header')?.injector\"\n                                   [column]=\"gtFields | gtProperty:column.objectKey:'name'\"></gt-custom-component-factory>\n      <gt-checkbox *ngIf=\"(gtFields | gtProperty:column.objectKey:'columnComponent')?.type === 'checkbox'\" [checked]=\"(gtOptions.lazyLoad ? lazyAllSelected:selectedRows.length === gtData.length)\" (changed)=\"toggleAllRows()\"></gt-checkbox>\n    </th>\n  </tr>\n  </thead>\n  <ng-template\n    [ngIf]=\"gtTotals && (gtOptions.lazyLoad === false ? (gtData | gtFilter:gtInfo.filter:gtInfo:refreshFilter:gtData.length | gtSearch:gtInfo.searchTerms:gtInfo:gtSettings:gtFields:gtData.length).length > 0 : gtData.length > 0)\">\n    <thead class=\"gt-totals\">\n    <tr *ngFor=\"let total of gtTotals | gtTotalsPosition\">\n      <td *ngFor=\"let column of gtSettings | gtVisible:gtSettings:refreshPipe;let i = index;\"\n          ngClass=\"{{column.objectKey +'-totals-column' | dashCase}} {{gtFields | gtProperty:column.objectKey:'classNames'}} {{ gtFields | gtColumnClass:column }}\">\n        <span *ngIf=\"i === 0\" class=\"float-left\">{{total.name}}</span><span\n        [innerHTML]=\"total.fields[column.objectKey] | gtTotals:(total.update === false || gtOptions.lazyLoad === true) ? gtData:(gtData | gtFilter:gtInfo.filter:gtInfo:refreshFilter:gtData.length | gtSearch:gtInfo.searchTerms:gtInfo:gtSettings:gtFields:gtData.length):column.objectKey:refreshTotals\"></span>\n      </td>\n    </tr>\n    </thead>\n    <tfoot class=\"gt-totals\">\n    <tr *ngFor=\"let total of gtTotals | gtTotalsPosition:'footer'\">\n      <td *ngFor=\"let column of gtSettings | gtVisible:gtSettings:refreshPipe;let i = index;\"\n          ngClass=\"{{column.objectKey +'-totals-column' | dashCase}} {{gtFields | gtProperty:column.objectKey:'classNames'}} {{ gtFields | gtColumnClass:column }}\">\n        <span *ngIf=\"i === 0\" class=\"float-left\">{{total.name}}</span><span\n        [innerHTML]=\"total.fields[column.objectKey] | gtTotals:(total.update === false || gtOptions.lazyLoad === true) ? gtData:(gtData | gtFilter:gtInfo.filter:gtInfo:refreshFilter:gtData.length | gtSearch:gtInfo.searchTerms:gtInfo:gtSettings:gtFields:gtData.length):column.objectKey:refreshTotals\"></span>\n      </td>\n    </tr>\n    </tfoot>\n  </ng-template>\n  <tbody *ngIf=\"gtData && gtInfo\">\n  <ng-template class=\"table-rows\" ngFor let-row let-last=\"last\" [ngForTrackBy]=\"trackByFn\"\n               [ngForOf]=\"gtOptions.lazyLoad && gtInfo ? (gtData[gtInfo.pageCurrent-1]) : (gtData | gtFilter:gtInfo.filter:gtInfo:refreshFilter:gtData.length | gtSearch:gtInfo.searchTerms:gtInfo:gtSettings:gtFields:gtData.length | gtOrderBy:sortOrder:gtFields:refreshSorting:gtData.length | gtChunk:gtInfo:gtInfo.recordLength:gtInfo.pageCurrent:refreshPageArray:gtData.length:gtEvent:data | gtRowClass:gtFields)\">\n    <tr [ngClass]=\"{'row-selected':metaInfo[row.$$gtRowId]?.isSelected, 'row-open':metaInfo[row.$$gtRowId]?.isOpen, 'row-loading':loading, 'row-expandable':gtRowComponent}\"\n        class=\"{{row.$$gtRowClass}}\"\n        (click)=\"gtOptions.rowSelection ? toggleSelect(row):rowClick(row, $event)\">\n      <td *ngFor=\"let column of row | gtRender:gtSettings:gtFields:refreshPipe:loading:gtOptions.highlightSearch:gtInfo.searchTerms;trackBy:trackByColumnFn\"\n          ngClass=\"{{column.objectKey +'-column' | dashCase}} {{gtFields | gtProperty:column.objectKey:'classNames'}} {{(gtFields | gtProperty:column.objectKey:'inlineEdit') ? 'gt-inline-edit':''}} {{column.edited ? 'gt-edited':''}} {{ gtFields | gtColumnClass:column:row }}\">\n                        <span class=\"gt-row-label\"\n                              *ngIf=\"gtOptions.stack\">{{(gtFields | gtProperty:column.objectKey:'stackedHeading') ? (gtFields | gtProperty:column.objectKey:'stackedHeading') : (gtFields | gtProperty:column.objectKey:'name')}}</span>\n        <gt-custom-component-factory *ngIf=\"column.columnComponent && column.columnComponent.type !== 'checkbox'\" class=\"gt-row-content\"\n                                     [type]=\"column.columnComponent.type\"\n                                     [injector]=\"column.columnComponent.injector\" [row]=\"row\"\n                                     [column]=\"column\" (redrawEvent)=\"redraw($event)\"\n                                     [searchTerms]=\"gtInfo.searchTerms\"  (searchEvent)=\"redraw($event)\"\n                                     (click)=\"column.click ? column.click(row,column,$event):'';column.expand ? toggleCollapse(row, column.expand):''\"></gt-custom-component-factory>\n        <span *ngIf=\"!column.columnComponent && (!(gtFields | gtProperty:column.objectKey:'inlineEdit') || ((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | gtIsObservable) && !((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | async) || (!((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | gtIsObservable) && !((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | gtIsEditable:row:refreshPipe)))\"\n              class=\"gt-row-content\" [innerHTML]=\"column.renderValue\"\n              (click)=\"column.click ? column.click(row,column,$event):'';column.expand ? toggleCollapse(row, column.expand):''\"></span>\n        <ng-template\n          [ngIf]=\"!column.columnComponent && (((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | gtIsObservable) && ((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | async) || ((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | gtIsEditable:row:refreshPipe))\">\n          <ng-template [ngIf]=\"([true,'email','number','password', 'text'].indexOf((gtFields | gtProperty:column.objectKey:'inlineEdit').type) !== -1) || !(gtFields | gtProperty:column.objectKey:'inlineEdit').type\">\n            <input class=\"inline-edit\" [attr.type]=\"!(gtFields | gtProperty:column.objectKey:'inlineEdit').type ? 'text' : !((gtFields | gtProperty:column.objectKey:'inlineEdit').type | gtIsObservable) ? (gtFields | gtProperty:column.objectKey:'inlineEdit').type:(gtFields | gtProperty:column.objectKey:'inlineEdit').type | async\" [(ngModel)]=\"column.renderValue\"\n                   (input)=\"gtUpdateColumn($event,row, column)\">\n            <span class=\"gt-inline-edit-notice\">{{gtTexts.inlineEditEdited}}</span>\n          </ng-template>\n          <gt-dropdown\n            *ngIf=\"(((gtFields | gtProperty:column.objectKey:'inlineEdit').type) && ((gtFields | gtProperty:column.objectKey:'inlineEdit').type).length > 0) || ((gtFields | gtProperty:column.objectKey:'inlineEdit').type | gtIsObservable)\"\n            [options]=\"!((gtFields | gtProperty:column.objectKey:'inlineEdit').type | gtIsObservable) ? (gtFields | gtProperty:column.objectKey:'inlineEdit').type : (gtFields | gtProperty:column.objectKey:'inlineEdit').type | async\"\n            [id]=\"'_' + row.$$gtRowId + '_' + column.objectKey\"\n            [(selected)]=\"column.renderValue\" (selectedChange)=\"gtDropdownSelect(row, column)\">Add\n            inline editing module\n          </gt-dropdown>\n        </ng-template>\n        <ng-template [ngIf]=\"!column.columnComponent && !((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active) \">\n          <ng-template\n            [ngIf]=\"[true,'email','number','password'].indexOf(gtFields | gtProperty:column.objectKey:'inlineEdit') !== -1\">\n            <input class=\"inline-edit\" [attr.type]=\"(gtFields | gtProperty:column.objectKey:'inlineEdit') === true ? 'text':(gtFields | gtProperty:column.objectKey:'inlineEdit')\" [(ngModel)]=\"column.renderValue\"\n                   (input)=\"gtUpdateColumn($event,row, column)\">\n            <span class=\"gt-inline-edit-notice\">{{gtTexts.inlineEditEdited}}</span>\n          </ng-template>\n          <gt-dropdown\n            *ngIf=\"(gtFields | gtProperty:column.objectKey:'inlineEdit') && [true,'email','number','password'].indexOf(gtFields | gtProperty:column.objectKey:'inlineEdit') === -1\"\n            [options]=\"gtFields | gtProperty:column.objectKey:'inlineEdit'\"\n            [id]=\"'_' + row.$$gtRowId + '_' + column.objectKey\"\n            [(selected)]=\"column.renderValue\" (selectedChange)=\"gtDropdownSelect(row, column)\">Add\n            inline editing module\n          </gt-dropdown>\n        </ng-template>\n        <gt-checkbox *ngIf=\"column.columnComponent && column.columnComponent.type === 'checkbox'\" [checked]=\"metaInfo[row.$$gtRowId]?.isSelected\" (changed)=\"toggleSelect(row)\"></gt-checkbox>\n      </td>\n    </tr>\n    <tr class=\"row-expanded\" *ngIf=\"metaInfo[row.$$gtRowId]?.isOpen\">\n      <td [attr.colspan]=\"(gtFields | gtVisible:gtSettings:refreshPipe).length\">\n        <gt-expanding-row [row]=\"row\"\n                          [type]=\"expandedRow.component ? expandedRow.component:gtRowComponent\"\n                          [columnWidth]=\"columnWidth\"\n                          [gtFields]=\"gtFields\"\n                          [gtOptions]=\"gtOptions\"\n                          [gtEvent]=\"gtEvent\"\n                          [gtInfo]=\"gtInfo\"\n                          [gtSettings]=\"gtSettings\"\n                          [data]=\"expandedRow.data ? expandedRow.data:row\"\n                          (redrawEvent)=\"redraw($event)\"\n                          (toggleRowEvent)=\"toggleCollapse($event)\"></gt-expanding-row>\n      </td>\n    </tr>\n    <tr *ngIf=\"gtOptions.reportColumnWidth && last\">\n      <td style=\"padding: 0; border:none;\"\n          *ngFor=\"let column of gtSettings | gtVisible:gtSettings:refreshPipe\" gtColumnWidth\n          [objectKey]=\"column.objectKey\" [widths]=\"columnWidth\"></td>\n    </tr>\n  </ng-template>\n  <tr *ngIf=\"gtInfo.pageTotal === 0 && (gtInfo.searchTerms || gtInfo.filter) && !loading\">\n    <td class=\"gt-no-matching-results\" [attr.colspan]=\"(gtFields | gtVisible:gtSettings).length\">\n      {{gtTexts.noMatchingData}}\n    </td>\n  </tr>\n  <tr *ngIf=\"gtInfo.pageTotal === 0 && !(gtInfo.searchTerms || gtInfo.filter) && !loading\">\n    <td class=\"gt-no-results\" [attr.colspan]=\"(gtFields | gtVisible:gtSettings).length\">{{gtTexts.noData}}\n    </td>\n  </tr>\n  <tr *ngIf=\"gtInfo.pageTotal === 0 && loading\">\n    <td class=\"gt-loading-data\" [attr.colspan]=\"(gtFields | gtVisible:gtSettings).length\">{{gtTexts.loading}}</td>\n  </tr>\n  </tbody>\n</table>\n<table class=\"table\" ngClass=\"{{gtClasses}} {{gtOptions.stack ? 'table-stacked':''}}\"\n       *ngIf=\"gtFields && gtSettings && (gtFields | gtVisible:gtSettings:refreshPipe).length === 0\">\n  <thead>\n  <tr>\n    <th class=\"gt-no-visible-columns\">{{gtTexts.noVisibleColumnsHeading}}</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td class=\"gt-no-visible-columns\">{{gtTexts.noVisibleColumns}}</td>\n  </tr>\n  </tbody>\n</table>\n<table class=\"table\" ngClass=\"{{gtClasses}} {{gtOptions.stack ? 'table-stacked':''}}\"\n       *ngIf=\"!gtFields || !gtSettings\">\n  <thead>\n  <tr>\n    <th class=\"gt-loading-config\">&nbsp;</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td class=\"gt-loading-config\">&nbsp;</td>\n  </tr>\n  </tbody>\n</table>\n"
                    },] },
        ];
        /** @nocollapse */
        GenericTableComponent.ctorParameters = function () {
            return [
                { type: core.Renderer2, },
                { type: GtMetaPipe, },
            ];
        };
        GenericTableComponent.propDecorators = {
            "gtOptions": [{ type: core.Input },],
            "gtTotals": [{ type: core.Input },],
            "gtFields": [{ type: core.Input },],
            "gtSettings": [{ type: core.Input },],
            "gtData": [{ type: core.Input },],
            "gtRowComponent": [{ type: core.Input },],
            "gtTexts": [{ type: core.Input },],
            "gtClasses": [{ type: core.Input },],
            "gtEvent": [{ type: core.Output },],
            "gtInfo": [{ type: core.Input },],
        };
        return GenericTableComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtTableInfoComponent = /** @class */ (function () {
        function GtTableInfoComponent(_changeDetectionRef) {
            this._changeDetectionRef = _changeDetectionRef;
        }
        /**
         * @return {?}
         */
        GtTableInfoComponent.prototype.ngAfterViewChecked = /**
         * @return {?}
         */
            function () {
                this._changeDetectionRef.detectChanges();
            };
        GtTableInfoComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gt-table-info',
                        template: "<span *ngIf=\"genericTable.gtInfo\">{{(customText? customText:genericTable.gtTexts) | gtTableInfo:\n\t\tgenericTable.gtInfo:\n\t\tgenericTable.gtInfo.recordsAfterSearch:\n\t\tgenericTable.gtInfo.recordFrom:\n\t\tgenericTable.gtInfo.recordTo:\n\t\tgenericTable.gtInfo.recordsAll:\n\t\tgenericTable.gtTexts.loading:\n\t\tgenericTable.gtTexts.tableInfoAfterSearch}}</span>"
                    },] },
        ];
        /** @nocollapse */
        GtTableInfoComponent.ctorParameters = function () {
            return [
                { type: core.ChangeDetectorRef, },
            ];
        };
        GtTableInfoComponent.propDecorators = {
            "genericTable": [{ type: core.Input },],
            "customText": [{ type: core.Input },],
        };
        return GtTableInfoComponent;
    }());
    var TableInfoPipe = /** @class */ (function () {
        function TableInfoPipe() {
        }
        /**
         * @param {?} texts
         * @param {?} keys
         * @param {?} recordsAfterSearch
         * @param {?} recordFrom
         * @param {?} recordTo
         * @param {?} recordsAll
         * @param {?} loading
         * @param {?} tableInfoAfterSearch
         * @return {?}
         */
        TableInfoPipe.prototype.transform = /**
         * @param {?} texts
         * @param {?} keys
         * @param {?} recordsAfterSearch
         * @param {?} recordFrom
         * @param {?} recordTo
         * @param {?} recordsAll
         * @param {?} loading
         * @param {?} tableInfoAfterSearch
         * @return {?}
         */
            function (texts, keys, recordsAfterSearch, recordFrom, recordTo, recordsAll, loading, tableInfoAfterSearch) {
                var /** @type {?} */ text = typeof texts === 'object' ? texts.tableInfo : '';
                if (keys.recordsAfterSearch !== keys.recordsAll) {
                    text = typeof texts === 'object' ? texts.tableInfoAfterSearch : '';
                }
                for (var /** @type {?} */ key in keys) {
                    if (keys.hasOwnProperty(key)) {
                        var /** @type {?} */ searchString = new RegExp('#' + key, 'g');
                        text = text.replace(searchString, keys[key]);
                    }
                }
                return text;
            };
        TableInfoPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtTableInfo'
                    },] },
        ];
        return TableInfoPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtPaginationComponent = /** @class */ (function () {
        function GtPaginationComponent() {
            this.ready = false;
        }
        Object.defineProperty(GtPaginationComponent.prototype, "genericTable", {
            get: /**
             * @return {?}
             */ function () {
                return this._genericTable;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                var _this = this;
                if (value) {
                    value.gtEvent.subscribe(function (res) {
                        if (res.name === 'gt-info' && res.value.pageTotal > 0) {
                            _this.ready = true;
                        }
                    });
                }
                this._genericTable = value;
            },
            enumerable: true,
            configurable: true
        });
        GtPaginationComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gt-pagination',
                        template: "<nav class=\"gt-pagination\" aria-label=\"Table navigation\" *ngIf=\"genericTable && genericTable.gtInfo && ready && genericTable.gtData?.length > 0\" [ngClass]=\"{'no-data':genericTable.gtInfo.pageTotal === 0}\">\n  <ul class=\"pagination\" [ngClass]=\"gtClasses\">\n    <li class=\"page-item\" [ngClass]=\"{'disabled' : genericTable.gtInfo.pageCurrent === 1 || genericTable.loading }\"><a class=\"page-link\" href=\"javascript:void(0);\" (click)=\"genericTable.gtInfo.pageCurrent > 1 && genericTable.previousPage()\" [attr.aria-label]=\"genericTable.gtTexts.paginatePrevious\"><span aria-hidden=\"true\">&laquo;</span><span class=\"sr-only\">{{genericTable.gtTexts.paginatePrevious}}</span></a></li>\n    <li class=\"page-item\" [ngClass]=\"{'disabled' : genericTable.loading && genericTable.gtInfo.pageCurrent !== page, 'active' : genericTable.gtInfo.pageCurrent === page }\" *ngFor=\"let page of genericTable.gtInfo.pageTotal | gtPaginationPipe:genericTable.gtInfo.pageCurrent\"><a class=\"page-link\" [tabindex]=\"page === true ? -1:0\" href=\"javascript:void(0);\" (click)=\"page === true ? '':genericTable.goToPage(page)\">{{page === true ? '&hellip;':page}}</a></li>\n    <li class=\"page-item\" [ngClass]=\"{'disabled' : genericTable.gtInfo.pageCurrent === genericTable.gtInfo.pageTotal || genericTable.loading }\"><a class=\"page-link gt-link\" href=\"javascript:void(0);\" (click)=\"genericTable.gtInfo.pageCurrent !== genericTable.gtInfo.pageTotal && genericTable.nextPage()\" [attr.aria-label]=\"genericTable.gtTexts.paginateNext\"><span aria-hidden=\"true\">&raquo;</span><span class=\"sr-only\">{{genericTable.gtTexts.paginateNext}}</span></a></li>\n  </ul>\n  </nav>\n    ",
                        styles: ['.gt-link {cursor: pointer;}']
                    },] },
        ];
        /** @nocollapse */
        GtPaginationComponent.propDecorators = {
            "genericTable": [{ type: core.Input },],
            "gtClasses": [{ type: core.Input },],
        };
        return GtPaginationComponent;
    }());
    var PaginationPipe = /** @class */ (function () {
        function PaginationPipe() {
        }
        /**
         * @param {?} totalPages
         * @param {?} currentPage
         * @return {?}
         */
        PaginationPipe.prototype.transform = /**
         * @param {?} totalPages
         * @param {?} currentPage
         * @return {?}
         */
            function (totalPages, currentPage) {
                if (totalPages === 0) {
                    return [1];
                }
                var /** @type {?} */ pagination = []; // create new empty array for pagination
                var /** @type {?} */ siblings = 2; // sibling elements ie. number of elements on each side of current page
                var /** @type {?} */ paginationLength = totalPages < siblings * 2 + 1 ? totalPages : siblings * 2 + 1; // number of elements in pagination array
                var /** @type {?} */ start = currentPage <= siblings ? 1 : currentPage - siblings; // starting position for array
                var /** @type {?} */ modifier = totalPages - (currentPage + siblings) <= 0
                    ? totalPages - (currentPage + siblings)
                    : 0; // modifier for pagination values
                var /** @type {?} */ modifiedPosition = start + modifier <= 0 ? 1 : start + modifier;
                // push pages to pagination array
                for (var /** @type {?} */ i = 0; i < paginationLength; i++) {
                    pagination.push(modifiedPosition + i);
                }
                // if first page is not included in pagination...
                if (pagination.indexOf(1) === -1) {
                    // ...check if second page is in pagination...
                    if (pagination.indexOf(2) === -1) {
                        // ...if not check if total number of pages equals seven and number of siblings are two...
                        if (totalPages === 7 && siblings === 2) {
                            // ...add second page and don't convert page number to ellipsis
                            pagination.unshift(2);
                        }
                        else {
                            // ...if not, use this placeholder for ellipsis instead of actual page number
                            pagination[0] = true;
                        }
                    }
                    // ...add first page as first array item
                    pagination.unshift(1);
                }
                else if (totalPages > paginationLength) {
                    // if first page is included add extra page to keep number of items consistent
                    pagination.splice(paginationLength, 0, paginationLength + 1);
                }
                // check if last page is included in pagination...
                if (pagination.indexOf(totalPages) === -1) {
                    // ...if not, page next to last should either show ellipsis or actual page number for the page
                    pagination[pagination.length - 1] =
                        pagination[pagination.length - 1] === totalPages - 1
                            ? totalPages - 1
                            : true;
                    // ...add last page to pagination
                    pagination.push(totalPages);
                }
                return pagination;
            };
        PaginationPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtPaginationPipe'
                    },] },
        ];
        return PaginationPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtDrilldownComponent = /** @class */ (function (_super) {
        __extends(GtDrilldownComponent, _super);
        function GtDrilldownComponent() {
            return _super.call(this) || this;
        }
        /**
         * @return {?}
         */
        GtDrilldownComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () { };
        GtDrilldownComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gt-drilldown',
                        template: "\n      <table class=\"table\">\n          <tr *ngFor=\"let row of data\" (click)=\"$rowClick(row, $event)\">\n              <!--<td *ngFor=\"let column of gtSettings\" [style.width]=\"columnWidth[column.objectKey]\">{{column.objectKey}}</td>-->\n              <td *ngFor=\"let column of row | gtRender:gtSettings:gtFields:null:null:gtOptions.highlightSearch:gtInfo.searchTerms;\"\n                  ngClass=\"{{column.objectKey +'-column' | dashCase}} {{gtFields | gtProperty:column.objectKey:'classNames'}} {{(gtFields | gtProperty:column.objectKey:'inlineEdit') ? 'gt-inline-edit':''}} {{column.edited ? 'gt-edited':''}} {{ gtFields | gtColumnClass:row:column }}\" [style.width]=\"columnWidth[column.objectKey]\" [style.max-width]=\"columnWidth[column.objectKey]\">\n                        <span class=\"gt-row-label\"\n                              *ngIf=\"gtOptions.stack\">{{(gtFields | gtProperty:column.objectKey:'stackedHeading') ? (gtFields | gtProperty:column.objectKey:'stackedHeading') : (gtFields | gtProperty:column.objectKey:'name')}}</span>\n                  <gt-custom-component-factory *ngIf=\"column.columnComponent\" class=\"gt-row-content\"\n                                               [type]=\"column.columnComponent.type\"\n                                               [injector]=\"column.columnComponent.injector\" [row]=\"row\"\n                                               [column]=\"column\" (redrawEvent)=\"$redraw($event)\"\n                                               (click)=\"column.click ? column.click(row,column,$event):'';\"></gt-custom-component-factory>\n                  <span *ngIf=\"!column.columnComponent\"\n                        class=\"gt-row-content\" [innerHTML]=\"column.renderValue\"\n                        (click)=\"column.click ? column.click(row,column,$event):''\"></span>\n              </td>\n\n          </tr>\n      </table>\n  ",
                        styles: []
                    },] },
        ];
        /** @nocollapse */
        GtDrilldownComponent.ctorParameters = function () { return []; };
        return GtDrilldownComponent;
    }(GtExpandedRow));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtHighlightPipe = /** @class */ (function () {
        function GtHighlightPipe(sanitizer) {
            this.sanitizer = sanitizer;
        }
        /**
         * @param {?} text
         * @param {?} searchTerm
         * @return {?}
         */
        GtHighlightPipe.prototype.transform = /**
         * @param {?} text
         * @param {?} searchTerm
         * @return {?}
         */
            function (text, searchTerm) {
                var /** @type {?} */ haystackAlwaysString = text + '';
                var /** @type {?} */ highlightedText = haystackAlwaysString; // fallback
                var /** @type {?} */ searchPattern;
                try {
                    searchPattern = new RegExp('(' +
                        searchTerm
                            .toLowerCase()
                            .match(/".*?"|[^ ]+/g) // extract words
                            .map(function (needle) { return needle.replace(/"(.*?)"/, '$1'); } // strip away '"'
                        // strip away '"'
                        )
                            .join('|') + // combine words
                        ')', 'ig');
                }
                catch ( /** @type {?} */error) {
                    return this.sanitizer.bypassSecurityTrustHtml(highlightedText);
                }
                var /** @type {?} */ containsTagPattern = /(<.*?>)(.*)(<\/.*?>)/gi;
                var /** @type {?} */ containsTagMatches = containsTagPattern.exec(haystackAlwaysString);
                if (containsTagMatches) {
                    // tag exists in haystack
                    highlightedText =
                        containsTagMatches[1] +
                            containsTagMatches[2].replace(searchPattern, '<span class="gt-highlight-search">$1</span>') +
                            containsTagMatches[3];
                }
                else {
                    highlightedText = haystackAlwaysString.replace(searchPattern, '<span class="gt-highlight-search">$1</span>');
                }
                return this.sanitizer.bypassSecurityTrustHtml(highlightedText);
            };
        GtHighlightPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtHighlight'
                    },] },
        ];
        /** @nocollapse */
        GtHighlightPipe.ctorParameters = function () {
            return [
                { type: platformBrowser.DomSanitizer, },
            ];
        };
        return GtHighlightPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    // unsupported: template constraints.
    /**
     * @template R
     */
    var GtRenderPipe = /** @class */ (function () {
        function GtRenderPipe(sanitizer, gtHighlightPipe) {
            this.sanitizer = sanitizer;
            this.gtHighlightPipe = gtHighlightPipe;
            /**
             * Sort by column order
             */
            this.getColumnOrder = function (a, b) {
                if (a.columnOrder < b.columnOrder) {
                    return -1;
                }
                if (a.columnOrder > b.columnOrder || typeof a.columnOrder === 'undefined') {
                    return 1;
                }
                return 0;
            };
            /**
             * Sort by length
             */
            this.getOrderByLength = function (a, b) {
                return b.length - a.length;
            };
            /**
             * Return property
             */
            this.getProperty = function (array, key) {
                for (var /** @type {?} */ i = 0; i < array.length; i++) {
                    if (array[i].objectKey === key) {
                        return array[i];
                    }
                }
            };
        }
        /**
         * @param {?} row
         * @param {?} settings
         * @param {?} fields
         * @param {?} updated
         * @param {?} loading
         * @param {?=} highlight
         * @param {?=} searchString
         * @return {?}
         */
        GtRenderPipe.prototype.transform = /**
         * @param {?} row
         * @param {?} settings
         * @param {?} fields
         * @param {?} updated
         * @param {?} loading
         * @param {?=} highlight
         * @param {?=} searchString
         * @return {?}
         */
            function (row, settings, fields, updated, loading, highlight, searchString) {
                if (highlight === void 0) {
                    highlight = false;
                }
                // let arr = [{"temp":123,"name":"happy"},{"temp":456,"name":"dfgdfg"},{"temp":789,"name":"asdasd"}];
                // console.log(arr,arr.map(function(item){return item.temp}));
                // console.log(settings.map('objectKey'));
                // console.log('render');
                var /** @type {?} */ columns = [];
                for (var /** @type {?} */ i = 0; i < settings.length; i++) {
                    if (settings[i].visible !== false && settings[i].enabled !== false) {
                        columns.push(settings[i].objectKey);
                    }
                }
                for (var /** @type {?} */ i = 0; i < fields.length; i++) {
                    // console.log(!row[fields[i].objectKey]);
                    if (fields[i].value &&
                        typeof fields[i].value === 'function' &&
                        !row.hasOwnProperty(fields[i].objectKey)) {
                        row[fields[i].objectKey] = loading ? '' : fields[i].value(row);
                    }
                }
                // console.log(row);
                var /** @type {?} */ keys = [];
                for (var /** @type {?} */ key in row) {
                    // console.log(key);
                    if (columns.indexOf(key) !== -1) {
                        var /** @type {?} */ fieldSetting = void 0;
                        for (var /** @type {?} */ i = 0; i < fields.length; i++) {
                            if (fields[i].objectKey === key) {
                                fieldSetting = fields[i];
                                // console.log(fieldSetting);
                            }
                        }
                        var /** @type {?} */ columnObject = {
                            objectKey: key,
                            sortValue: row[key]
                        };
                        // add component if defined
                        if (fieldSetting.columnComponent) {
                            columnObject.columnComponent = fieldSetting.columnComponent;
                        }
                        if (loading) {
                            columnObject.renderValue = row[key] !== null ? row[key] : '';
                        }
                        else if (highlight &&
                            searchString &&
                            this.getProperty(settings, key).search !== false) {
                            columnObject.renderValue =
                                fieldSetting.render && typeof fieldSetting.render === 'function'
                                    ? this.gtHighlightPipe.transform(fieldSetting.render(row), searchString)
                                    : this.gtHighlightPipe.transform(row[key] !== null ? row[key] : '', searchString);
                        }
                        else {
                            columnObject.renderValue =
                                fieldSetting.render && typeof fieldSetting.render === 'function'
                                    ? this.sanitizer.bypassSecurityTrustHtml(fieldSetting.render(row))
                                    : row[key] !== null
                                        ? row[key]
                                        : '';
                        }
                        if (fieldSetting.click && typeof fieldSetting.click === 'function') {
                            columnObject.click = fieldSetting.click;
                        }
                        if (fieldSetting.expand) {
                            columnObject.expand = fieldSetting.expand;
                        }
                        keys.push(columnObject);
                    }
                }
                keys.sort(function (a, b) {
                    return columns.indexOf(a.objectKey) < columns.indexOf(b.objectKey)
                        ? -1
                        : 1;
                });
                return keys;
            };
        GtRenderPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtRender'
                    },] },
        ];
        /** @nocollapse */
        GtRenderPipe.ctorParameters = function () {
            return [
                { type: platformBrowser.DomSanitizer, },
                { type: GtHighlightPipe, },
            ];
        };
        return GtRenderPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    // unsupported: template constraints.
    /**
     * @template R
     */
    var GtVisiblePipe = /** @class */ (function () {
        function GtVisiblePipe() {
            /**
             * Sort by column order
             */
            this.getColumnOrder = function (a, b) {
                if (a.columnOrder < b.columnOrder) {
                    return -1;
                }
                if (a.columnOrder > b.columnOrder || typeof a.columnOrder === 'undefined') {
                    return 1;
                }
                return 0;
            };
        }
        /**
         * @param {?} array
         * @param {?} settings
         * @param {?=} refreshPipe
         * @return {?}
         */
        GtVisiblePipe.prototype.transform = /**
         * @param {?} array
         * @param {?} settings
         * @param {?=} refreshPipe
         * @return {?}
         */
            function (array, settings, refreshPipe) {
                var /** @type {?} */ visibleColumns = settings
                    .sort(this.getColumnOrder)
                    .map(function (setting) {
                    if (setting.visible !== false && setting.enabled !== false) {
                        return setting.objectKey;
                    }
                });
                return array
                    .filter(function (column) {
                    return visibleColumns.indexOf(column.objectKey) !== -1;
                })
                    .sort(function (a, b) {
                    return visibleColumns.indexOf(a.objectKey) <
                        visibleColumns.indexOf(b.objectKey)
                        ? -1
                        : 1;
                });
            };
        GtVisiblePipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtVisible'
                    },] },
        ];
        return GtVisiblePipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var DashCasePipe = /** @class */ (function () {
        function DashCasePipe() {
        }
        /**
         * @param {?} string
         * @return {?}
         */
        DashCasePipe.prototype.transform = /**
         * @param {?} string
         * @return {?}
         */
            function (string) {
                return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();
            };
        DashCasePipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'dashCase'
                    },] },
        ];
        return DashCasePipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    // unsupported: template constraints.
    /**
     * @template R
     */
    var GtPropertyPipe = /** @class */ (function () {
        function GtPropertyPipe() {
        }
        /**
         * @param {?} config
         * @param {?} objectKey
         * @param {?} property
         * @param {?=} refresh
         * @return {?}
         */
        GtPropertyPipe.prototype.transform = /**
         * @param {?} config
         * @param {?} objectKey
         * @param {?} property
         * @param {?=} refresh
         * @return {?}
         */
            function (config, objectKey, property, refresh) {
                var /** @type {?} */ output = null;
                try {
                    for (var /** @type {?} */ i = 0; i < config.length; i++) {
                        if (config[i].objectKey === objectKey) {
                            output = config[i][property];
                        }
                    }
                }
                catch ( /** @type {?} */error) {
                    console.log('cannot read property: "' +
                        property +
                        '" on missing key: "' +
                        objectKey +
                        '" in config.', error);
                }
                return output;
            };
        GtPropertyPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtProperty'
                    },] },
        ];
        return GtPropertyPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtChunkPipe = /** @class */ (function () {
        function GtChunkPipe() {
        }
        /**
         * @param {?} array
         * @param {?} gtInfo
         * @param {?} chunkSize
         * @param {?} page
         * @param {?} refreshPageArray
         * @param {?} refreshData
         * @param {?} gtEvent
         * @param {?} data
         * @return {?}
         */
        GtChunkPipe.prototype.transform = /**
         * @param {?} array
         * @param {?} gtInfo
         * @param {?} chunkSize
         * @param {?} page
         * @param {?} refreshPageArray
         * @param {?} refreshData
         * @param {?} gtEvent
         * @param {?} data
         * @return {?}
         */
            function (array, gtInfo, chunkSize, page, refreshPageArray, refreshData, gtEvent, data) {
                if (!Array.isArray(array)) {
                    return array;
                }
                data.exportData = array; // store data for export
                var /** @type {?} */ PAGES = [];
                var /** @type {?} */ ENTRIES = array.length;
                for (var /** @type {?} */ i = 0; i < ENTRIES; i += chunkSize) {
                    PAGES.push(array.slice(i, i + chunkSize));
                }
                gtInfo.visibleRecords = !PAGES[page - 1] ? [] : __spread(PAGES[page - 1]); // add visible rows
                gtInfo.pageTotal = PAGES.length; // add number of pages
                setTimeout(function () {
                    return gtEvent.emit({
                        name: 'gt-info',
                        value: gtInfo
                    });
                }, 0);
                return PAGES[page - 1];
            };
        GtChunkPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtChunk'
                    },] },
        ];
        return GtChunkPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtFilterPipe = /** @class */ (function () {
        function GtFilterPipe() {
        }
        // @Output() filterInfo = new EventEmitter();
        /**
         * @param {?} allRows
         * @param {?} filterBy
         * @param {?} gtInfo
         * @param {?} refreshFilter
         * @param {?} refreshData
         * @return {?}
         */
        GtFilterPipe.prototype.transform = /**
         * @param {?} allRows
         * @param {?} filterBy
         * @param {?} gtInfo
         * @param {?} refreshFilter
         * @param {?} refreshData
         * @return {?}
         */
            function (allRows, filterBy, gtInfo, refreshFilter, refreshData) {
                // console.log(allRows,filterBy);
                gtInfo.recordsAll = allRows.length;
                if (!Array.isArray(allRows) || !filterBy) {
                    // gtInfo.filtered = false;
                    var /** @type {?} */ length_1 = allRows === null ? 0 : allRows.length;
                    gtInfo.recordsAfterFilter = length_1;
                    return allRows;
                }
                var /** @type {?} */ output = [];
                for (var /** @type {?} */ i = 0; i < allRows.length; i++) {
                    var /** @type {?} */ rowObject = allRows[i];
                    var /** @type {?} */ match = true;
                    for (var /** @type {?} */ property in filterBy) {
                        if (filterBy.hasOwnProperty(property)) {
                            // console.log(property);
                            // console.log(filter[property].indexOf(obj[property]));
                            if (filterBy[property].indexOf(rowObject[property]) === -1) {
                                match = false;
                            }
                        }
                    }
                    if (match) {
                        output.push(rowObject);
                    }
                }
                gtInfo.recordsAfterFilter = output.length; // .emit(output.length);
                return output;
            };
        GtFilterPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtFilter'
                    },] },
        ];
        return GtFilterPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    // unsupported: template constraints.
    /**
     * @template R
     */
    var GtOrderByPipe = /** @class */ (function () {
        function GtOrderByPipe() {
            /**
             * Return property
             */
            this.getProperty = function (array, key) {
                for (var /** @type {?} */ i = 0; i < array.length; i++) {
                    if (array[i].objectKey === key) {
                        return array[i];
                    }
                }
            };
        }
        /**
         * @param {?} a
         * @param {?} b
         * @return {?}
         */
        GtOrderByPipe._orderByComparator = /**
         * @param {?} a
         * @param {?} b
         * @return {?}
         */
            function (a, b) {
                // sort boolean values as strings
                if (typeof a === 'boolean') {
                    a = a.toString();
                }
                if (typeof b === 'boolean') {
                    b = b.toString();
                }
                if (isNaN(parseFloat(a)) ||
                    !isFinite(a) ||
                    (isNaN(parseFloat(b)) || !isFinite(b))) {
                    if (b === null ||
                        (typeof b === 'undefined' && (a !== null && typeof a !== 'undefined'))) {
                        return 1;
                    }
                    if (a === null ||
                        (typeof a === 'undefined' && (b !== null && typeof b !== 'undefined'))) {
                        return -1;
                    }
                    // isn't a number so lowercase the string to properly compare
                    try {
                        if (a.toLowerCase() < b.toLowerCase()) {
                            return -1;
                        }
                        if (a.toLowerCase() > b.toLowerCase()) {
                            return 1;
                        }
                    }
                    catch ( /** @type {?} */error) {
                        return 0;
                    }
                }
                else {
                    // parse strings as numbers to compare properly
                    if (parseFloat(a) < parseFloat(b)) {
                        return -1;
                    }
                    if (parseFloat(a) > parseFloat(b)) {
                        return 1;
                    }
                }
                return 0; // equal each other
            };
        /**
         * Return sort function
         * @param {?} field
         * @return {?}
         */
        GtOrderByPipe.prototype.getSortFunction = /**
         * Return sort function
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (!field) {
                    // console.log('error trying to sort undefined field');
                    return false;
                }
                if (typeof field.sort === 'function') {
                    return field.sort;
                }
                else if (typeof field.value === 'function') {
                    return field.value;
                }
                else {
                    return false;
                }
            };
        /**
         * @param {?} input
         * @param {?} sortByProperties
         * @param {?} fields
         * @param {?} refreshSorting
         * @param {?} refreshData
         * @return {?}
         */
        GtOrderByPipe.prototype.transform = /**
         * @param {?} input
         * @param {?} sortByProperties
         * @param {?} fields
         * @param {?} refreshSorting
         * @param {?} refreshData
         * @return {?}
         */
            function (input, sortByProperties, fields, refreshSorting, refreshData) {
                var _this = this;
                if (!Array.isArray(input) || input === null) {
                    return input;
                }
                if (!Array.isArray(sortByProperties) ||
                    (Array.isArray(sortByProperties) && sortByProperties.length === 1)) {
                    var /** @type {?} */ propertyToCheck = sortByProperties[0];
                    var /** @type {?} */ desc_1 = propertyToCheck.substr(0, 1) === '-';
                    // basic array
                    if (!propertyToCheck ||
                        propertyToCheck === '-' ||
                        propertyToCheck === '+') {
                        return !desc_1 ? input.sort() : input.sort().reverse();
                    }
                    else {
                        var /** @type {?} */ property_1 = propertyToCheck.substr(0, 1) === '+' ||
                            propertyToCheck.substr(0, 1) === '-'
                            ? propertyToCheck.substr(1)
                            : propertyToCheck;
                        // check if custom sort function is defined
                        var /** @type {?} */ sortFunction_1 = this.getSortFunction(this.getProperty(fields, property_1));
                        // console.log(property);
                        return input.sort(function (a, b) {
                            // use custom sort function if one is defined
                            var /** @type {?} */ propertyA = sortFunction_1 === false
                                ? property_1 === '$$gtRowId'
                                    ? +a.$$gtRowId.split('_')[0]
                                    : a[property_1]
                                : sortFunction_1(a);
                            var /** @type {?} */ propertyB = sortFunction_1 === false
                                ? property_1 === '$$gtRowId'
                                    ? +b.$$gtRowId.split('_')[0]
                                    : b[property_1]
                                : sortFunction_1(b);
                            // if both values are undefined...
                            if (typeof propertyA === 'undefined' &&
                                typeof propertyB === 'undefined') {
                                // ...skip comparison
                                return;
                            }
                            return !desc_1
                                ? GtOrderByPipe._orderByComparator(propertyA, propertyB)
                                : -GtOrderByPipe._orderByComparator(propertyA, propertyB);
                        });
                    }
                }
                else {
                    // loop over property of the array in order and sort
                    return input.sort(function (a, b) {
                        // console.log('multiple');
                        for (var /** @type {?} */ i = 0; i < sortByProperties.length; i++) {
                            var /** @type {?} */ desc = sortByProperties[i].substr(0, 1) === '-';
                            var /** @type {?} */ property = sortByProperties[i].substr(0, 1) === '+' ||
                                sortByProperties[i].substr(0, 1) === '-'
                                ? sortByProperties[i].substr(1)
                                : sortByProperties[i];
                            // console.log(property);
                            // check if custom sort function is defined
                            var /** @type {?} */ sortFunction = _this.getSortFunction(_this.getProperty(fields, property));
                            // use custom sort function if one is defined
                            var /** @type {?} */ propertyA = sortFunction === false
                                ? property === '$$gtRowId'
                                    ? +a.$$gtRowId.split('_')[0]
                                    : a[property]
                                : sortFunction(a);
                            var /** @type {?} */ propertyB = sortFunction === false
                                ? property === '$$gtRowId'
                                    ? +b.$$gtRowId.split('_')[0]
                                    : b[property]
                                : sortFunction(b);
                            var /** @type {?} */ comparison = !desc
                                ? GtOrderByPipe._orderByComparator(propertyA, propertyB)
                                : -GtOrderByPipe._orderByComparator(propertyA, propertyB);
                            // don't return 0 yet in case of needing to sort by next property
                            if (comparison !== 0) {
                                return comparison;
                            }
                        }
                        return 0; // equal each other
                    });
                }
            };
        GtOrderByPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtOrderBy'
                    },] },
        ];
        return GtOrderByPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    // unsupported: template constraints.
    /**
     * @template R
     */
    var GtSearchPipe = /** @class */ (function () {
        function GtSearchPipe() {
            /**
             * Return property
             */
            this.getProperty = function (array, key) {
                for (var /** @type {?} */ i = 0; i < array.length; i++) {
                    if (array[i].objectKey === key) {
                        return array[i];
                    }
                }
            };
        }
        /**
         * @param {?} allRows
         * @param {?} searchTerms
         * @param {?} gtInfo
         * @param {?} settings
         * @param {?} fields
         * @param {?} refreshData
         * @return {?}
         */
        GtSearchPipe.prototype.transform = /**
         * @param {?} allRows
         * @param {?} searchTerms
         * @param {?} gtInfo
         * @param {?} settings
         * @param {?} fields
         * @param {?} refreshData
         * @return {?}
         */
            function (allRows, searchTerms, gtInfo, settings, fields, refreshData) {
                //  if no search terms are defined...
                if (!searchTerms || searchTerms.replace(/"/g, '').length === 0) {
                    // ...return all rows
                    var /** @type {?} */ length_1 = allRows === null ? 0 : allRows.length;
                    gtInfo.recordsAfterSearch = length_1;
                    return allRows;
                }
                var /** @type {?} */ searchFunction = {};
                var /** @type {?} */ fieldsTemp = [];
                for (var /** @type {?} */ k = 0; k < fields.length; k++) {
                    var /** @type {?} */ field = fields[k];
                    // check if field should be included in global search
                    var /** @type {?} */ include = this.getProperty(settings, field.objectKey).search === false
                        ? false
                        : true;
                    // if include...
                    if (include) {
                        // ...and if search function is defined...
                        if (typeof field.search === 'function') {
                            // ...add it as search function for field
                            searchFunction[field.objectKey] = field.search;
                        }
                        // ...if no search function is defined but value function is defined...
                        else if (typeof field.value === 'function') {
                            // ...add it as search function for field
                            searchFunction[field.objectKey] = field.value;
                        }
                        // ...push it to our fields array
                        fieldsTemp.push(field);
                    }
                }
                var /** @type {?} */ filteredRows = [];
                searchTerms = typeof searchTerms === 'undefined' ? '' : searchTerms;
                var /** @type {?} */ searchTermsArray = searchTerms.toLowerCase().match(/(".*"|[^\s]+)/g);
                for (var /** @type {?} */ i = 0; i < allRows.length; i++) {
                    var /** @type {?} */ row = allRows[i];
                    var /** @type {?} */ string = '';
                    for (var /** @type {?} */ j = 0; j < fieldsTemp.length; j++) {
                        var /** @type {?} */ separator = j === 0 ? '' : ' & ';
                        string += searchFunction[fieldsTemp[j].objectKey]
                            ? separator + searchFunction[fieldsTemp[j].objectKey](row, j)
                            : separator + row[fieldsTemp[j].objectKey];
                    }
                    string = string.toLowerCase();
                    var /** @type {?} */ match = true;
                    for (var /** @type {?} */ k = 0; k < searchTermsArray.length; k++) {
                        var /** @type {?} */ term = searchTermsArray[k].replace(/"/g, '');
                        match = string.indexOf(term) !== -1;
                        if (!match) {
                            break;
                        }
                    }
                    if (match) {
                        filteredRows.push(row);
                    }
                }
                gtInfo.recordsAfterSearch = filteredRows.length;
                // gtInfo.refresh(filteredRows.length,gt);
                return filteredRows;
            };
        GtSearchPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtSearch'
                    },] },
        ];
        return GtSearchPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @template C
     */
    var ComponentAnchorDirective = /** @class */ (function () {
        function ComponentAnchorDirective(componentFactoryResolver, viewContainer) {
            this.componentFactoryResolver = componentFactoryResolver;
            this.viewContainer = viewContainer;
            this.instance = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        ComponentAnchorDirective.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var /** @type {?} */ factory = this.componentFactoryResolver.resolveComponentFactory(this.ctor);
                var /** @type {?} */ component = this.viewContainer.createComponent(factory, 0, this.injector);
                this.instance.emit(component.instance);
            };
        ComponentAnchorDirective.decorators = [
            { type: core.Directive, args: [{
                        selector: '[gtComponentAnchor]'
                    },] },
        ];
        /** @nocollapse */
        ComponentAnchorDirective.ctorParameters = function () {
            return [
                { type: core.ComponentFactoryResolver, },
                { type: core.ViewContainerRef, },
            ];
        };
        ComponentAnchorDirective.propDecorators = {
            "ctor": [{ type: core.Input },],
            "injector": [{ type: core.Input },],
            "instance": [{ type: core.Output },],
        };
        return ComponentAnchorDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @abstract
     * @template R
     */
    var /**
     * @abstract
     * @template R
     */ GtCustomComponent = /** @class */ (function () {
        function GtCustomComponent() {
            this.redrawEvent = new core.EventEmitter();
            this.$searchTerms = new ReplaySubject.ReplaySubject(1);
        }
        /**
         * @param {?=} $event
         * @return {?}
         */
        GtCustomComponent.prototype.$redraw = /**
         * @param {?=} $event
         * @return {?}
         */
            function ($event) {
                this.redrawEvent.emit({ row: this.row, column: this.column });
            };
        /**
         * @return {?}
         */
        GtCustomComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.$searchTerms.subscribe(function (terms) { return (_this.searchTerms = terms); });
            };
        return GtCustomComponent;
    }());
    // unsupported: template constraints.
    /**
     * @template R, C
     */
    var GtCustomComponentFactory = /** @class */ (function () {
        function GtCustomComponentFactory() {
            this.$searchTerms = new ReplaySubject.ReplaySubject(1);
            this.redrawEvent = new core.EventEmitter();
        }
        Object.defineProperty(GtCustomComponentFactory.prototype, "searchTerms", {
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this.$searchTerms.next(value);
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @param {?} instance
         * @return {?}
         */
        GtCustomComponentFactory.prototype.instance = /**
         * @param {?} instance
         * @return {?}
         */
            function (instance) {
                instance.row = this.row;
                instance.column = this.column;
                instance.$searchTerms = this.$searchTerms;
                instance.redrawEvent.subscribe(this.redrawEvent);
            };
        GtCustomComponentFactory.decorators = [
            { type: core.Component, args: [{
                        selector: 'gt-custom-component-factory',
                        template: "<div gtComponentAnchor [ctor]=\"type\"\n                    [injector]=\"injector\"\n                    (instance)=\"instance($event)\"></div>"
                    },] },
        ];
        /** @nocollapse */
        GtCustomComponentFactory.propDecorators = {
            "searchTerms": [{ type: core.Input },],
            "type": [{ type: core.Input },],
            "injector": [{ type: core.Input },],
            "row": [{ type: core.Input },],
            "column": [{ type: core.Input },],
            "redrawEvent": [{ type: core.Output },],
        };
        return GtCustomComponentFactory;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtDropdownComponent = /** @class */ (function () {
        function GtDropdownComponent(renderer) {
            this.renderer = renderer;
            this.selectedChange = new core.EventEmitter();
            this.active = false;
            this.state = new Subject.Subject();
        }
        Object.defineProperty(GtDropdownComponent.prototype, "selected", {
            get: /**
             * @return {?}
             */ function () {
                return this._selected;
            },
            set: /**
             * @param {?} selection
             * @return {?}
             */ function (selection) {
                this._selected = selection;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @param {?} option
         * @return {?}
         */
        GtDropdownComponent.prototype.select = /**
         * @param {?} option
         * @return {?}
         */
            function (option) {
                this.active = false;
                this.state.next(this.active);
                if (this._selected !== option) {
                    this.selectedChange.emit(option);
                }
            };
        /**
         * @return {?}
         */
        GtDropdownComponent.prototype.toggleDropdown = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.active = !this.active;
                setTimeout(function () {
                    _this.state.next(_this.active);
                }, 0);
            };
        /**
         * @return {?}
         */
        GtDropdownComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.state.subscribe(function (state) {
                    if (state) {
                        _this.tether = new Tether({
                            element: '#' + _this.id + '_menu',
                            target: '#' + _this.id,
                            attachment: 'top left',
                            targetAttachment: 'bottom left',
                            constraints: [
                                {
                                    to: 'window',
                                    attachment: 'together'
                                }
                            ]
                        });
                        _this.tether.position();
                        // set up click listener and listen for click outside dropdown
                        // set up click listener and listen for click outside dropdown
                        _this.clickListener = _this.renderer.listen('document', 'click', function (event) {
                            _this.active = false;
                            _this.state.next(_this.active);
                        });
                        // set up keyboard listener and listen for escape key up
                        // set up keyboard listener and listen for escape key up
                        _this.keyupListener = _this.renderer.listen('document', 'keyup', function (event) {
                            switch (event.key) {
                                case 'Escape':
                                    _this.active = false;
                                    _this.state.next(_this.active);
                                    break;
                            }
                        });
                    }
                    else {
                        _this.tether.destroy();
                        _this.removeListeners();
                    }
                });
            };
        /**
         * @return {?}
         */
        GtDropdownComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.removeListeners();
            };
        /**
         * @return {?}
         */
        GtDropdownComponent.prototype.removeListeners = /**
         * @return {?}
         */
            function () {
                if (this.clickListener) {
                    this.clickListener();
                }
                if (this.keyupListener) {
                    this.keyupListener();
                }
            };
        GtDropdownComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gt-dropdown',
                        template: "\n    <div class=\"dropdown gt-dropdown\" [ngClass]=\"{'show':active}\" [attr.id]=\"id\">\n      <div class=\"dropdown-toggle\" (click)=\"toggleDropdown()\" [attr.aria-expanded]=\"active\">{{selected}}</div>\n      <div class=\"gt-dropdown-menu dropdown-menu\" *ngIf=\"active\" [ngClass]=\"{'show':active}\" [attr.id]=\"id+'_menu'\">\n        <button *ngFor=\"let option of options;\" class=\"dropdown-item\" (click)=\"select(option)\" [ngClass]=\"{'active':option === selected}\">{{option}}</button>\n      </div>\n    </div>\n  ",
                        styles: [
                            "\n    .gt-dropdown .dropdown-toggle {\n      cursor: pointer;\n    }\n    .gt-dropdown .dropdown-toggle::after {\n      transition: opacity 0.4s ease-in-out;\n      opacity: 0;\n    }\n    .gt-dropdown .dropdown-toggle:hover::after {\n      opacity: 1;\n    }\n  "
                        ]
                    },] },
        ];
        /** @nocollapse */
        GtDropdownComponent.ctorParameters = function () {
            return [
                { type: core.Renderer2, },
            ];
        };
        GtDropdownComponent.propDecorators = {
            "selected": [{ type: core.Input },],
            "options": [{ type: core.Input },],
            "id": [{ type: core.Input },],
            "selectedChange": [{ type: core.Output },],
        };
        return GtDropdownComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtTotalsPipe = /** @class */ (function () {
        function GtTotalsPipe() {
        }
        /**
         * @param {?} value
         * @param {?} data
         * @param {?} objectKey
         * @param {?} refresh
         * @return {?}
         */
        GtTotalsPipe.prototype.transform = /**
         * @param {?} value
         * @param {?} data
         * @param {?} objectKey
         * @param {?} refresh
         * @return {?}
         */
            function (value, data, objectKey, refresh) {
                var /** @type {?} */ output;
                if (data.length === 0) {
                    return;
                }
                if (typeof value === 'function') {
                    output = value(data, objectKey);
                }
                else if (value) {
                    output = value;
                }
                else {
                    output = '';
                }
                return output;
            };
        GtTotalsPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtTotals'
                    },] },
        ];
        return GtTotalsPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtTotalsPositionPipe = /** @class */ (function () {
        function GtTotalsPositionPipe() {
        }
        /**
         * @param {?} array
         * @param {?=} position
         * @return {?}
         */
        GtTotalsPositionPipe.prototype.transform = /**
         * @param {?} array
         * @param {?=} position
         * @return {?}
         */
            function (array, position) {
                if (position === void 0) {
                    position = 'header';
                }
                return array.filter(function (total) {
                    // if no position is defined assume position to be header
                    var /** @type {?} */ totalPosition = total.position ? total.position : 'header';
                    return totalPosition === position;
                });
            };
        GtTotalsPositionPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtTotalsPosition'
                    },] },
        ];
        return GtTotalsPositionPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtRowClassPipe = /** @class */ (function () {
        function GtRowClassPipe() {
        }
        /**
         * @param {?} array
         * @param {?} gtFields
         * @return {?}
         */
        GtRowClassPipe.prototype.transform = /**
         * @param {?} array
         * @param {?} gtFields
         * @return {?}
         */
            function (array, gtFields) {
                if (array) {
                    // find columns with rowClass property defined
                    var /** @type {?} */ COLUMNS_WITH_CLASS = gtFields
                        .map(function (column) { return column; })
                        .filter(function (column) { return column.rowClass; });
                    COLUMNS_WITH_CLASS.map(function (column) {
                        // for each column with rowClass property defined...
                        array.map(function (row) {
                            // loop through rows and set row class
                            if (typeof column.rowClass === 'function') {
                                // if row class is a function, try using the function...
                                try {
                                    if (row.$$gtRowClass) {
                                        row.$$gtRowClass = row.$$gtRowClass.concat(' ' + column.rowClass(row, column));
                                    }
                                    else {
                                        row.$$gtRowClass = column.rowClass(row, column);
                                    }
                                }
                                catch ( /** @type {?} */error) {
                                    console.log('Error when trying to get row class name using formula.', error);
                                }
                            }
                            else {
                                // if not a function, return plain string value
                                if (row.$$gtRowClass) {
                                    row.$$gtRowClass = row.$$gtRowClass.concat(' ' + column.rowClass);
                                }
                                else {
                                    row.$$gtRowClass = column.rowClass;
                                }
                            }
                        });
                    });
                }
                return array;
            };
        GtRowClassPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtRowClass'
                    },] },
        ];
        return GtRowClassPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtColumnClassPipe = /** @class */ (function () {
        function GtColumnClassPipe() {
        }
        /**
         * @param {?} gtFields
         * @param {?} column
         * @param {?=} row
         * @return {?}
         */
        GtColumnClassPipe.prototype.transform = /**
         * @param {?} gtFields
         * @param {?} column
         * @param {?=} row
         * @return {?}
         */
            function (gtFields, column, row) {
                // find columns with columnClass property defined
                var /** @type {?} */ COLUMN_WITH_CLASS = gtFields
                    .map(function (field) { return field; })
                    .filter(function (field) { return field.columnClass && field.objectKey === column.objectKey; })[0];
                if (!COLUMN_WITH_CLASS) {
                    return;
                }
                else if (typeof COLUMN_WITH_CLASS.columnClass === 'function') {
                    // if column class is a function, try using the function...
                    try {
                        return COLUMN_WITH_CLASS.columnClass(row, column);
                    }
                    catch ( /** @type {?} */error) {
                        console.log('Error when trying to get column class name using formula.', error);
                    }
                }
                else {
                    // if not a function, return plain string value
                    return COLUMN_WITH_CLASS.columnClass;
                }
            };
        GtColumnClassPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtColumnClass'
                    },] },
        ];
        return GtColumnClassPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtColumnWidthDirective = /** @class */ (function () {
        function GtColumnWidthDirective(hostElement, cdRef) {
            this.hostElement = hostElement;
            this.cdRef = cdRef;
        }
        /**
         * @param {?} $event
         * @return {?}
         */
        GtColumnWidthDirective.prototype.onResize = /**
         * @param {?} $event
         * @return {?}
         */
            function ($event) {
                this.checkSize();
            };
        /**
         * @return {?}
         */
        GtColumnWidthDirective.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.checkSize();
            };
        /**
         * @return {?}
         */
        GtColumnWidthDirective.prototype.checkSize = /**
         * @return {?}
         */
            function () {
                this.widths[this.objectKey] = window
                    .getComputedStyle(this.hostElement.nativeElement, null)
                    .getPropertyValue('width');
                this.cdRef.detectChanges();
            };
        GtColumnWidthDirective.decorators = [
            { type: core.Directive, args: [{
                        selector: '[gtColumnWidth]'
                    },] },
        ];
        /** @nocollapse */
        GtColumnWidthDirective.ctorParameters = function () {
            return [
                { type: core.ElementRef, },
                { type: core.ChangeDetectorRef, },
            ];
        };
        GtColumnWidthDirective.propDecorators = {
            "objectKey": [{ type: core.Input },],
            "widths": [{ type: core.Input },],
            "onResize": [{ type: core.HostListener, args: ['window:resize', ['$event'],] },],
        };
        return GtColumnWidthDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtCheckboxComponent = /** @class */ (function () {
        function GtCheckboxComponent() {
            this.class = 'd-flex justify-content-end';
            this.changed = new core.EventEmitter();
        }
        Object.defineProperty(GtCheckboxComponent.prototype, "initialValue", {
            get: /**
             * @return {?}
             */ function () {
                return this._initialValue;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._initialValue = value;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GtCheckboxComponent.prototype, "checked", {
            get: /**
             * @return {?}
             */ function () {
                return this._checked;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._checked = value;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        GtCheckboxComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () { };
        /**
         * @param {?} checked
         * @return {?}
         */
        GtCheckboxComponent.prototype.toggle = /**
         * @param {?} checked
         * @return {?}
         */
            function (checked) {
                this.changed.emit(this.checked);
            };
        GtCheckboxComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gt-checkbox',
                        template: "\n    <label class=\"custom-control custom-checkbox p-0\" (click)=\"$event.stopPropagation()\">\n      <input #checkbox type=\"checkbox\" class=\"custom-control-input\" [(checked)]=\"checked\" (change)=\"toggle($event);\">\n      <span class=\"custom-control-label\"></span>\n    </label>\n  ",
                        styles: []
                    },] },
        ];
        /** @nocollapse */
        GtCheckboxComponent.ctorParameters = function () { return []; };
        GtCheckboxComponent.propDecorators = {
            "class": [{ type: core.HostBinding, args: ['class',] },],
            "initialValue": [{ type: core.Input },],
            "checked": [{ type: core.Input },],
            "changed": [{ type: core.Output },],
        };
        return GtCheckboxComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtIsObservablePipe = /** @class */ (function () {
        function GtIsObservablePipe() {
        }
        /**
         * @param {?} input
         * @return {?}
         */
        GtIsObservablePipe.prototype.transform = /**
         * @param {?} input
         * @return {?}
         */
            function (input) {
                return input instanceof Observable.Observable;
            };
        GtIsObservablePipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtIsObservable'
                    },] },
        ];
        return GtIsObservablePipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GtIsEditablePipe = /** @class */ (function () {
        function GtIsEditablePipe() {
        }
        /**
         * @param {?} property
         * @param {?} row
         * @param {?} refreshPipe
         * @return {?}
         */
        GtIsEditablePipe.prototype.transform = /**
         * @param {?} property
         * @param {?} row
         * @param {?} refreshPipe
         * @return {?}
         */
            function (property, row, refreshPipe) {
                if (typeof property === 'function') {
                    return property(row);
                }
                else {
                    return false;
                }
            };
        GtIsEditablePipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'gtIsEditable'
                    },] },
        ];
        return GtIsEditablePipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GenericTableModule = /** @class */ (function () {
        function GenericTableModule() {
        }
        GenericTableModule.decorators = [
            { type: core.NgModule, args: [{
                        declarations: [
                            ComponentAnchorDirective,
                            GenericTableComponent,
                            GtPaginationComponent,
                            GtVisiblePipe,
                            GtRenderPipe,
                            DashCasePipe,
                            GtPropertyPipe,
                            GtChunkPipe,
                            GtFilterPipe,
                            GtOrderByPipe,
                            GtExpandingRowComponent,
                            GtCustomComponentFactory,
                            GtSearchPipe,
                            PaginationPipe,
                            GtTableInfoComponent,
                            TableInfoPipe,
                            GtMetaPipe,
                            GtTotalsPipe,
                            GtTotalsPositionPipe,
                            GtRowClassPipe,
                            GtColumnClassPipe,
                            GtHighlightPipe,
                            GtIsObservablePipe,
                            GtIsEditablePipe,
                            GtDropdownComponent,
                            GtColumnWidthDirective,
                            GtDrilldownComponent,
                            GtCheckboxComponent
                        ],
                        imports: [common.CommonModule, forms.FormsModule],
                        exports: [
                            GenericTableComponent,
                            GtPaginationComponent,
                            GtTableInfoComponent,
                            GtPropertyPipe,
                            GtHighlightPipe,
                            GtExpandingRowComponent,
                            GtDropdownComponent,
                            GtDrilldownComponent,
                            GtCheckboxComponent
                        ],
                        entryComponents: [GtDrilldownComponent, GtCheckboxComponent],
                        providers: [GtMetaPipe, GtHighlightPipe],
                        bootstrap: []
                    },] },
        ];
        return GenericTableModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.GtExpandingRowComponent = GtExpandingRowComponent;
    exports.GtExpandedRow = GtExpandedRow;
    exports.GenericTableComponent = GenericTableComponent;
    exports.GtTableInfoComponent = GtTableInfoComponent;
    exports.GtPaginationComponent = GtPaginationComponent;
    exports.GtDrilldownComponent = GtDrilldownComponent;
    exports.GenericTableModule = GenericTableModule;
    exports.GtCustomComponent = GtCustomComponent;
    exports.GtHighlightPipe = GtHighlightPipe;
    exports.v = GtCheckboxComponent;
    exports.c = GtCustomComponentFactory;
    exports.t = GtDropdownComponent;
    exports.b = PaginationPipe;
    exports.a = TableInfoPipe;
    exports.e = ComponentAnchorDirective;
    exports.u = GtColumnWidthDirective;
    exports.h = DashCasePipe;
    exports.j = GtChunkPipe;
    exports.q = GtColumnClassPipe;
    exports.k = GtFilterPipe;
    exports.s = GtIsEditablePipe;
    exports.r = GtIsObservablePipe;
    exports.d = GtMetaPipe;
    exports.l = GtOrderByPipe;
    exports.i = GtPropertyPipe;
    exports.g = GtRenderPipe;
    exports.p = GtRowClassPipe;
    exports.m = GtSearchPipe;
    exports.o = GtTotalsPositionPipe;
    exports.n = GtTotalsPipe;
    exports.f = GtVisiblePipe;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1nZW5lcmljLXRhYmxlLWNvcmUudW1kLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvY29tcG9uZW50cy9ndC1leHBhbmRpbmctcm93LmNvbXBvbmVudC50cyIsbnVsbCwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvcGlwZXMvZ3QtbWV0YS5waXBlLnRzIiwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvY29tcG9uZW50cy9nZW5lcmljLXRhYmxlLmNvbXBvbmVudC50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL2NvbXBvbmVudHMvZ3QtdGFibGUtaW5mby5jb21wb25lbnQudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9jb21wb25lbnRzL2d0LXBhZ2luYXRpb24uY29tcG9uZW50LnRzIiwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvY29tcG9uZW50cy9ndC1kcmlsbGRvd24uY29tcG9uZW50LnRzIiwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvcGlwZXMvZ3QtaGlnaGxpZ2h0LnBpcGUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9waXBlcy9ndC1yZW5kZXIucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2d0LXZpc2libGUucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2Rhc2gtY2FzZS5waXBlLnRzIiwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvcGlwZXMvZ3QtcHJvcGVydHkucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2d0LWNodW5rLnBpcGUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9waXBlcy9ndC1maWx0ZXIucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2d0LW9yZGVyLWJ5LnBpcGUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9waXBlcy9ndC1zZWFyY2gucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL2RpcmVjdGl2ZXMvY29tcG9uZW50LWFuY2hvci5kaXJlY3RpdmUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9jb21wb25lbnRzL2d0LWN1c3RvbS1jb21wb25lbnQtZmFjdG9yeS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL2NvbXBvbmVudHMvZ3QtZHJvcGRvd24uY29tcG9uZW50LnRzIiwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvcGlwZXMvZ3QtdG90YWxzLnBpcGUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9waXBlcy9ndC10b3RhbHMtcG9zaXRpb24ucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2d0LXJvdy1jbGFzcy5waXBlLnRzIiwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvcGlwZXMvZ3QtY29sdW1uLWNsYXNzLnBpcGUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9kaXJlY3RpdmVzL2d0LWNvbHVtbi13aWR0aC5kaXJlY3RpdmUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9jb21wb25lbnRzL2d0LWNoZWNrYm94L2d0LWNoZWNrYm94LmNvbXBvbmVudC50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2d0LWlzLW9ic2VydmFibGUucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2d0LWlzLWVkaXRhYmxlLnBpcGUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9jb3JlLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCwgVHlwZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHdFJvdywgR3RDb25maWdGaWVsZCwgR3RDb25maWdTZXR0aW5nLCBHdEV2ZW50IH0gZnJvbSAnLi4nO1xyXG5cclxuZXhwb3J0IGNsYXNzIEd0RXhwYW5kZWRSb3c8UiBleHRlbmRzIEd0Um93PiB7XHJcblx0cm93OiBSO1xyXG5cdGNvbHVtbldpZHRoOiBPYmplY3Q7XHJcblx0Z3RTZXR0aW5nczogQXJyYXk8R3RDb25maWdTZXR0aW5nPjtcclxuXHRndEZpZWxkczogQXJyYXk8R3RDb25maWdGaWVsZDxSLCBhbnk+PjtcclxuXHRndE9wdGlvbnM6IGFueTtcclxuXHRndEluZm86IGFueTtcclxuXHRkYXRhOiBhbnk7XHJcblx0cmVkcmF3RXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyPFI+KCk7XHJcblx0Z3RFdmVudDogRXZlbnRFbWl0dGVyPEd0RXZlbnQ+O1xyXG5cdHRvZ2dsZVJvd0V2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcjxSPigpO1xyXG5cclxuXHRwdWJsaWMgJGhpZGUoKTogdm9pZCB7XHJcblx0XHR0aGlzLnRvZ2dsZVJvd0V2ZW50LmVtaXQodGhpcy5yb3cpO1xyXG5cdH1cclxuXHJcblx0cHVibGljICRyZWRyYXcoJGV2ZW50PzogYW55KTogdm9pZCB7XHJcblx0XHR0aGlzLnJlZHJhd0V2ZW50LmVtaXQodGhpcy5yb3cpO1xyXG5cdH1cclxuXHRwdWJsaWMgJHJvd0NsaWNrKHJvdzogR3RSb3csICRldmVudDogTW91c2VFdmVudCkge1xyXG5cdFx0dGhpcy5ndEV2ZW50LmVtaXQoe1xyXG5cdFx0XHRuYW1lOiAnZ3Qtcm93LWNsaWNrZWQnLFxyXG5cdFx0XHR2YWx1ZTogeyByb3c6IHJvdywgZXZlbnQ6ICRldmVudCB9XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuXHJcbkBDb21wb25lbnQoe1xyXG5cdHNlbGVjdG9yOiAnZ3QtZXhwYW5kaW5nLXJvdycsXHJcblx0dGVtcGxhdGU6IGBcclxuICAgICAgICA8ZGl2IGd0Q29tcG9uZW50QW5jaG9yXHJcbiAgICAgICAgICAgICBbY3Rvcl09XCJ0eXBlXCIgKGluc3RhbmNlKT1cIm5ld0luc3RhbmNlKCRldmVudClcIj48L2Rpdj5gXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdEV4cGFuZGluZ1Jvd0NvbXBvbmVudDxcclxuXHRSIGV4dGVuZHMgR3RSb3csXHJcblx0QyBleHRlbmRzIEd0RXhwYW5kZWRSb3c8Uj5cclxuPiB7XHJcblx0QElucHV0KCkgdHlwZTogVHlwZTxDPjtcclxuXHRASW5wdXQoKSByb3c6IFI7XHJcblx0QElucHV0KCkgY29sdW1uV2lkdGg6IE9iamVjdDtcclxuXHRASW5wdXQoKSBndFNldHRpbmdzOiBBcnJheTxHdENvbmZpZ1NldHRpbmc+O1xyXG5cdEBJbnB1dCgpIGd0RmllbGRzOiBBcnJheTxHdENvbmZpZ0ZpZWxkPFIsIGFueT4+O1xyXG5cdEBJbnB1dCgpIGd0T3B0aW9uczogYW55O1xyXG5cdEBJbnB1dCgpIGd0SW5mbzogYW55O1xyXG5cdEBJbnB1dCgpIGRhdGE6IGFueTtcclxuXHJcblx0QE91dHB1dCgpIHJlZHJhd0V2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcjxSPigpO1xyXG5cdEBPdXRwdXQoKSB0b2dnbGVSb3dFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8Uj4oKTtcclxuXHRASW5wdXQoKSBndEV2ZW50OiBhbnk7XHJcblxyXG5cdG5ld0luc3RhbmNlKGluc3RhbmNlOiBDKTogdm9pZCB7XHJcblx0XHRpbnN0YW5jZS5yb3cgPSB0aGlzLnJvdztcclxuXHRcdGluc3RhbmNlLmNvbHVtbldpZHRoID0gdGhpcy5jb2x1bW5XaWR0aDtcclxuXHRcdGluc3RhbmNlLmd0U2V0dGluZ3MgPSB0aGlzLmd0U2V0dGluZ3M7XHJcblx0XHRpbnN0YW5jZS5ndEZpZWxkcyA9IHRoaXMuZ3RGaWVsZHM7XHJcblx0XHRpbnN0YW5jZS5ndE9wdGlvbnMgPSB0aGlzLmd0T3B0aW9ucztcclxuXHRcdGluc3RhbmNlLmd0SW5mbyA9IHRoaXMuZ3RJbmZvO1xyXG5cdFx0aW5zdGFuY2UuZGF0YSA9XHJcblx0XHRcdHR5cGVvZiB0aGlzLmRhdGEgPT09ICdmdW5jdGlvbicgPyB0aGlzLmRhdGEodGhpcy5yb3cpIDogdGhpcy5kYXRhO1xyXG5cdFx0aW5zdGFuY2UucmVkcmF3RXZlbnQuc3Vic2NyaWJlKHRoaXMucmVkcmF3RXZlbnQpO1xyXG5cdFx0aW5zdGFuY2UudG9nZ2xlUm93RXZlbnQuc3Vic2NyaWJlKHRoaXMudG9nZ2xlUm93RXZlbnQpO1xyXG5cdFx0aW5zdGFuY2UuZ3RFdmVudCA9IHRoaXMuZ3RFdmVudDtcclxuXHR9XHJcbn1cclxuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSB5W29wWzBdICYgMiA/IFwicmV0dXJuXCIgOiBvcFswXSA/IFwidGhyb3dcIiA6IFwibmV4dFwiXSkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbMCwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgIH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChvW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9OyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcbiIsImltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgR3RSb3cgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LXJvdyc7XHJcbmltcG9ydCB7IEd0Um93TWV0YSB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3Qtcm93LW1ldGEnO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndE1ldGEnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdE1ldGFQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcblx0dHJhbnNmb3JtKFxyXG5cdFx0YWxsUm93czogQXJyYXk8R3RSb3c+LFxyXG5cdFx0cm93SW5kZXg/OiBzdHJpbmcsXHJcblx0XHRwYWdlPzogbnVtYmVyLFxyXG5cdFx0cmVjb3JkTGVuZ3RoPzogbnVtYmVyXHJcblx0KTogQXJyYXk8R3RSb3c+IHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUm93cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoIWFsbFJvd3NbaV0uJCRndFJvd0lkKSB7XHJcblx0XHRcdFx0YWxsUm93c1tpXS4kJGd0Um93SWQgPSByb3dJbmRleFxyXG5cdFx0XHRcdFx0PyBhbGxSb3dzW2ldW3Jvd0luZGV4XVxyXG5cdFx0XHRcdFx0OiBwYWdlXHJcblx0XHRcdFx0XHRcdD8gcGFnZSAqIHJlY29yZExlbmd0aCArXHJcblx0XHRcdFx0XHRcdCAgaSArXHJcblx0XHRcdFx0XHRcdCAgJ18nICtcclxuXHRcdFx0XHRcdFx0ICBNYXRoLnJhbmRvbSgpXHJcblx0XHRcdFx0XHRcdFx0XHQudG9TdHJpbmcoMzYpXHJcblx0XHRcdFx0XHRcdFx0XHQuc3Vic3RyKDIsIDE2KVxyXG5cdFx0XHRcdFx0XHQ6IGkgK1xyXG5cdFx0XHRcdFx0XHQgICdfJyArXHJcblx0XHRcdFx0XHRcdCAgTWF0aC5yYW5kb20oKVxyXG5cdFx0XHRcdFx0XHRcdFx0LnRvU3RyaW5nKDM2KVxyXG5cdFx0XHRcdFx0XHRcdFx0LnN1YnN0cigyLCAxNik7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFhbGxSb3dzW2ldLiQkZ3RJbml0aWFsUm93SW5kZXgpIHtcclxuXHRcdFx0XHRhbGxSb3dzW2ldLiQkZ3RJbml0aWFsUm93SW5kZXggPSBpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gYWxsUm93cztcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuXHRDb21wb25lbnQsXHJcblx0T25Jbml0LFxyXG5cdE9uQ2hhbmdlcyxcclxuXHRPdXRwdXQsXHJcblx0SW5wdXQsXHJcblx0RXZlbnRFbWl0dGVyLFxyXG5cdFR5cGUsXHJcblx0U2ltcGxlQ2hhbmdlcyxcclxuXHRSZW5kZXJlcjIsXHJcblx0T25EZXN0cm95XHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7XHJcblx0R3RDb25maWcsXHJcblx0R3RDb25maWdGaWVsZCxcclxuXHRHdENvbmZpZ1NldHRpbmcsXHJcblx0R3RUZXh0cyxcclxuXHRHdEluZm9ybWF0aW9uLFxyXG5cdEd0RXhwYW5kZWRSb3csXHJcblx0R3RSb3csXHJcblx0R3RPcHRpb25zLFxyXG5cdEd0Um93TWV0YSxcclxuXHRHdFJlbmRlckZpZWxkLFxyXG5cdEd0RXZlbnRcclxufSBmcm9tICcuLic7XHJcbmltcG9ydCB7IEd0TWV0YVBpcGUgfSBmcm9tICcuLi9waXBlcy9ndC1tZXRhLnBpcGUnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcblx0c2VsZWN0b3I6ICdnZW5lcmljLXRhYmxlJyxcclxuXHR0ZW1wbGF0ZTogYDx0YWJsZSBjbGFzcz1cInRhYmxlXCIgbmdDbGFzcz1cInt7Z3RDbGFzc2VzfX0ge3tndE9wdGlvbnMuc3RhY2sgPyAndGFibGUtc3RhY2tlZCc6Jyd9fVwiXHJcbiAgICAgICAqbmdJZj1cImd0RmllbGRzICYmIGd0U2V0dGluZ3MgJiYgKGd0RmllbGRzIHwgZ3RWaXNpYmxlOmd0U2V0dGluZ3M6cmVmcmVzaFBpcGUpLmxlbmd0aCA+IDBcIj5cclxuICA8dGhlYWQ+XHJcbiAgPHRyPlxyXG4gICAgPHRoIGNsYXNzPVwiZ3Qtc29ydC1sYWJlbFwiICpuZ0lmPVwiZ3RPcHRpb25zLnN0YWNrXCI+e3tndFRleHRzLnNvcnRMYWJlbH19PC90aD5cclxuICAgIDx0aCAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGd0U2V0dGluZ3MgfCBndFZpc2libGU6Z3RTZXR0aW5nczpyZWZyZXNoUGlwZVwiXHJcbiAgICAgICAgbmdDbGFzcz1cInt7Y29sdW1uLm9iamVjdEtleSArJy1jb2x1bW4nIHwgZGFzaENhc2V9fSB7e2d0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidjbGFzc05hbWVzJ319IHt7Y29sdW1uLnNvcnRFbmFibGVkID8gJ3NvcnQtJytjb2x1bW4uc29ydDonJ319IHt7Y29sdW1uLnNvcnRFbmFibGVkICYmIGNvbHVtbi5zb3J0T3JkZXIgPj0gMCAgPyAnc29ydC1vcmRlci0nK2NvbHVtbi5zb3J0T3JkZXI6Jyd9fSB7eyBndEZpZWxkcyB8IGd0Q29sdW1uQ2xhc3M6Y29sdW1uIH19XCJcclxuICAgICAgICAoY2xpY2spPVwiY29sdW1uLnNvcnRFbmFibGVkID8gZ3RTb3J0KGNvbHVtbi5vYmplY3RLZXksJGV2ZW50KTonJztcIj5cclxuICAgICAgPHNwYW4gKm5nSWY9XCIhKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidoZWFkZXInKVwiPnt7Z3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J25hbWUnfX08L3NwYW4+XHJcbiAgICAgIDxndC1jdXN0b20tY29tcG9uZW50LWZhY3RvcnkgKm5nSWY9XCIoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2hlYWRlcicpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdHlwZV09XCIoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2hlYWRlcicpPy50eXBlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbaW5qZWN0b3JdPVwiKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidoZWFkZXInKT8uaW5qZWN0b3JcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjb2x1bW5dPVwiZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J25hbWUnXCI+PC9ndC1jdXN0b20tY29tcG9uZW50LWZhY3Rvcnk+XHJcbiAgICAgIDxndC1jaGVja2JveCAqbmdJZj1cIihndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonY29sdW1uQ29tcG9uZW50Jyk/LnR5cGUgPT09ICdjaGVja2JveCdcIiBbY2hlY2tlZF09XCIoZ3RPcHRpb25zLmxhenlMb2FkID8gbGF6eUFsbFNlbGVjdGVkOnNlbGVjdGVkUm93cy5sZW5ndGggPT09IGd0RGF0YS5sZW5ndGgpXCIgKGNoYW5nZWQpPVwidG9nZ2xlQWxsUm93cygpXCI+PC9ndC1jaGVja2JveD5cclxuICAgIDwvdGg+XHJcbiAgPC90cj5cclxuICA8L3RoZWFkPlxyXG4gIDxuZy10ZW1wbGF0ZVxyXG4gICAgW25nSWZdPVwiZ3RUb3RhbHMgJiYgKGd0T3B0aW9ucy5sYXp5TG9hZCA9PT0gZmFsc2UgPyAoZ3REYXRhIHwgZ3RGaWx0ZXI6Z3RJbmZvLmZpbHRlcjpndEluZm86cmVmcmVzaEZpbHRlcjpndERhdGEubGVuZ3RoIHwgZ3RTZWFyY2g6Z3RJbmZvLnNlYXJjaFRlcm1zOmd0SW5mbzpndFNldHRpbmdzOmd0RmllbGRzOmd0RGF0YS5sZW5ndGgpLmxlbmd0aCA+IDAgOiBndERhdGEubGVuZ3RoID4gMClcIj5cclxuICAgIDx0aGVhZCBjbGFzcz1cImd0LXRvdGFsc1wiPlxyXG4gICAgPHRyICpuZ0Zvcj1cImxldCB0b3RhbCBvZiBndFRvdGFscyB8IGd0VG90YWxzUG9zaXRpb25cIj5cclxuICAgICAgPHRkICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgZ3RTZXR0aW5ncyB8IGd0VmlzaWJsZTpndFNldHRpbmdzOnJlZnJlc2hQaXBlO2xldCBpID0gaW5kZXg7XCJcclxuICAgICAgICAgIG5nQ2xhc3M9XCJ7e2NvbHVtbi5vYmplY3RLZXkgKyctdG90YWxzLWNvbHVtbicgfCBkYXNoQ2FzZX19IHt7Z3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2NsYXNzTmFtZXMnfX0ge3sgZ3RGaWVsZHMgfCBndENvbHVtbkNsYXNzOmNvbHVtbiB9fVwiPlxyXG4gICAgICAgIDxzcGFuICpuZ0lmPVwiaSA9PT0gMFwiIGNsYXNzPVwiZmxvYXQtbGVmdFwiPnt7dG90YWwubmFtZX19PC9zcGFuPjxzcGFuXHJcbiAgICAgICAgW2lubmVySFRNTF09XCJ0b3RhbC5maWVsZHNbY29sdW1uLm9iamVjdEtleV0gfCBndFRvdGFsczoodG90YWwudXBkYXRlID09PSBmYWxzZSB8fCBndE9wdGlvbnMubGF6eUxvYWQgPT09IHRydWUpID8gZ3REYXRhOihndERhdGEgfCBndEZpbHRlcjpndEluZm8uZmlsdGVyOmd0SW5mbzpyZWZyZXNoRmlsdGVyOmd0RGF0YS5sZW5ndGggfCBndFNlYXJjaDpndEluZm8uc2VhcmNoVGVybXM6Z3RJbmZvOmd0U2V0dGluZ3M6Z3RGaWVsZHM6Z3REYXRhLmxlbmd0aCk6Y29sdW1uLm9iamVjdEtleTpyZWZyZXNoVG90YWxzXCI+PC9zcGFuPlxyXG4gICAgICA8L3RkPlxyXG4gICAgPC90cj5cclxuICAgIDwvdGhlYWQ+XHJcbiAgICA8dGZvb3QgY2xhc3M9XCJndC10b3RhbHNcIj5cclxuICAgIDx0ciAqbmdGb3I9XCJsZXQgdG90YWwgb2YgZ3RUb3RhbHMgfCBndFRvdGFsc1Bvc2l0aW9uOidmb290ZXInXCI+XHJcbiAgICAgIDx0ZCAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGd0U2V0dGluZ3MgfCBndFZpc2libGU6Z3RTZXR0aW5nczpyZWZyZXNoUGlwZTtsZXQgaSA9IGluZGV4O1wiXHJcbiAgICAgICAgICBuZ0NsYXNzPVwie3tjb2x1bW4ub2JqZWN0S2V5ICsnLXRvdGFscy1jb2x1bW4nIHwgZGFzaENhc2V9fSB7e2d0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidjbGFzc05hbWVzJ319IHt7IGd0RmllbGRzIHwgZ3RDb2x1bW5DbGFzczpjb2x1bW4gfX1cIj5cclxuICAgICAgICA8c3BhbiAqbmdJZj1cImkgPT09IDBcIiBjbGFzcz1cImZsb2F0LWxlZnRcIj57e3RvdGFsLm5hbWV9fTwvc3Bhbj48c3BhblxyXG4gICAgICAgIFtpbm5lckhUTUxdPVwidG90YWwuZmllbGRzW2NvbHVtbi5vYmplY3RLZXldIHwgZ3RUb3RhbHM6KHRvdGFsLnVwZGF0ZSA9PT0gZmFsc2UgfHwgZ3RPcHRpb25zLmxhenlMb2FkID09PSB0cnVlKSA/IGd0RGF0YTooZ3REYXRhIHwgZ3RGaWx0ZXI6Z3RJbmZvLmZpbHRlcjpndEluZm86cmVmcmVzaEZpbHRlcjpndERhdGEubGVuZ3RoIHwgZ3RTZWFyY2g6Z3RJbmZvLnNlYXJjaFRlcm1zOmd0SW5mbzpndFNldHRpbmdzOmd0RmllbGRzOmd0RGF0YS5sZW5ndGgpOmNvbHVtbi5vYmplY3RLZXk6cmVmcmVzaFRvdGFsc1wiPjwvc3Bhbj5cclxuICAgICAgPC90ZD5cclxuICAgIDwvdHI+XHJcbiAgICA8L3Rmb290PlxyXG4gIDwvbmctdGVtcGxhdGU+XHJcbiAgPHRib2R5ICpuZ0lmPVwiZ3REYXRhICYmIGd0SW5mb1wiPlxyXG4gIDxuZy10ZW1wbGF0ZSBjbGFzcz1cInRhYmxlLXJvd3NcIiBuZ0ZvciBsZXQtcm93IGxldC1sYXN0PVwibGFzdFwiIFtuZ0ZvclRyYWNrQnldPVwidHJhY2tCeUZuXCJcclxuICAgICAgICAgICAgICAgW25nRm9yT2ZdPVwiZ3RPcHRpb25zLmxhenlMb2FkICYmIGd0SW5mbyA/IChndERhdGFbZ3RJbmZvLnBhZ2VDdXJyZW50LTFdKSA6IChndERhdGEgfCBndEZpbHRlcjpndEluZm8uZmlsdGVyOmd0SW5mbzpyZWZyZXNoRmlsdGVyOmd0RGF0YS5sZW5ndGggfCBndFNlYXJjaDpndEluZm8uc2VhcmNoVGVybXM6Z3RJbmZvOmd0U2V0dGluZ3M6Z3RGaWVsZHM6Z3REYXRhLmxlbmd0aCB8IGd0T3JkZXJCeTpzb3J0T3JkZXI6Z3RGaWVsZHM6cmVmcmVzaFNvcnRpbmc6Z3REYXRhLmxlbmd0aCB8IGd0Q2h1bms6Z3RJbmZvOmd0SW5mby5yZWNvcmRMZW5ndGg6Z3RJbmZvLnBhZ2VDdXJyZW50OnJlZnJlc2hQYWdlQXJyYXk6Z3REYXRhLmxlbmd0aDpndEV2ZW50OmRhdGEgfCBndFJvd0NsYXNzOmd0RmllbGRzKVwiPlxyXG4gICAgPHRyIFtuZ0NsYXNzXT1cInsncm93LXNlbGVjdGVkJzptZXRhSW5mb1tyb3cuJCRndFJvd0lkXT8uaXNTZWxlY3RlZCwgJ3Jvdy1vcGVuJzptZXRhSW5mb1tyb3cuJCRndFJvd0lkXT8uaXNPcGVuLCAncm93LWxvYWRpbmcnOmxvYWRpbmcsICdyb3ctZXhwYW5kYWJsZSc6Z3RSb3dDb21wb25lbnR9XCJcclxuICAgICAgICBjbGFzcz1cInt7cm93LiQkZ3RSb3dDbGFzc319XCJcclxuICAgICAgICAoY2xpY2spPVwiZ3RPcHRpb25zLnJvd1NlbGVjdGlvbiA/IHRvZ2dsZVNlbGVjdChyb3cpOnJvd0NsaWNrKHJvdywgJGV2ZW50KVwiPlxyXG4gICAgICA8dGQgKm5nRm9yPVwibGV0IGNvbHVtbiBvZiByb3cgfCBndFJlbmRlcjpndFNldHRpbmdzOmd0RmllbGRzOnJlZnJlc2hQaXBlOmxvYWRpbmc6Z3RPcHRpb25zLmhpZ2hsaWdodFNlYXJjaDpndEluZm8uc2VhcmNoVGVybXM7dHJhY2tCeTp0cmFja0J5Q29sdW1uRm5cIlxyXG4gICAgICAgICAgbmdDbGFzcz1cInt7Y29sdW1uLm9iamVjdEtleSArJy1jb2x1bW4nIHwgZGFzaENhc2V9fSB7e2d0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidjbGFzc05hbWVzJ319IHt7KGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykgPyAnZ3QtaW5saW5lLWVkaXQnOicnfX0ge3tjb2x1bW4uZWRpdGVkID8gJ2d0LWVkaXRlZCc6Jyd9fSB7eyBndEZpZWxkcyB8IGd0Q29sdW1uQ2xhc3M6Y29sdW1uOnJvdyB9fVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImd0LXJvdy1sYWJlbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiZ3RPcHRpb25zLnN0YWNrXCI+e3soZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J3N0YWNrZWRIZWFkaW5nJykgPyAoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J3N0YWNrZWRIZWFkaW5nJykgOiAoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J25hbWUnKX19PC9zcGFuPlxyXG4gICAgICAgIDxndC1jdXN0b20tY29tcG9uZW50LWZhY3RvcnkgKm5nSWY9XCJjb2x1bW4uY29sdW1uQ29tcG9uZW50ICYmIGNvbHVtbi5jb2x1bW5Db21wb25lbnQudHlwZSAhPT0gJ2NoZWNrYm94J1wiIGNsYXNzPVwiZ3Qtcm93LWNvbnRlbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3R5cGVdPVwiY29sdW1uLmNvbHVtbkNvbXBvbmVudC50eXBlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtpbmplY3Rvcl09XCJjb2x1bW4uY29sdW1uQ29tcG9uZW50LmluamVjdG9yXCIgW3Jvd109XCJyb3dcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NvbHVtbl09XCJjb2x1bW5cIiAocmVkcmF3RXZlbnQpPVwicmVkcmF3KCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3NlYXJjaFRlcm1zXT1cImd0SW5mby5zZWFyY2hUZXJtc1wiICAoc2VhcmNoRXZlbnQpPVwicmVkcmF3KCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImNvbHVtbi5jbGljayA/IGNvbHVtbi5jbGljayhyb3csY29sdW1uLCRldmVudCk6Jyc7Y29sdW1uLmV4cGFuZCA/IHRvZ2dsZUNvbGxhcHNlKHJvdywgY29sdW1uLmV4cGFuZCk6JydcIj48L2d0LWN1c3RvbS1jb21wb25lbnQtZmFjdG9yeT5cclxuICAgICAgICA8c3BhbiAqbmdJZj1cIiFjb2x1bW4uY29sdW1uQ29tcG9uZW50ICYmICghKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykgfHwgKChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpPy5hY3RpdmUgfCBndElzT2JzZXJ2YWJsZSkgJiYgISgoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKT8uYWN0aXZlIHwgYXN5bmMpIHx8ICghKChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpPy5hY3RpdmUgfCBndElzT2JzZXJ2YWJsZSkgJiYgISgoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKT8uYWN0aXZlIHwgZ3RJc0VkaXRhYmxlOnJvdzpyZWZyZXNoUGlwZSkpKVwiXHJcbiAgICAgICAgICAgICAgY2xhc3M9XCJndC1yb3ctY29udGVudFwiIFtpbm5lckhUTUxdPVwiY29sdW1uLnJlbmRlclZhbHVlXCJcclxuICAgICAgICAgICAgICAoY2xpY2spPVwiY29sdW1uLmNsaWNrID8gY29sdW1uLmNsaWNrKHJvdyxjb2x1bW4sJGV2ZW50KTonJztjb2x1bW4uZXhwYW5kID8gdG9nZ2xlQ29sbGFwc2Uocm93LCBjb2x1bW4uZXhwYW5kKTonJ1wiPjwvc3Bhbj5cclxuICAgICAgICA8bmctdGVtcGxhdGVcclxuICAgICAgICAgIFtuZ0lmXT1cIiFjb2x1bW4uY29sdW1uQ29tcG9uZW50ICYmICgoKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0Jyk/LmFjdGl2ZSB8IGd0SXNPYnNlcnZhYmxlKSAmJiAoKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0Jyk/LmFjdGl2ZSB8IGFzeW5jKSB8fCAoKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0Jyk/LmFjdGl2ZSB8IGd0SXNFZGl0YWJsZTpyb3c6cmVmcmVzaFBpcGUpKVwiPlxyXG4gICAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ0lmXT1cIihbdHJ1ZSwnZW1haWwnLCdudW1iZXInLCdwYXNzd29yZCcsICd0ZXh0J10uaW5kZXhPZigoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKS50eXBlKSAhPT0gLTEpIHx8ICEoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKS50eXBlXCI+XHJcbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImlubGluZS1lZGl0XCIgW2F0dHIudHlwZV09XCIhKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykudHlwZSA/ICd0ZXh0JyA6ICEoKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykudHlwZSB8IGd0SXNPYnNlcnZhYmxlKSA/IChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpLnR5cGU6KGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykudHlwZSB8IGFzeW5jXCIgWyhuZ01vZGVsKV09XCJjb2x1bW4ucmVuZGVyVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgKGlucHV0KT1cImd0VXBkYXRlQ29sdW1uKCRldmVudCxyb3csIGNvbHVtbilcIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJndC1pbmxpbmUtZWRpdC1ub3RpY2VcIj57e2d0VGV4dHMuaW5saW5lRWRpdEVkaXRlZH19PC9zcGFuPlxyXG4gICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgIDxndC1kcm9wZG93blxyXG4gICAgICAgICAgICAqbmdJZj1cIigoKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykudHlwZSkgJiYgKChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpLnR5cGUpLmxlbmd0aCA+IDApIHx8ICgoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKS50eXBlIHwgZ3RJc09ic2VydmFibGUpXCJcclxuICAgICAgICAgICAgW29wdGlvbnNdPVwiISgoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKS50eXBlIHwgZ3RJc09ic2VydmFibGUpID8gKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykudHlwZSA6IChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpLnR5cGUgfCBhc3luY1wiXHJcbiAgICAgICAgICAgIFtpZF09XCInXycgKyByb3cuJCRndFJvd0lkICsgJ18nICsgY29sdW1uLm9iamVjdEtleVwiXHJcbiAgICAgICAgICAgIFsoc2VsZWN0ZWQpXT1cImNvbHVtbi5yZW5kZXJWYWx1ZVwiIChzZWxlY3RlZENoYW5nZSk9XCJndERyb3Bkb3duU2VsZWN0KHJvdywgY29sdW1uKVwiPkFkZFxyXG4gICAgICAgICAgICBpbmxpbmUgZWRpdGluZyBtb2R1bGVcclxuICAgICAgICAgIDwvZ3QtZHJvcGRvd24+XHJcbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICA8bmctdGVtcGxhdGUgW25nSWZdPVwiIWNvbHVtbi5jb2x1bW5Db21wb25lbnQgJiYgISgoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKT8uYWN0aXZlKSBcIj5cclxuICAgICAgICAgIDxuZy10ZW1wbGF0ZVxyXG4gICAgICAgICAgICBbbmdJZl09XCJbdHJ1ZSwnZW1haWwnLCdudW1iZXInLCdwYXNzd29yZCddLmluZGV4T2YoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKSAhPT0gLTFcIj5cclxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiaW5saW5lLWVkaXRcIiBbYXR0ci50eXBlXT1cIihndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpID09PSB0cnVlID8gJ3RleHQnOihndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpXCIgWyhuZ01vZGVsKV09XCJjb2x1bW4ucmVuZGVyVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgKGlucHV0KT1cImd0VXBkYXRlQ29sdW1uKCRldmVudCxyb3csIGNvbHVtbilcIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJndC1pbmxpbmUtZWRpdC1ub3RpY2VcIj57e2d0VGV4dHMuaW5saW5lRWRpdEVkaXRlZH19PC9zcGFuPlxyXG4gICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgIDxndC1kcm9wZG93blxyXG4gICAgICAgICAgICAqbmdJZj1cIihndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpICYmIFt0cnVlLCdlbWFpbCcsJ251bWJlcicsJ3Bhc3N3b3JkJ10uaW5kZXhPZihndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpID09PSAtMVwiXHJcbiAgICAgICAgICAgIFtvcHRpb25zXT1cImd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0J1wiXHJcbiAgICAgICAgICAgIFtpZF09XCInXycgKyByb3cuJCRndFJvd0lkICsgJ18nICsgY29sdW1uLm9iamVjdEtleVwiXHJcbiAgICAgICAgICAgIFsoc2VsZWN0ZWQpXT1cImNvbHVtbi5yZW5kZXJWYWx1ZVwiIChzZWxlY3RlZENoYW5nZSk9XCJndERyb3Bkb3duU2VsZWN0KHJvdywgY29sdW1uKVwiPkFkZFxyXG4gICAgICAgICAgICBpbmxpbmUgZWRpdGluZyBtb2R1bGVcclxuICAgICAgICAgIDwvZ3QtZHJvcGRvd24+XHJcbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICA8Z3QtY2hlY2tib3ggKm5nSWY9XCJjb2x1bW4uY29sdW1uQ29tcG9uZW50ICYmIGNvbHVtbi5jb2x1bW5Db21wb25lbnQudHlwZSA9PT0gJ2NoZWNrYm94J1wiIFtjaGVja2VkXT1cIm1ldGFJbmZvW3Jvdy4kJGd0Um93SWRdPy5pc1NlbGVjdGVkXCIgKGNoYW5nZWQpPVwidG9nZ2xlU2VsZWN0KHJvdylcIj48L2d0LWNoZWNrYm94PlxyXG4gICAgICA8L3RkPlxyXG4gICAgPC90cj5cclxuICAgIDx0ciBjbGFzcz1cInJvdy1leHBhbmRlZFwiICpuZ0lmPVwibWV0YUluZm9bcm93LiQkZ3RSb3dJZF0/LmlzT3BlblwiPlxyXG4gICAgICA8dGQgW2F0dHIuY29sc3Bhbl09XCIoZ3RGaWVsZHMgfCBndFZpc2libGU6Z3RTZXR0aW5nczpyZWZyZXNoUGlwZSkubGVuZ3RoXCI+XHJcbiAgICAgICAgPGd0LWV4cGFuZGluZy1yb3cgW3Jvd109XCJyb3dcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFt0eXBlXT1cImV4cGFuZGVkUm93LmNvbXBvbmVudCA/IGV4cGFuZGVkUm93LmNvbXBvbmVudDpndFJvd0NvbXBvbmVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW2NvbHVtbldpZHRoXT1cImNvbHVtbldpZHRoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBbZ3RGaWVsZHNdPVwiZ3RGaWVsZHNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtndE9wdGlvbnNdPVwiZ3RPcHRpb25zXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBbZ3RFdmVudF09XCJndEV2ZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBbZ3RJbmZvXT1cImd0SW5mb1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW2d0U2V0dGluZ3NdPVwiZ3RTZXR0aW5nc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFdPVwiZXhwYW5kZWRSb3cuZGF0YSA/IGV4cGFuZGVkUm93LmRhdGE6cm93XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAocmVkcmF3RXZlbnQpPVwicmVkcmF3KCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICh0b2dnbGVSb3dFdmVudCk9XCJ0b2dnbGVDb2xsYXBzZSgkZXZlbnQpXCI+PC9ndC1leHBhbmRpbmctcm93PlxyXG4gICAgICA8L3RkPlxyXG4gICAgPC90cj5cclxuICAgIDx0ciAqbmdJZj1cImd0T3B0aW9ucy5yZXBvcnRDb2x1bW5XaWR0aCAmJiBsYXN0XCI+XHJcbiAgICAgIDx0ZCBzdHlsZT1cInBhZGRpbmc6IDA7IGJvcmRlcjpub25lO1wiXHJcbiAgICAgICAgICAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGd0U2V0dGluZ3MgfCBndFZpc2libGU6Z3RTZXR0aW5nczpyZWZyZXNoUGlwZVwiIGd0Q29sdW1uV2lkdGhcclxuICAgICAgICAgIFtvYmplY3RLZXldPVwiY29sdW1uLm9iamVjdEtleVwiIFt3aWR0aHNdPVwiY29sdW1uV2lkdGhcIj48L3RkPlxyXG4gICAgPC90cj5cclxuICA8L25nLXRlbXBsYXRlPlxyXG4gIDx0ciAqbmdJZj1cImd0SW5mby5wYWdlVG90YWwgPT09IDAgJiYgKGd0SW5mby5zZWFyY2hUZXJtcyB8fCBndEluZm8uZmlsdGVyKSAmJiAhbG9hZGluZ1wiPlxyXG4gICAgPHRkIGNsYXNzPVwiZ3Qtbm8tbWF0Y2hpbmctcmVzdWx0c1wiIFthdHRyLmNvbHNwYW5dPVwiKGd0RmllbGRzIHwgZ3RWaXNpYmxlOmd0U2V0dGluZ3MpLmxlbmd0aFwiPlxyXG4gICAgICB7e2d0VGV4dHMubm9NYXRjaGluZ0RhdGF9fVxyXG4gICAgPC90ZD5cclxuICA8L3RyPlxyXG4gIDx0ciAqbmdJZj1cImd0SW5mby5wYWdlVG90YWwgPT09IDAgJiYgIShndEluZm8uc2VhcmNoVGVybXMgfHwgZ3RJbmZvLmZpbHRlcikgJiYgIWxvYWRpbmdcIj5cclxuICAgIDx0ZCBjbGFzcz1cImd0LW5vLXJlc3VsdHNcIiBbYXR0ci5jb2xzcGFuXT1cIihndEZpZWxkcyB8IGd0VmlzaWJsZTpndFNldHRpbmdzKS5sZW5ndGhcIj57e2d0VGV4dHMubm9EYXRhfX1cclxuICAgIDwvdGQ+XHJcbiAgPC90cj5cclxuICA8dHIgKm5nSWY9XCJndEluZm8ucGFnZVRvdGFsID09PSAwICYmIGxvYWRpbmdcIj5cclxuICAgIDx0ZCBjbGFzcz1cImd0LWxvYWRpbmctZGF0YVwiIFthdHRyLmNvbHNwYW5dPVwiKGd0RmllbGRzIHwgZ3RWaXNpYmxlOmd0U2V0dGluZ3MpLmxlbmd0aFwiPnt7Z3RUZXh0cy5sb2FkaW5nfX08L3RkPlxyXG4gIDwvdHI+XHJcbiAgPC90Ym9keT5cclxuPC90YWJsZT5cclxuPHRhYmxlIGNsYXNzPVwidGFibGVcIiBuZ0NsYXNzPVwie3tndENsYXNzZXN9fSB7e2d0T3B0aW9ucy5zdGFjayA/ICd0YWJsZS1zdGFja2VkJzonJ319XCJcclxuICAgICAgICpuZ0lmPVwiZ3RGaWVsZHMgJiYgZ3RTZXR0aW5ncyAmJiAoZ3RGaWVsZHMgfCBndFZpc2libGU6Z3RTZXR0aW5nczpyZWZyZXNoUGlwZSkubGVuZ3RoID09PSAwXCI+XHJcbiAgPHRoZWFkPlxyXG4gIDx0cj5cclxuICAgIDx0aCBjbGFzcz1cImd0LW5vLXZpc2libGUtY29sdW1uc1wiPnt7Z3RUZXh0cy5ub1Zpc2libGVDb2x1bW5zSGVhZGluZ319PC90aD5cclxuICA8L3RyPlxyXG4gIDwvdGhlYWQ+XHJcbiAgPHRib2R5PlxyXG4gIDx0cj5cclxuICAgIDx0ZCBjbGFzcz1cImd0LW5vLXZpc2libGUtY29sdW1uc1wiPnt7Z3RUZXh0cy5ub1Zpc2libGVDb2x1bW5zfX08L3RkPlxyXG4gIDwvdHI+XHJcbiAgPC90Ym9keT5cclxuPC90YWJsZT5cclxuPHRhYmxlIGNsYXNzPVwidGFibGVcIiBuZ0NsYXNzPVwie3tndENsYXNzZXN9fSB7e2d0T3B0aW9ucy5zdGFjayA/ICd0YWJsZS1zdGFja2VkJzonJ319XCJcclxuICAgICAgICpuZ0lmPVwiIWd0RmllbGRzIHx8ICFndFNldHRpbmdzXCI+XHJcbiAgPHRoZWFkPlxyXG4gIDx0cj5cclxuICAgIDx0aCBjbGFzcz1cImd0LWxvYWRpbmctY29uZmlnXCI+Jm5ic3A7PC90aD5cclxuICA8L3RyPlxyXG4gIDwvdGhlYWQ+XHJcbiAgPHRib2R5PlxyXG4gIDx0cj5cclxuICAgIDx0ZCBjbGFzcz1cImd0LWxvYWRpbmctY29uZmlnXCI+Jm5ic3A7PC90ZD5cclxuICA8L3RyPlxyXG4gIDwvdGJvZHk+XHJcbjwvdGFibGU+XHJcbmBcclxufSlcclxuZXhwb3J0IGNsYXNzIEdlbmVyaWNUYWJsZUNvbXBvbmVudDxSIGV4dGVuZHMgR3RSb3csIEMgZXh0ZW5kcyBHdEV4cGFuZGVkUm93PFI+PlxyXG5cdGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XHJcblx0Z2V0IGd0Um93Q29tcG9uZW50KCk6IFR5cGU8Qz4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2d0Um93Q29tcG9uZW50O1xyXG5cdH1cclxuXHJcblx0Z2V0IGhhc0VkaXRzKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZWRpdGVkUm93cykubGVuZ3RoID4gMDtcclxuXHR9XHJcblxyXG5cdGdldCBndE9wdGlvbnMoKTogR3RPcHRpb25zIHtcclxuXHRcdHJldHVybiB0aGlzLl9ndE9wdGlvbnM7XHJcblx0fVxyXG5cclxuXHRnZXQgZ3RUb3RhbHMoKTogYW55IHtcclxuXHRcdHJldHVybiB0aGlzLl9ndFRvdGFscztcclxuXHR9XHJcblxyXG5cdGdldCBndEZpZWxkcygpOiBHdENvbmZpZ0ZpZWxkPFIsIGFueT5bXSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fZ3RGaWVsZHM7XHJcblx0fVxyXG5cclxuXHRnZXQgZ3RTZXR0aW5ncygpOiBHdENvbmZpZ1NldHRpbmdbXSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fZ3RTZXR0aW5ncztcclxuXHR9XHJcblxyXG5cdGdldCBndERhdGEoKTogQXJyYXk8YW55PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5fZ3REYXRhO1xyXG5cdH1cclxuXHJcblx0QElucHV0KClcclxuXHRzZXQgZ3RPcHRpb25zKHZhbHVlOiBHdE9wdGlvbnMpIHtcclxuXHRcdHRoaXMuX2d0T3B0aW9ucyA9IHZhbHVlO1xyXG5cclxuXHRcdC8vIGlmIG51bWJlciBvZiByb3dzIGlzIHBhc3NlZCBhbmQgaWYgbnVtYmVyIG9mIHJvd3MgZGlmZmVycyBmcm9tIGN1cnJlbnQgcmVjb3JkIGxlbmd0aC4uLlxyXG5cdFx0aWYgKFxyXG5cdFx0XHR0aGlzLmd0T3B0aW9ucy5udW1iZXJPZlJvd3MgJiZcclxuXHRcdFx0dGhpcy5ndEluZm8ucmVjb3JkTGVuZ3RoICE9PSB0aGlzLmd0T3B0aW9ucy5udW1iZXJPZlJvd3NcclxuXHRcdCkge1xyXG5cdFx0XHQvLyAuLi51cGRhdGUgcmVjb3JkIGxlbmd0aCBhbmQgcmVkcmF3IHRhYmxlXHJcblx0XHRcdHRoaXMuZ3RJbmZvLnJlY29yZExlbmd0aCA9IHRoaXMuZ3RPcHRpb25zLm51bWJlck9mUm93cztcclxuXHRcdFx0dGhpcy5yZWRyYXcoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyAuLi5leHRlbmQgZ3RPcHRpb25zIGRlZmF1bHQgdmFsdWVzIHdpdGggdmFsdWVzIHBhc3NlZCBpbnRvIGNvbXBvbmVudFxyXG5cdFx0dGhpcy5fZ3RPcHRpb25zID0gPEd0T3B0aW9ucz50aGlzLmV4dGVuZChcclxuXHRcdFx0dGhpcy5ndERlZmF1bHRPcHRpb25zLFxyXG5cdFx0XHR0aGlzLl9ndE9wdGlvbnNcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRASW5wdXQoKVxyXG5cdHNldCBndFRvdGFscyh2YWx1ZTogYW55KSB7XHJcblx0XHR0aGlzLl9ndFRvdGFscyA9IHZhbHVlO1xyXG5cdH1cclxuXHRASW5wdXQoKVxyXG5cdHNldCBndEZpZWxkcyh2YWx1ZTogR3RDb25maWdGaWVsZDxSLCBhbnk+W10pIHtcclxuXHRcdHRoaXMuX2d0RmllbGRzID0gdmFsdWU7XHJcblx0XHRjb25zdCBDT0xVTU5TX1dJVEhfQ0xBU1NfTkFNRVMgPSB0aGlzLl9ndEZpZWxkc1xyXG5cdFx0XHQubWFwKGNvbHVtbiA9PiBjb2x1bW4pXHJcblx0XHRcdC5maWx0ZXIoY29sdW1uID0+IGNvbHVtbi5jbGFzc05hbWVzKTtcclxuXHRcdC8vIFRPRE86IHJlbW92ZSBkZXByZWNhdGVkIHdhcm5pbmcgd2hlbiBzZXR0aW5nIGhhcyBiZWVuIHJlbW92ZWRcclxuXHRcdGlmIChDT0xVTU5TX1dJVEhfQ0xBU1NfTkFNRVMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRjb25zb2xlLndhcm4oXHJcblx0XHRcdFx0J0ZpZWxkIHNldHRpbmcgXCJjbGFzc05hbWVzXCIgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQgaW4gZmF2b3IgZm9yIFwiY29sdW1uQ2xhc3NcIiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHBsZWFzZSB1cGRhdGUgZmllbGQgc2V0dGluZ3MgZm9yIGNvbHVtbiB3aXRoIG9iamVjdCBrZXk6ICcgK1xyXG5cdFx0XHRcdFx0Q09MVU1OU19XSVRIX0NMQVNTX05BTUVTWzBdLm9iamVjdEtleVxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRASW5wdXQoKVxyXG5cdHNldCBndFNldHRpbmdzKHZhbHVlOiBHdENvbmZpZ1NldHRpbmdbXSkge1xyXG5cdFx0dGhpcy5fZ3RTZXR0aW5ncyA9IHZhbHVlO1xyXG5cclxuXHRcdC8vIGxvb3AgdGhyb3VnaCBjdXJyZW50IHNldHRpbmdzXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2d0U2V0dGluZ3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Ly8gc2V0IHNvcnQgZW5hYmxlZC9kaXNhYmxlZCBzZXR0aW5nXHJcblx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0uc29ydEVuYWJsZWQgPVxyXG5cdFx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0uc29ydEVuYWJsZWQgIT09IGZhbHNlXHJcblx0XHRcdFx0XHQ/ICh0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnRFbmFibGVkID0gIShcclxuXHRcdFx0XHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQgJiZcclxuXHRcdFx0XHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQuaW5kZXhPZignZGlzYWJsZScpICE9PSAtMVxyXG5cdFx0XHRcdFx0ICApKVxyXG5cdFx0XHRcdFx0OiBmYWxzZTtcclxuXHJcblx0XHRcdC8vIGNoZWNrIGlmIHNvcnRpbmcgaXMgdW5kZWZpbmVkLi4uXHJcblx0XHRcdGlmICh0eXBlb2YgdGhpcy5fZ3RTZXR0aW5nc1tpXS5zb3J0ID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdC8vIC4uLmlzIHNvLCBzZXQgc29ydGluZyBwcm9wZXJ0eSB0byBlbmFibGVcclxuXHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQgPSAnZW5hYmxlJztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gY2hlY2sgaWYgY29sdW1uIG9yZGVyIGlzIHVuZGVmaW5lZC4uLlxyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0dHlwZW9mIHRoaXMuX2d0U2V0dGluZ3NbaV0uY29sdW1uT3JkZXIgPT09ICd1bmRlZmluZWQnICYmXHJcblx0XHRcdFx0dGhpcy5fZ3RTZXR0aW5nc1tpXS5lbmFibGVkICE9PSBmYWxzZVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHQvLyAuLi5pcyBzbywgc2V0IHNvcnRpbmcgcHJvcGVydHkgdG8gZW5hYmxlXHJcblx0XHRcdFx0dGhpcy5fZ3RTZXR0aW5nc1tpXS5jb2x1bW5PcmRlciA9IHRoaXMuX2d0U2V0dGluZ3NbaSAtIDFdXHJcblx0XHRcdFx0XHQ/IHRoaXMuX2d0U2V0dGluZ3NbaSAtIDFdLmNvbHVtbk9yZGVyICsgMVxyXG5cdFx0XHRcdFx0OiAwO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBjaGVjayBpZiBjb2x1bW4gbG9jayBzZXR0aW5ncyBhcmUgdW5kZWZpbmVkLi4uXHJcblx0XHRcdGlmICh0eXBlb2YgdGhpcy5fZ3RTZXR0aW5nc1tpXS5sb2NrU2V0dGluZ3MgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0Ly8gLi4uaWYgc28sIHNldCBsb2NrIHNldHRpbmdzIHRvIGZhbHNlIHVubGVzcyBmaWVsZCBpcyBkaXNhYmxlZCAoZW5hYmxlID09PSBmYWxzZSlcclxuXHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLmxvY2tTZXR0aW5ncyA9XHJcblx0XHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLmVuYWJsZWQgPT09IGZhbHNlIHx8IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR0aGlzLnJlc3RydWN0dXJlU29ydGluZygpO1xyXG5cdH1cclxuXHRASW5wdXQoKVxyXG5cdHNldCBndERhdGEoaW5pdGlhbERhdGE6IEFycmF5PGFueT4pIHtcclxuXHRcdGNvbnN0IGRhdGEgPSB0aGlzLl9ndE9wdGlvbnMubXV0YXRlRGF0YVxyXG5cdFx0XHQ/IFsuLi5pbml0aWFsRGF0YV1cclxuXHRcdFx0OiB0aGlzLmNsb25lRGVlcChpbml0aWFsRGF0YSk7XHJcblx0XHRpZiAodGhpcy5ndE9wdGlvbnMubGF6eUxvYWQgJiYgdGhpcy5ndEluZm8pIHtcclxuXHRcdFx0dGhpcy5ndE1ldGFQaXBlLnRyYW5zZm9ybShcclxuXHRcdFx0XHRkYXRhLFxyXG5cdFx0XHRcdHRoaXMuZ3RPcHRpb25zLnJvd0luZGV4LFxyXG5cdFx0XHRcdHRoaXMuZ3RJbmZvLnBhZ2VDdXJyZW50IC0gMSxcclxuXHRcdFx0XHR0aGlzLmd0SW5mby5yZWNvcmRMZW5ndGhcclxuXHRcdFx0KTtcclxuXHRcdFx0aWYgKHRoaXMubGF6eUFsbFNlbGVjdGVkKSB7XHJcblx0XHRcdFx0Y29uc3QgVU5JUVVFX1JPV1MgPSB0aGlzLnNlbGVjdGVkUm93cy5tYXAocm93ID0+IHJvdy4kJGd0Um93SWQpO1xyXG5cdFx0XHRcdGRhdGEubWFwKHJvdyA9PiB7XHJcblx0XHRcdFx0XHRpZiAoVU5JUVVFX1JPV1MuaW5kZXhPZihyb3cuJCRndFJvd0lkKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5zZWxlY3RlZFJvd3MucHVzaChyb3cpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHRoaXMuX3VwZGF0ZU1ldGFJbmZvKHRoaXMuc2VsZWN0ZWRSb3dzLCAnaXNTZWxlY3RlZCcsIHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmd0TWV0YVBpcGUudHJhbnNmb3JtKGRhdGEsIHRoaXMuZ3RPcHRpb25zLnJvd0luZGV4KTtcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLmd0T3B0aW9ucy5yb3dTZWxlY3Rpb25Jbml0aWFsU3RhdGUpIHtcclxuXHRcdFx0ZGF0YS5tYXAocm93ID0+IHtcclxuXHRcdFx0XHRjb25zdCBzZWxlY3RlZCA9XHJcblx0XHRcdFx0XHR0eXBlb2YgdGhpcy5ndE9wdGlvbnMucm93U2VsZWN0aW9uSW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nXHJcblx0XHRcdFx0XHRcdD8gdGhpcy5ndE9wdGlvbnMucm93U2VsZWN0aW9uSW5pdGlhbFN0YXRlKHJvdylcclxuXHRcdFx0XHRcdFx0OiB0aGlzLmd0T3B0aW9ucy5yb3dTZWxlY3Rpb25Jbml0aWFsU3RhdGU7XHJcblx0XHRcdFx0aWYgKHNlbGVjdGVkKSB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF0gPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF0gPSB7IGlzU2VsZWN0ZWQ6IHRydWUgfTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF0uaXNTZWxlY3RlZCA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkUm93cy5wdXNoKHJvdyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGlmIChcclxuXHRcdFx0dGhpcy5ndE9wdGlvbnMucm93RXhwYW5kSW5pdGlhbFN0YXRlICYmXHJcblx0XHRcdHRoaXMuZ3RPcHRpb25zLnJvd0V4cGFuZEluaXRpYWxDb21wb25lbnRcclxuXHRcdCkge1xyXG5cdFx0XHRkYXRhLm1hcChyb3cgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGV4cGFuZGVkID1cclxuXHRcdFx0XHRcdHR5cGVvZiB0aGlzLmd0T3B0aW9ucy5yb3dFeHBhbmRJbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbidcclxuXHRcdFx0XHRcdFx0PyB0aGlzLmd0T3B0aW9ucy5yb3dFeHBhbmRJbml0aWFsU3RhdGUocm93KVxyXG5cdFx0XHRcdFx0XHQ6IHRoaXMuZ3RPcHRpb25zLnJvd0V4cGFuZEluaXRpYWxTdGF0ZTtcclxuXHRcdFx0XHR0aGlzLmV4cGFuZGVkUm93ID0gdGhpcy5ndE9wdGlvbnMucm93RXhwYW5kSW5pdGlhbENvbXBvbmVudDtcclxuXHJcblx0XHRcdFx0aWYgKGV4cGFuZGVkKSB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF0gPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF0gPSB7IGlzT3BlbjogdHJ1ZSB9O1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXS5pc09wZW4gPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9ndERhdGEgPSBkYXRhO1xyXG5cdH1cclxuXHJcblx0QElucHV0KClcclxuXHRzZXQgZ3RSb3dDb21wb25lbnQodmFsdWU6IFR5cGU8Qz4pIHtcclxuXHRcdGNvbnNvbGUud2FybihcclxuXHRcdFx0J0d0Um93Q29tcG9uZW50IGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHN1cHBvcnQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHJlbGVhc2UsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vaGphbG1lcnMvYW5ndWxhci1nZW5lcmljLXRhYmxlL2lzc3Vlcy8zNCdcclxuXHRcdCk7XHJcblx0XHR0aGlzLl9ndFJvd0NvbXBvbmVudCA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGNvbHVtbldpZHRoOiBPYmplY3QgPSB7fTtcclxuXHRwdWJsaWMgY29uZmlnT2JqZWN0OiBHdENvbmZpZzxSPjtcclxuXHRwdWJsaWMgc29ydE9yZGVyOiBBcnJheTxhbnk+ID0gW107XHJcblx0cHVibGljIG1ldGFJbmZvOiB7IFtndFJvd0lkOiBzdHJpbmddOiBHdFJvd01ldGEgfSA9IHt9O1xyXG5cdHB1YmxpYyBzZWxlY3RlZFJvd3M6IEFycmF5PEd0Um93PiA9IFtdO1xyXG5cdHB1YmxpYyBvcGVuUm93czogQXJyYXk8R3RSb3c+ID0gW107XHJcblx0cHJpdmF0ZSBfZ3RTZXR0aW5nczogR3RDb25maWdTZXR0aW5nW10gPSBbXTtcclxuXHRwcml2YXRlIF9ndEZpZWxkczogR3RDb25maWdGaWVsZDxSLCBhbnk+W10gPSBbXTtcclxuXHRwcml2YXRlIF9ndERhdGE6IEFycmF5PGFueT47XHJcblx0cHJpdmF0ZSBfZ3RUb3RhbHM6IGFueTtcclxuXHRwcml2YXRlIF9ndFJvd0NvbXBvbmVudDogVHlwZTxDPjtcclxuXHRwdWJsaWMgZXhwYW5kZWRSb3c6IHtcclxuXHRcdGNvbXBvbmVudDogVHlwZTxDPjtcclxuXHRcdGRhdGE/OiBBcnJheTxhbnk+O1xyXG5cdH07XHJcblx0cHVibGljIGd0RGVmYXVsdFRleHRzOiBHdFRleHRzID0ge1xyXG5cdFx0bG9hZGluZzogJ0xvYWRpbmcuLi4nLFxyXG5cdFx0bm9EYXRhOiAnTm8gZGF0YScsXHJcblx0XHRub01hdGNoaW5nRGF0YTogJ05vIGRhdGEgbWF0Y2hpbmcgcmVzdWx0cyBmb3VuZCcsXHJcblx0XHRub1Zpc2libGVDb2x1bW5zSGVhZGluZzogJ05vIHZpc2libGUgY29sdW1ucycsXHJcblx0XHRub1Zpc2libGVDb2x1bW5zOiAnUGxlYXNlIHNlbGVjdCBhdCBsZWFzdCBvbmUgY29sdW1uIHRvIGJlIHZpc2libGUuJyxcclxuXHRcdHRhYmxlSW5mbzpcclxuXHRcdFx0J1Nob3dpbmcgI3JlY29yZEZyb20gdG8gI3JlY29yZFRvIG9mICNyZWNvcmRzQWZ0ZXJTZWFyY2ggZW50cmllcy4nLFxyXG5cdFx0dGFibGVJbmZvQWZ0ZXJTZWFyY2g6XHJcblx0XHRcdCdTaG93aW5nICAjcmVjb3JkRnJvbSB0byAjcmVjb3JkVG8gb2YgI3JlY29yZHNBZnRlclNlYXJjaCBlbnRyaWVzIChmaWx0ZXJlZCBmcm9tIGEgdG90YWwgb2YgI3JlY29yZHNBbGwgZW50cmllcykuJyxcclxuXHRcdGNzdkRvd25sb2FkOiAnZG93bmxvYWQnLFxyXG5cdFx0c29ydExhYmVsOiAnU29ydDonLFxyXG5cdFx0cGFnaW5hdGVOZXh0OiAnTmV4dCBwYWdlJyxcclxuXHRcdHBhZ2luYXRlUHJldmlvdXM6ICdQcmV2aW91cyBwYWdlJyxcclxuXHRcdGlubGluZUVkaXRFZGl0ZWQ6ICdQcmVzcyBlbnRlciB0byBzYXZlJ1xyXG5cdH07XHJcblx0QElucHV0KCkgZ3RUZXh0czogR3RUZXh0cyA9IHRoaXMuZ3REZWZhdWx0VGV4dHM7XHJcblx0QElucHV0KCkgZ3RDbGFzc2VzOiBzdHJpbmc7XHJcblx0QE91dHB1dCgpIGd0RXZlbnQ6IEV2ZW50RW1pdHRlcjxHdEV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHRwdWJsaWMgZ3REZWZhdWx0T3B0aW9uczogR3RPcHRpb25zID0ge1xyXG5cdFx0Y3N2RGVsaW1pdGVyOiAnOycsXHJcblx0XHRzdGFjazogZmFsc2UsXHJcblx0XHRsYXp5TG9hZDogZmFsc2UsXHJcblx0XHRjYWNoZTogZmFsc2UsXHJcblx0XHRkZWJvdW5jZVRpbWU6IDIwMCxcclxuXHRcdGhpZ2hsaWdodFNlYXJjaDogZmFsc2UsXHJcblx0XHRyb3dTZWxlY3Rpb246IGZhbHNlLFxyXG5cdFx0cm93U2VsZWN0aW9uQWxsb3dNdWx0aXBsZTogdHJ1ZSxcclxuXHRcdHJvd0V4cGFuZEFsbG93TXVsdGlwbGU6IHRydWUsXHJcblx0XHRudW1iZXJPZlJvd3M6IDEwLFxyXG5cdFx0cmVwb3J0Q29sdW1uV2lkdGg6IGZhbHNlLFxyXG5cdFx0YWxsb3dVbnNvcnRlZDogdHJ1ZSxcclxuXHRcdG11dGF0ZURhdGE6IHRydWVcclxuXHR9O1xyXG5cdHByaXZhdGUgX2d0T3B0aW9uczogR3RPcHRpb25zID0gdGhpcy5ndERlZmF1bHRPcHRpb25zO1xyXG5cdHB1YmxpYyBzdG9yZTogQXJyYXk8YW55PiA9IFtdO1xyXG5cdHB1YmxpYyBsb2FkaW5nID0gdHJ1ZTtcclxuXHRwcml2YXRlIGRlYm91bmNlVGltZXI6IHZvaWQgPSBudWxsO1xyXG5cdHB1YmxpYyBsb2FkaW5nUHJvcGVydHk6IHN0cmluZztcclxuXHRwdWJsaWMgbGF6eUFsbFNlbGVjdGVkID0gZmFsc2U7XHJcblxyXG5cdEBJbnB1dCgpXHJcblx0Z3RJbmZvOiBHdEluZm9ybWF0aW9uID0ge1xyXG5cdFx0cGFnZUN1cnJlbnQ6IDEsXHJcblx0XHRwYWdlVG90YWw6IDAsXHJcblx0XHRyZWNvcmRGcm9tOiAwLFxyXG5cdFx0cmVjb3JkVG86IDAsXHJcblx0XHRyZWNvcmRMZW5ndGg6IHRoaXMuZ3RPcHRpb25zLm51bWJlck9mUm93cyxcclxuXHRcdHJlY29yZHNBbGw6IDAsXHJcblx0XHRyZWNvcmRzQWZ0ZXJGaWx0ZXI6IDAsXHJcblx0XHRyZWNvcmRzQWZ0ZXJTZWFyY2g6IDBcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgcmVmcmVzaFBpcGUgPSBmYWxzZTtcclxuXHRwdWJsaWMgcmVmcmVzaFRvdGFscyA9IGZhbHNlO1xyXG5cdHB1YmxpYyByZWZyZXNoU29ydGluZyA9IGZhbHNlO1xyXG5cdHB1YmxpYyByZWZyZXNoRmlsdGVyID0gZmFsc2U7XHJcblx0cHVibGljIHJlZnJlc2hQYWdlQXJyYXkgPSBmYWxzZTtcclxuXHRwcml2YXRlIGdsb2JhbElubGluZUVkaXRMaXN0ZW5lcjogRnVuY3Rpb247XHJcblx0cHVibGljIGVkaXRlZFJvd3M6IHtcclxuXHRcdFtrZXk6IHN0cmluZ106IHtcclxuXHRcdFx0Y2hhbmdlczogeyBba2V5OiBzdHJpbmddOiBHdFJlbmRlckZpZWxkPEd0Um93LCBhbnk+IH07XHJcblx0XHRcdHJvdzogR3RSb3c7XHJcblx0XHR9O1xyXG5cdH0gPSB7fTtcclxuXHJcblx0cHVibGljIGRhdGE6IHsgZXhwb3J0RGF0YTogQXJyYXk8YW55PiB9ID0geyBleHBvcnREYXRhOiBbXSB9OyAvLyBTdG9yZSBmaWx0ZXJlZCBkYXRhIGZvciBleHBvcnRcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyLCBwcml2YXRlIGd0TWV0YVBpcGU6IEd0TWV0YVBpcGUpIHtcclxuXHRcdHRoaXMuZ3RFdmVudC5zdWJzY3JpYmUoKCRldmVudDogR3RFdmVudCkgPT4ge1xyXG5cdFx0XHRpZiAoJGV2ZW50Lm5hbWUgPT09ICdndC1pbmZvJykge1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlUmVjb3JkUmFuZ2UoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoJGV2ZW50Lm5hbWUgPT09ICdndC1yb3ctdXBkYXRlZCcpIHtcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZVRvdGFscygpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNvcnQgdGFibGUgYnkgb2JqZWN0IGtleS5cclxuXHQgKiBAcGFyYW0gb2JqZWN0S2V5IC0gbmFtZSBvZiBrZXkgdG8gc29ydCBvbi5cclxuXHQgKiBAcGFyYW0gZXZlbnQgLSBzdWNoIGFzIGtleSBwcmVzcyBkdXJpbmcgc29ydGluZy5cclxuXHQgKi9cclxuXHRwdWJsaWMgZ3RTb3J0ID0gZnVuY3Rpb24ob2JqZWN0S2V5OiBzdHJpbmcsIGV2ZW50OiBhbnkpIHtcclxuXHRcdHRoaXMuaW5saW5lRWRpdENhbmNlbCgpOyAvLyBjYW5jZWwgaW5saW5lIGVkaXRpbmdcclxuXHJcblx0XHQvLyBsb29wIHRocm91Z2ggY3VycmVudCBzZXR0aW5nc1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9ndFNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmICh0aGlzLl9ndFNldHRpbmdzW2ldLm9iamVjdEtleSA9PT0gb2JqZWN0S2V5KSB7XHJcblx0XHRcdFx0Ly8gY2hlY2sgaWYgc29ydGluZyBpcyBkaXNhYmxlZC4uLlxyXG5cdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0uc29ydCAmJlxyXG5cdFx0XHRcdFx0dGhpcy5fZ3RTZXR0aW5nc1tpXS5zb3J0LmluZGV4T2YoJ2Rpc2FibGUnKSAhPT0gLTFcclxuXHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdC8vIC4uLmlmIHNvLCBleGl0IGZ1bmN0aW9uIHdpdGhvdXQgYXBwbHlpbmcgYW55IHNvcnRpbmdcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKFxyXG5cdFx0XHRcdFx0LyogY2hlY2sgaWYgc29ydGluZyBpcyB1bmRlZmluZWQuLi4gKi8gdHlwZW9mIHRoaXMuX2d0U2V0dGluZ3NbaV1cclxuXHRcdFx0XHRcdFx0LnNvcnQgPT09ICd1bmRlZmluZWQnXHJcblx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHQvLyAuLi5pcyBzbywgc2V0IHNvcnRpbmcgcHJvcGVydHkgdG8gZW5hYmxlXHJcblx0XHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQgPSAnZW5hYmxlJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBjaGVjayBsZW5ndGhcclxuXHRcdGNvbnN0IGN0cmxLZXkgPSBldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXk7XHJcblx0XHRjb25zdCBzb3J0ID0gdGhpcy5zb3J0T3JkZXIuc2xpY2UoMCk7XHJcblxyXG5cdFx0bGV0IG1hdGNoID0gLTE7XHJcblx0XHRsZXQgbWF0Y2hEZXNjID0gLTE7XHJcblx0XHRsZXQgcG9zID0gLTE7XHJcblxyXG5cdFx0Ly8gY2hlY2sgaWYgcHJvcGVydHkgYWxyZWFkeSBleGl0c1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IGhpdCA9IHNvcnRbaV0uaW5kZXhPZihvYmplY3RLZXkpO1xyXG5cdFx0XHRpZiAoaGl0ICE9PSAtMSkge1xyXG5cdFx0XHRcdG1hdGNoID0gdGhpcy5zb3J0T3JkZXIuaW5kZXhPZihvYmplY3RLZXkpO1xyXG5cdFx0XHRcdG1hdGNoRGVzYyA9XHJcblx0XHRcdFx0XHRtYXRjaCA9PT0gLTEgPyB0aGlzLnNvcnRPcmRlci5pbmRleE9mKCctJyArIG9iamVjdEtleSkgOiBtYXRjaDtcclxuXHRcdFx0XHRwb3MgPSBNYXRoLm1heChtYXRjaCwgbWF0Y2hEZXNjKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGlmIGN0cmwga2V5IG9yIG1ldGEga2V5IGlzIHByZXNzIHRvZ2V0aGVyIHdpdGggc29ydC4uLlxyXG5cdFx0aWYgKGN0cmxLZXkpIHtcclxuXHRcdFx0aWYgKHRoaXMuc29ydE9yZGVyW3RoaXMuc29ydE9yZGVyLmxlbmd0aCAtIDFdID09PSAnJCRndEluaXRpYWxSb3dJbmRleCcpIHtcclxuXHRcdFx0XHR0aGlzLnNvcnRPcmRlci5wb3AoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzd2l0Y2ggKHBvcykge1xyXG5cdFx0XHRcdC8vIC4uLmFuZCBwcm9wZXJ0eSBpcyBub3Qgc29ydGVkIGJlZm9yZS4uLlxyXG5cdFx0XHRcdGNhc2UgLTE6XHJcblx0XHRcdFx0XHQvLyAuLi5hZGQgcHJvcGVydHkgdG8gc29ydGluZ1xyXG5cdFx0XHRcdFx0dGhpcy5zb3J0T3JkZXIucHVzaChvYmplY3RLZXkpO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdC8vIC4uLmFuZCBwcm9wZXJ0eSBpcyBzb3J0ZWQgYmVmb3JlLi4uXHJcblx0XHRcdFx0XHRpZiAobWF0Y2ggIT09IC0xKSB7XHJcblx0XHRcdFx0XHRcdC8vIC4uLmNoYW5nZSBmcm9tIGFzYyB0byBkZXNjIGlmIHNvcnRlZCBhc2NcclxuXHRcdFx0XHRcdFx0dGhpcy5zb3J0T3JkZXJbcG9zXSA9ICctJyArIG9iamVjdEtleTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAodGhpcy5zb3J0T3JkZXIubGVuZ3RoID4gMSkge1xyXG5cdFx0XHRcdFx0XHQvLyAuLi5yZW1vdmUgc29ydGluZyBpZiBzb3J0ZWQgZGVzY1xyXG5cdFx0XHRcdFx0XHRpZiAoY3RybEtleSkge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuc29ydE9yZGVyW3Bvc10gPSBvYmplY3RLZXk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5zb3J0T3JkZXIuc3BsaWNlKHBvcywgMSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAodGhpcy5zb3J0T3JkZXIubGVuZ3RoID09PSAxKSB7XHJcblx0XHRcdFx0XHRcdC8vIC4uLnNldCBzb3J0aW5nIHRvIGFzYyBpZiBvbmx5IHNvcnRlZCBwcm9wZXJ0eVxyXG5cdFx0XHRcdFx0XHR0aGlzLnNvcnRPcmRlcltwb3NdID0gb2JqZWN0S2V5O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8qIGlmIGN0cmwga2V5IG9yIG1ldGEga2V5IGlzIG5vdCBwcmVzcyB0b2dldGhlciB3aXRoIHNvcnQuLi4gKi9cclxuXHRcdFx0c3dpdGNoIChwb3MpIHtcclxuXHRcdFx0XHQvLyAuLi5hbmQgcHJvcGVydHkgaXMgbm90IHNvcnRlZCBiZWZvcmUuLi5cclxuXHRcdFx0XHRjYXNlIC0xOlxyXG5cdFx0XHRcdFx0Ly8gLi4uc29ydCBieSBwcm9wZXJ0eVxyXG5cdFx0XHRcdFx0dGhpcy5zb3J0T3JkZXIgPSBbb2JqZWN0S2V5XTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHQvLyAuLi5jaGFuZ2UgZnJvbSBkZXNjIHRvIGFzYyBhbmQgdmlzZSB2ZXJzYVxyXG5cdFx0XHRcdFx0dGhpcy5zb3J0T3JkZXIgPVxyXG5cdFx0XHRcdFx0XHRtYXRjaCAhPT0gLTFcclxuXHRcdFx0XHRcdFx0XHQ/IFsnLScgKyBvYmplY3RLZXldXHJcblx0XHRcdFx0XHRcdFx0OiBjdHJsS2V5IHx8ICF0aGlzLmd0T3B0aW9ucy5hbGxvd1Vuc29ydGVkXHJcblx0XHRcdFx0XHRcdFx0XHQ/IFtvYmplY3RLZXldXHJcblx0XHRcdFx0XHRcdFx0XHQ6IFtdO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyB1cGRhdGUgc2V0dGluZ3Mgb2JqZWN0IHdpdGggbmV3IHNvcnRpbmcgaW5mb3JtYXRpb25cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZ3RTZXR0aW5ncy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAodGhpcy5fZ3RTZXR0aW5nc1tpXS5vYmplY3RLZXkgPT09IG9iamVjdEtleSkge1xyXG5cdFx0XHRcdHN3aXRjaCAodGhpcy5fZ3RTZXR0aW5nc1tpXS5zb3J0KSB7XHJcblx0XHRcdFx0XHQvLyBpZiBzb3J0ZWQgYXNjLi4uXHJcblx0XHRcdFx0XHRjYXNlICdhc2MnOlxyXG5cdFx0XHRcdFx0XHQvLyAuLi5jaGFuZ2UgdG8gZGVzY1xyXG5cdFx0XHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQgPSAnZGVzYyc7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Ly8gaWYgc29ydGVkIGRlc2MuLi5cclxuXHRcdFx0XHRcdGNhc2UgJ2Rlc2MnOlxyXG5cdFx0XHRcdFx0XHQvLyAuLi5jaGFuZ2UgdG8gYXNjIGlmIGl0J3MgdGhlIG9ubHkgc29ydGVkIHByb3BlcnR5IG90aGVyd2lzZSByZW1vdmUgc29ydGluZ1xyXG5cdFx0XHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQgPVxyXG5cdFx0XHRcdFx0XHRcdCh0aGlzLnNvcnRPcmRlci5sZW5ndGggPT09IDEgJiYgc29ydC5sZW5ndGggPCAyKSB8fFxyXG5cdFx0XHRcdFx0XHRcdGN0cmxLZXkgfHxcclxuXHRcdFx0XHRcdFx0XHQhdGhpcy5ndE9wdGlvbnMuYWxsb3dVbnNvcnRlZFxyXG5cdFx0XHRcdFx0XHRcdFx0PyAnYXNjJ1xyXG5cdFx0XHRcdFx0XHRcdFx0OiAnZW5hYmxlJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHQvLyBpZiBzb3J0aW5nIGVuYWJsZWQuLi5cclxuXHRcdFx0XHRcdGNhc2UgJ2VuYWJsZSc6XHJcblx0XHRcdFx0XHRcdC8vIC4uLmNoYW5nZSB0byBhc2NcclxuXHRcdFx0XHRcdFx0dGhpcy5fZ3RTZXR0aW5nc1tpXS5zb3J0ID0gJ2FzYyc7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnRPcmRlciA9XHJcblx0XHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQgPT09ICdlbmFibGUnXHJcblx0XHRcdFx0XHRcdD8gdGhpcy5fZ3RTZXR0aW5ncy5sZW5ndGggLSAxXHJcblx0XHRcdFx0XHRcdDogdGhpcy5zb3J0T3JkZXIuaW5kZXhPZihvYmplY3RLZXkpID09PSAtMVxyXG5cdFx0XHRcdFx0XHRcdD8gdGhpcy5zb3J0T3JkZXIuaW5kZXhPZignLScgKyBvYmplY3RLZXkpXHJcblx0XHRcdFx0XHRcdFx0OiB0aGlzLnNvcnRPcmRlci5pbmRleE9mKG9iamVjdEtleSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoXHJcblx0XHRcdFx0dGhpcy5fZ3RTZXR0aW5nc1tpXS5zb3J0ICYmXHJcblx0XHRcdFx0dGhpcy5fZ3RTZXR0aW5nc1tpXS5zb3J0LmluZGV4T2YoJ2Rpc2FibGUnKSA9PT0gLTEgJiZcclxuXHRcdFx0XHR0aGlzLnNvcnRPcmRlci5pbmRleE9mKHRoaXMuX2d0U2V0dGluZ3NbaV0ub2JqZWN0S2V5KSA9PT0gLTEgJiZcclxuXHRcdFx0XHR0aGlzLnNvcnRPcmRlci5pbmRleE9mKCctJyArIHRoaXMuX2d0U2V0dGluZ3NbaV0ub2JqZWN0S2V5KSA9PT0gLTFcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0dGhpcy5fZ3RTZXR0aW5nc1tpXS5zb3J0ID0gJ2VuYWJsZSc7XHJcblx0XHRcdFx0dGhpcy5fZ3RTZXR0aW5nc1tpXS5zb3J0T3JkZXIgPSB0aGlzLl9ndFNldHRpbmdzLmxlbmd0aCAtIDE7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyByZWZyZXNoIHNvcnRpbmcgcGlwZVxyXG5cdFx0dGhpcy5yZWZyZXNoU29ydGluZyA9ICF0aGlzLnJlZnJlc2hTb3J0aW5nO1xyXG5cdFx0dGhpcy5yZWZyZXNoUGFnZUFycmF5ID0gIXRoaXMucmVmcmVzaFBhZ2VBcnJheTtcclxuXHJcblx0XHQvLyBzb3J0IGJ5IGluaXRpYWwgc29ydCBvcmRlciBhcyBsYXN0IHJlc29ydFxyXG5cdFx0dGhpcy5zb3J0T3JkZXIucHVzaCgnJCRndEluaXRpYWxSb3dJbmRleCcpO1xyXG5cclxuXHRcdC8vIGVtaXQgc29ydCBldmVudFxyXG5cdFx0dGhpcy5ndEV2ZW50LmVtaXQoe1xyXG5cdFx0XHRuYW1lOiAnZ3Qtc29ydGluZy1hcHBsaWVkJyxcclxuXHRcdFx0dmFsdWU6IHRoaXMuc29ydE9yZGVyXHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBDaGFuZ2UgbnVtYmVyIG9mIHJvd3MgdG8gYmUgZGlzcGxheWVkLlxyXG5cdCAqIEBwYXJhbSByb3dMZW5ndGggLSB0b3RhbCBudW1iZXIgb2Ygcm93cy5cclxuXHQgKiBAcGFyYW0gcmVzZXQgLSBzaG91bGQgcGFnZSBiZSByZXNldCB0byBmaXJzdCBwYWdlLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBjaGFuZ2VSb3dMZW5ndGggPSBmdW5jdGlvbihyb3dMZW5ndGg6IGFueSwgcmVzZXQ/OiBib29sZWFuKSB7XHJcblx0XHRsZXQgbGVuZ3RoVmFsdWUgPSBpc05hTihwYXJzZUludChyb3dMZW5ndGgsIDEwKSlcclxuXHRcdFx0PyAwXHJcblx0XHRcdDogcGFyc2VJbnQocm93TGVuZ3RoLCAxMCk7XHJcblx0XHRsZXQgbmV3UG9zaXRpb24gPSAxO1xyXG5cclxuXHRcdGlmICghbGVuZ3RoVmFsdWUgJiYgdGhpcy5ndERhdGEpIHtcclxuXHRcdFx0bGVuZ3RoVmFsdWUgPSB0aGlzLmd0RGF0YS5sZW5ndGg7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gaWYgcmVzZXQgaXMgbm90IHRydWUgYW5kIHdlJ3JlIG5vdCBsYXp5IGxvYWRpbmcgZGF0YS4uLlxyXG5cdFx0aWYgKHJlc2V0ICE9PSB0cnVlICYmIHRoaXMuX2d0T3B0aW9ucy5sYXp5TG9hZCAhPT0gdHJ1ZSkge1xyXG5cdFx0XHQvLyAuLi5nZXQgY3VycmVudCBwb3NpdGlvbiBpbiByZWNvcmQgc2V0XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRSZWNvcmQgPVxyXG5cdFx0XHRcdHRoaXMuZ3RJbmZvLnJlY29yZExlbmd0aCAqICh0aGlzLmd0SW5mby5wYWdlQ3VycmVudCAtIDEpO1xyXG5cdFx0XHRjb25zdCBjdXJyZW50UG9zaXRpb24gPVxyXG5cdFx0XHRcdHRoaXMuX2d0RGF0YS5pbmRleE9mKHRoaXMuX2d0RGF0YVtjdXJyZW50UmVjb3JkXSkgKyAxO1xyXG5cclxuXHRcdFx0Ly8gLi4uZ2V0IG5ldyBwb3NpdGlvblxyXG5cdFx0XHRuZXdQb3NpdGlvbiA9IE1hdGguY2VpbChjdXJyZW50UG9zaXRpb24gLyBsZW5ndGhWYWx1ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY2hhbmdlIHJvdyBsZW5ndGhcclxuXHRcdHRoaXMuZ3RJbmZvLnJlY29yZExlbmd0aCA9IGxlbmd0aFZhbHVlO1xyXG5cclxuXHRcdC8vIGdvIHRvIG5ldyBwb3NpdGlvblxyXG5cdFx0dGhpcy5ndEluZm8ucGFnZUN1cnJlbnQgPSBuZXdQb3NpdGlvbjtcclxuXHJcblx0XHQvLyBpZiBsYXp5IGxvYWRpbmcgZGF0YS4uLlxyXG5cdFx0aWYgKHRoaXMuX2d0T3B0aW9ucy5sYXp5TG9hZCkge1xyXG5cdFx0XHQvLyAuLi5yZXBsYWNlIGRhdGEgd2l0aCBwbGFjZSBob2xkZXJzIGZvciBuZXcgZGF0YVxyXG5cdFx0XHR0aGlzLl9ndERhdGFbMF0gPSB0aGlzLmxvYWRpbmdDb250ZW50KGxlbmd0aFZhbHVlKTtcclxuXHJcblx0XHRcdC8vIC4uLmVtcHR5IGN1cnJlbnQgc3RvcmVcclxuXHRcdFx0dGhpcy5zdG9yZSA9IFtdO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHRoaXMudXBkYXRlUmVjb3JkUmFuZ2UoKTtcclxuXHJcblx0XHR0aGlzLmd0RXZlbnQuZW1pdCh7XHJcblx0XHRcdG5hbWU6ICdndC1yb3ctbGVuZ3RoLWNoYW5nZWQnLFxyXG5cdFx0XHR2YWx1ZTogbGVuZ3RoVmFsdWVcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZvcmNlIGEgcmVkcmF3IG9mIHRhYmxlIHJvd3MuXHJcblx0ICogQXMgdGhlIHRhYmxlIHVzZXMgcHVyZSBwaXBlcywgd2UgbmVlZCB0byBmb3JjZSBhIHJlZHJhdyBpZiBhbiBvYmplY3QgaW4gdGhlIGFycmF5IGlzIGNoYW5nZWQgdG8gc2VlIHRoZSBjaGFuZ2VzLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyByZWRyYXcgPSBmdW5jdGlvbigkZXZlbnQ/OiBhbnkpIHtcclxuXHRcdHRoaXMucmVmcmVzaFNvcnRpbmcgPSAhdGhpcy5yZWZyZXNoU29ydGluZztcclxuXHRcdHRoaXMucmVmcmVzaFBhZ2VBcnJheSA9ICF0aGlzLnJlZnJlc2hQYWdlQXJyYXk7XHJcblx0XHR0aGlzLnJlZnJlc2hQaXBlID0gIXRoaXMucmVmcmVzaFBpcGU7XHJcblx0fTtcclxuXHJcblx0LyoqIFVwZGF0ZSByZWNvcmQgcmFuZ2UuICovXHJcblx0cHJpdmF0ZSB1cGRhdGVSZWNvcmRSYW5nZSgpIHtcclxuXHRcdHRoaXMuZ3RJbmZvLnJlY29yZEZyb20gPVxyXG5cdFx0XHR0aGlzLmd0SW5mby5yZWNvcmRzQWZ0ZXJTZWFyY2ggPT09IDBcclxuXHRcdFx0XHQ/IDBcclxuXHRcdFx0XHQ6ICh0aGlzLmd0SW5mby5wYWdlQ3VycmVudCAtIDEpICogdGhpcy5ndEluZm8ucmVjb3JkTGVuZ3RoICsgMTtcclxuXHRcdHRoaXMuZ3RJbmZvLnJlY29yZFRvID1cclxuXHRcdFx0dGhpcy5ndEluZm8ucmVjb3Jkc0FmdGVyU2VhcmNoIDxcclxuXHRcdFx0dGhpcy5ndEluZm8ucGFnZUN1cnJlbnQgKiB0aGlzLmd0SW5mby5yZWNvcmRMZW5ndGhcclxuXHRcdFx0XHQ/IHRoaXMuZ3RJbmZvLnJlY29yZHNBZnRlclNlYXJjaFxyXG5cdFx0XHRcdDogdGhpcy5ndEluZm8ucGFnZUN1cnJlbnQgKiB0aGlzLmd0SW5mby5yZWNvcmRMZW5ndGg7XHJcblx0fVxyXG5cclxuXHQvKiogVXBkYXRlIHRvdGFscy4gKi9cclxuXHRwcml2YXRlIHVwZGF0ZVRvdGFscygpIHtcclxuXHRcdHRoaXMucmVmcmVzaFRvdGFscyA9ICF0aGlzLnJlZnJlc2hUb3RhbHM7XHJcblx0fVxyXG5cclxuXHQvKiogR28gdG8gbmV4dCBwYWdlLiAqL1xyXG5cdHB1YmxpYyBuZXh0UGFnZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0Y29uc3QgcGFnZSA9XHJcblx0XHRcdHRoaXMuZ3RJbmZvLnBhZ2VDdXJyZW50ID09PSB0aGlzLmd0SW5mby5wYWdlVG90YWxcclxuXHRcdFx0XHQ/IHRoaXMuZ3RJbmZvLnBhZ2VUb3RhbFxyXG5cdFx0XHRcdDogdGhpcy5ndEluZm8ucGFnZUN1cnJlbnQgKyAxO1xyXG5cdFx0dGhpcy5nb1RvUGFnZShwYWdlKTtcclxuXHR9O1xyXG5cclxuXHQvKiogR28gdG8gcHJldmlvdXMgcGFnZS4gKi9cclxuXHRwdWJsaWMgcHJldmlvdXNQYWdlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRjb25zdCBwYWdlID1cclxuXHRcdFx0dGhpcy5ndEluZm8ucGFnZUN1cnJlbnQgPT09IDEgPyAxIDogdGhpcy5ndEluZm8ucGFnZUN1cnJlbnQgLSAxO1xyXG5cdFx0dGhpcy5nb1RvUGFnZShwYWdlKTtcclxuXHR9O1xyXG5cclxuXHQvKiogUmVxdWVzdCBtb3JlIGRhdGEgKHVzZWQgd2hlbiBsYXp5IGxvYWRpbmcpICovXHJcblx0cHJpdmF0ZSBnZXREYXRhID0gZnVuY3Rpb24oKSB7XHJcblx0XHQvLyAuLi5lbWl0IGV2ZW50IHJlcXVlc3RpbmcgZm9yIG1vcmUgZGF0YVxyXG5cdFx0dGhpcy5ndEV2ZW50LmVtaXQoe1xyXG5cdFx0XHRuYW1lOiAnZ3QtcGFnZS1jaGFuZ2VkLWxhenknLFxyXG5cdFx0XHR2YWx1ZToge1xyXG5cdFx0XHRcdHBhZ2VDdXJyZW50OiB0aGlzLmd0SW5mby5wYWdlQ3VycmVudCxcclxuXHRcdFx0XHRyZWNvcmRMZW5ndGg6IHRoaXMuZ3RJbmZvLnJlY29yZExlbmd0aFxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBHbyB0byBzcGVjaWZpYyBwYWdlLlxyXG5cdCAqIEBwYXJhbSBwYWdlIC0gcGFnZSBudW1iZXIuXHJcblx0ICovXHJcblx0cHVibGljIGdvVG9QYWdlID0gZnVuY3Rpb24ocGFnZTogbnVtYmVyKSB7XHJcblx0XHRjb25zdCBwcmV2aW91c1BhZ2UgPSB0aGlzLmd0SW5mby5wYWdlQ3VycmVudDtcclxuXHRcdHRoaXMuZ3RJbmZvLnBhZ2VDdXJyZW50ID0gcGFnZTtcclxuXHRcdHRoaXMuaW5saW5lRWRpdENhbmNlbCgpOyAvLyBjYW5jZWwgaW5saW5lIGVkaXRcclxuXHJcblx0XHQvLyBpZiBsYXp5IGxvYWRpbmcgYW5kIGlmIHBhZ2UgY29udGFpbnMgbm8gcmVjb3Jkcy4uLlxyXG5cdFx0aWYgKHRoaXMuX2d0T3B0aW9ucy5sYXp5TG9hZCkge1xyXG5cdFx0XHQvLyAuLi5pZiBkYXRhIGZvciBjdXJyZW50IHBhZ2UgY29udGFpbnMgbm8gZW50cmllcy4uLlxyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0dGhpcy5fZ3RPcHRpb25zLmNhY2hlID09PSBmYWxzZSB8fFxyXG5cdFx0XHRcdHRoaXMuX2d0RGF0YVt0aGlzLmd0SW5mby5wYWdlQ3VycmVudCAtIDFdLmxlbmd0aCA9PT0gMFxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHQvLyAuLi5jcmVhdGUgdGVtcG9yYXJ5IGNvbnRlbnQgd2hpbGUgd2FpdGluZyBmb3IgZGF0YVxyXG5cdFx0XHRcdHRoaXMuX2d0RGF0YVt0aGlzLmd0SW5mby5wYWdlQ3VycmVudCAtIDFdID0gdGhpcy5sb2FkaW5nQ29udGVudChcclxuXHRcdFx0XHRcdHRoaXMuZ3RJbmZvLnJlY29yZExlbmd0aFxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0dGhpcy5sb2FkaW5nID0gdHJ1ZTsgLy8gbG9hZGluZyB0cnVlXHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gLi4uaWYgZmlyc3QgZW50cnkgaW4gY3VycmVudCBwYWdlIGVxdWFscyBvdXIgbG9hZGluZyBwbGFjZWhvbGRlci4uLlxyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0dGhpcy5fZ3REYXRhW3RoaXMuZ3RJbmZvLnBhZ2VDdXJyZW50IC0gMV1bMF1bdGhpcy5sb2FkaW5nUHJvcGVydHldID09PVxyXG5cdFx0XHRcdHRoaXMuZ3RUZXh0cy5sb2FkaW5nXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdC8vIC4uLmdldCBkYXRhXHJcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VUaW1lcik7XHJcblx0XHRcdFx0dGhpcy5kZWJvdW5jZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLmdldERhdGEoKTtcclxuXHRcdFx0XHR9LCB0aGlzLl9ndE9wdGlvbnMuZGVib3VuY2VUaW1lKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHRoaXMudXBkYXRlUmVjb3JkUmFuZ2UoKTtcclxuXHJcblx0XHQvLyAuLi5lbWl0IHBhZ2UgY2hhbmdlIGV2ZW50XHJcblx0XHRpZiAocHJldmlvdXNQYWdlICE9PSBwYWdlKSB7XHJcblx0XHRcdHRoaXMuZ3RFdmVudC5lbWl0KHtcclxuXHRcdFx0XHRuYW1lOiAnZ3QtcGFnZS1jaGFuZ2VkJyxcclxuXHRcdFx0XHR2YWx1ZToge1xyXG5cdFx0XHRcdFx0cGFnZUN1cnJlbnQ6IHRoaXMuZ3RJbmZvLnBhZ2VDdXJyZW50LFxyXG5cdFx0XHRcdFx0cGFnZVByZXZpb3VzOiBwcmV2aW91c1BhZ2UsXHJcblx0XHRcdFx0XHRyZWNvcmRMZW5ndGg6IHRoaXMuZ3RJbmZvLnJlY29yZExlbmd0aFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogR2V0IG1ldGEgZGF0YSBmb3Igcm93LlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBnZXRSb3dTdGF0ZShyb3c6IFIpOiBHdFJvd01ldGEge1xyXG5cdFx0cmV0dXJuIHR5cGVvZiB0aGlzLm1ldGFJbmZvW3Jvdy4kJGd0Um93SWRdID09PSAndW5kZWZpbmVkJ1xyXG5cdFx0XHQ/IG51bGxcclxuXHRcdFx0OiB0aGlzLm1ldGFJbmZvW3Jvdy4kJGd0Um93SWRdO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRXhwYW5kIGFsbCByb3dzLlxyXG5cdCAqIEBwYXJhbSBleHBhbmRlZFJvdyAtIGNvbXBvbmVudCB0byByZW5kZXIgd2hlbiByb3dzIGFyZSBleHBhbmRlZC5cclxuXHQgKi9cclxuXHRwdWJsaWMgZXhwYW5kQWxsUm93cyhleHBhbmRlZFJvdzogeyBjb21wb25lbnQ6IFR5cGU8Qz47IGRhdGE/OiBhbnkgfSk6IHZvaWQge1xyXG5cdFx0dGhpcy5leHBhbmRlZFJvdyA9IGV4cGFuZGVkUm93O1xyXG5cdFx0dGhpcy5fdG9nZ2xlQWxsUm93UHJvcGVydHkoJ2lzT3BlbicsIHRydWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29sbGFwc2UgYWxsIHJvd3MuXHJcblx0ICovXHJcblx0cHVibGljIGNvbGxhcHNlQWxsUm93cygpOiB2b2lkIHtcclxuXHRcdHRoaXMuX3RvZ2dsZUFsbFJvd1Byb3BlcnR5KCdpc09wZW4nLCBmYWxzZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZWxlY3QgYWxsIHJvd3MuXHJcblx0ICovXHJcblx0cHVibGljIHNlbGVjdEFsbFJvd3MoKTogdm9pZCB7XHJcblx0XHR0aGlzLl90b2dnbGVBbGxSb3dQcm9wZXJ0eSgnaXNTZWxlY3RlZCcsIHRydWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVzZWxlY3QgYWxsIHJvd3MuXHJcblx0ICovXHJcblx0cHVibGljIGRlc2VsZWN0QWxsUm93cygpOiB2b2lkIHtcclxuXHRcdHRoaXMuX3RvZ2dsZUFsbFJvd1Byb3BlcnR5KCdpc1NlbGVjdGVkJywgZmFsc2UpO1xyXG5cdH1cclxuXHQvKipcclxuXHQgKiBUb2dnbGUgYWxsIHJvd3MuXHJcblx0ICovXHJcblx0cHVibGljIHRvZ2dsZUFsbFJvd3MoKTogdm9pZCB7XHJcblx0XHRpZiAodGhpcy5fZ3RPcHRpb25zLmxhenlMb2FkKSB7XHJcblx0XHRcdGlmICghdGhpcy5sYXp5QWxsU2VsZWN0ZWQgfHwgdGhpcy5zZWxlY3RlZFJvd3MubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0dGhpcy5zZWxlY3RBbGxSb3dzKCk7XHJcblx0XHRcdFx0dGhpcy5sYXp5QWxsU2VsZWN0ZWQgPSB0cnVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuZGVzZWxlY3RBbGxSb3dzKCk7XHJcblx0XHRcdFx0dGhpcy5sYXp5QWxsU2VsZWN0ZWQgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKHRoaXMuc2VsZWN0ZWRSb3dzLmxlbmd0aCAhPT0gdGhpcy5ndERhdGEubGVuZ3RoKSB7XHJcblx0XHRcdFx0dGhpcy5zZWxlY3RBbGxSb3dzKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5kZXNlbGVjdEFsbFJvd3MoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVG9nZ2xlIHJvdyBjb2xsYXBzZWQgc3RhdGUgaWUuIGV4cGFuZGVkL29wZW4gb3IgY29sbGFwc2VkL2Nsb3NlZC5cclxuXHQgKiBAcGFyYW0gcm93IC0gcm93IG9iamVjdCB0aGF0IHNob3VsZCBiZSBleHBhbmRlZC9jb2xsYXBzZWQuXHJcblx0ICogQHBhcmFtIGV4cGFuZGVkUm93IC0gY29tcG9uZW50IHRvIHJlbmRlciB3aGVuIHJvdyBpcyBleHBhbmRlZC5cclxuXHQgKi9cclxuXHRwdWJsaWMgdG9nZ2xlQ29sbGFwc2UoXHJcblx0XHRyb3c6IEd0Um93LFxyXG5cdFx0ZXhwYW5kZWRSb3c/OiB7IGNvbXBvbmVudDogVHlwZTxDPjsgZGF0YT86IGFueSB9XHJcblx0KSB7XHJcblx0XHRpZiAoZXhwYW5kZWRSb3cpIHtcclxuXHRcdFx0dGhpcy5leHBhbmRlZFJvdyA9IGV4cGFuZGVkUm93O1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fdG9nZ2xlUm93UHJvcGVydHkocm93LCAnaXNPcGVuJyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUb2dnbGUgcm93IHNlbGVjdGVkIHN0YXRlIGllLiBzZWxlY3RlZCBvciBub3QuXHJcblx0ICogQHBhcmFtIHJvdyAtIHJvdyBvYmplY3QgdGhhdCBzaG91bGQgYmUgc2VsZWN0ZWQvZGVzZWxlY3RlZC5cclxuXHQgKi9cclxuXHRwdWJsaWMgdG9nZ2xlU2VsZWN0KHJvdzogR3RSb3cpIHtcclxuXHRcdHRoaXMuX3RvZ2dsZVJvd1Byb3BlcnR5KHJvdywgJ2lzU2VsZWN0ZWQnKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyByb3dDbGljayhyb3c6IEd0Um93LCAkZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuXHRcdHRoaXMuZ3RFdmVudC5lbWl0KHtcclxuXHRcdFx0bmFtZTogJ2d0LXJvdy1jbGlja2VkJyxcclxuXHRcdFx0dmFsdWU6IHsgcm93OiByb3csIGV2ZW50OiAkZXZlbnQgfVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVcGRhdGUgcm93IGRhdGEuXHJcblx0ICogQHBhcmFtIHJvdyAtIHJvdyBvYmplY3QgdGhhdCBoYXMgYmVlbiBlZGl0ZWQuXHJcblx0ICogQHBhcmFtIG9sZFZhbHVlIC0gcm93IG9iamVjdCBiZWZvcmUgZWRpdC5cclxuXHQgKi9cclxuXHRwdWJsaWMgdXBkYXRlUm93KHJvdzogR3RSb3csIG9sZFZhbHVlOiBHdFJvdykge1xyXG5cdFx0dGhpcy5fdG9nZ2xlUm93UHJvcGVydHkocm93LCAnaXNVcGRhdGVkJywgb2xkVmFsdWUpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogcmVtb3ZlcyBhIHJvdyBmcm9tIHRoZSB0YWJsZVxyXG5cdCAqIEBwYXJhbSByb3cgLSB0aGUgcm93IG9iamVjdCB0byByZW1vdmVcclxuXHQgKi9cclxuXHRwdWJsaWMgcmVtb3ZlUm93KHJvdzogR3RSb3cpIHtcclxuXHRcdGlmICh0aGlzLmlzUm93U2VsZWN0ZWQocm93KSkge1xyXG5cdFx0XHR0aGlzLnRvZ2dsZVNlbGVjdChyb3cpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgaW5kZXggPSB0aGlzLl9ndERhdGEuaW5kZXhPZihyb3cpO1xyXG5cdFx0dGhpcy5fZ3REYXRhLnNwbGljZShpbmRleCwgMSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBjaGVjayBpZiBhIHJvdyBpcyBzZWxlY3RlZFxyXG5cdCAqIEBwYXJhbSByb3cgLSByb3cgb2JqZWN0XHJcblx0ICovXHJcblx0cHVibGljIGlzUm93U2VsZWN0ZWQocm93OiBHdFJvdyk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0dGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXSAmJiB0aGlzLm1ldGFJbmZvW3Jvdy4kJGd0Um93SWRdLmlzU2VsZWN0ZWRcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBVcGRhdGUgbWV0YSBpbmZvIGZvciBhbGwgcm93cywgaWUuIGlzU2VsZWN0ZWQsIGlzT3Blbi5cclxuXHQgKiBAcGFyYW0gYXJyYXkgLSBhcnJheSB0aGF0IGhvbGRzIHJvd3MgdGhhdCBuZWVkIHRvIGJlIHVwZGF0ZWQuXHJcblx0ICogQHBhcmFtIHByb3BlcnR5IC0gbmFtZSBvZiBwcm9wZXJ0eSB0aGF0IHNob3VsZCBiZSBjaGFuZ2VkL3RvZ2dsZWQuXHJcblx0ICogQHBhcmFtIGFjdGl2ZSAtIHNob3VsZCByb3dzIGJlIGV4cGFuZGVkL29wZW4sIHNlbGVjdGVkLlxyXG5cdCAqIEBwYXJhbSBleGNlcHRpb24gLSB1cGRhdGUgYWxsIHJvd3MgZXhjZXB0IHRoaXMgb25lLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgX3VwZGF0ZU1ldGFJbmZvKFxyXG5cdFx0YXJyYXk6IEFycmF5PEd0Um93PixcclxuXHRcdHByb3BlcnR5OiBzdHJpbmcsXHJcblx0XHRhY3RpdmU6IGJvb2xlYW4sXHJcblx0XHRleGNlcHRpb24/OiBHdFJvd1xyXG5cdCkge1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoIXRoaXMubWV0YUluZm9bYXJyYXlbaV0uJCRndFJvd0lkXSkge1xyXG5cdFx0XHRcdHRoaXMubWV0YUluZm9bYXJyYXlbaV0uJCRndFJvd0lkXSA9IHt9O1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChleGNlcHRpb24gJiYgYXJyYXlbaV0uJCRndFJvd0lkID09PSBleGNlcHRpb24uJCRndFJvd0lkKSB7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5tZXRhSW5mb1thcnJheVtpXS4kJGd0Um93SWRdW3Byb3BlcnR5XSA9IGFjdGl2ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUHVzaCBzZWxlY3RlZC9leHBhbmRlZCBsYXp5IGxvYWRlZCByb3dzIHRvIGFycmF5IHdpdGggbWV0YSBkYXRhLlxyXG5cdCAqIEBwYXJhbSB0YXJnZXQgLSBhcnJheSB0byB3aGljaCByb3dzIHNob3VsZCBiZSBhZGRlZC5cclxuXHQgKiBAcGFyYW0gc291cmNlIC0gYXJyYXkgdGhhdCBob2xkcyByb3dzIHRoYXQgc2hvdWxkIGJlIGFkZGVkLlxyXG5cdCAqIEByZXR1cm5zIGFycmF5IHdpdGggYWRkZWQgcm93cy5cclxuXHQgKi9cclxuXHRwcml2YXRlIF9wdXNoTGF6eVJvd3MoXHJcblx0XHR0YXJnZXQ6IEFycmF5PEd0Um93PixcclxuXHRcdHNvdXJjZTogQXJyYXk8R3RSb3c+XHJcblx0KTogQXJyYXk8R3RSb3c+IHtcclxuXHRcdGNvbnN0IFVOSVFVRV9ST1dTID0gdGFyZ2V0Lm1hcChyb3cgPT4gcm93LiQkZ3RSb3dJZCk7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHQvLyBvbmx5IGFkZCBpZiBub3QgYWxyZWFkeSBpbiBsaXN0XHJcblx0XHRcdGlmIChVTklRVUVfUk9XUy5pbmRleE9mKHNvdXJjZVtpXS4kJGd0Um93SWQpID09PSAtMSkge1xyXG5cdFx0XHRcdHRhcmdldC5wdXNoKHNvdXJjZVtpXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiB0YXJnZXQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUb2dnbGUgbWV0YSBpbmZvIGZvciBhbGwgcm93cywgaWUuIGlzU2VsZWN0ZWQsIGlzT3Blbi5cclxuXHQgKiBAcGFyYW0gcHJvcGVydHkgLSBuYW1lIG9mIHByb3BlcnR5IHRoYXQgc2hvdWxkIGJlIGNoYW5nZWQvdG9nZ2xlZC5cclxuXHQgKiBAcGFyYW0gYWN0aXZlIC0gc2hvdWxkIHJvd3MgYmUgZXhwYW5kZWQvb3Blbiwgc2VsZWN0ZWQuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBfdG9nZ2xlQWxsUm93UHJvcGVydHkocHJvcGVydHk6IHN0cmluZywgYWN0aXZlOiBib29sZWFuKSB7XHJcblx0XHRsZXQgZXZlbnROYW1lOiBzdHJpbmc7XHJcblx0XHRsZXQgZXZlbnRWYWx1ZTogYW55O1xyXG5cdFx0c3dpdGNoIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRjYXNlICdpc09wZW4nOlxyXG5cdFx0XHRcdC8vIGNoZWNrIGlmIG11bHRpcGxlIGV4cGFuZGVkIHJvd3MgYXJlIGFsbG93ZWQuLi5cclxuXHRcdFx0XHRpZiAodGhpcy5fZ3RPcHRpb25zLnJvd0V4cGFuZEFsbG93TXVsdGlwbGUgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHQvLyAuLi5pZiBub3QsIGV4aXQgZnVuY3Rpb25cclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFxyXG5cdFx0XHRcdFx0XHQnZmVhdHVyZSBkaXNhYmxlZDogZW5hYmxlIGJ5IHNldHRpbmcgXCJyb3dFeHBhbmRBbGxvd011bHRpcGxlID0gdHJ1ZVwiJ1xyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGFjdGl2ZSkge1xyXG5cdFx0XHRcdFx0ZXZlbnROYW1lID0gJ2V4cGFuZC1hbGwnO1xyXG5cdFx0XHRcdFx0dGhpcy5vcGVuUm93cyA9IHRoaXMuX2d0T3B0aW9ucy5sYXp5TG9hZFxyXG5cdFx0XHRcdFx0XHQ/IHRoaXMuX3B1c2hMYXp5Um93cyhcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMub3BlblJvd3MsXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLl9ndERhdGFbdGhpcy5ndEluZm8ucGFnZUN1cnJlbnQgLSAxXS5zbGljZSgpXHJcblx0XHRcdFx0XHRcdCAgKVxyXG5cdFx0XHRcdFx0XHQ6IHRoaXMuX2d0RGF0YS5zbGljZSgpO1xyXG5cdFx0XHRcdFx0dGhpcy5fdXBkYXRlTWV0YUluZm8odGhpcy5vcGVuUm93cywgcHJvcGVydHksIGFjdGl2ZSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGV2ZW50TmFtZSA9ICdjb2xsYXBzZS1hbGwnO1xyXG5cdFx0XHRcdFx0dGhpcy5fdXBkYXRlTWV0YUluZm8odGhpcy5vcGVuUm93cywgcHJvcGVydHksIGFjdGl2ZSk7XHJcblx0XHRcdFx0XHR0aGlzLm9wZW5Sb3dzID0gW107XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGV2ZW50VmFsdWUgPSB7XHJcblx0XHRcdFx0XHRleHBhbmRlZFJvd3M6IHRoaXMub3BlblJvd3MsXHJcblx0XHRcdFx0XHRjaGFuZ2VkUm93OiAnYWxsJ1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2lzU2VsZWN0ZWQnOlxyXG5cdFx0XHRcdC8vIGNoZWNrIGlmIG11bHRpIHJvdyBzZWxlY3Rpb24gaXMgYWxsb3dlZC4uLlxyXG5cdFx0XHRcdGlmICh0aGlzLl9ndE9wdGlvbnMucm93U2VsZWN0aW9uQWxsb3dNdWx0aXBsZSA9PT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdC8vIC4uLmlmIG5vdCwgZXhpdCBmdW5jdGlvblxyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdFx0XHRcdCdmZWF0dXJlIGRpc2FibGVkOiBlbmFibGUgYnkgc2V0dGluZyBcInJvd1NlbGVjdGlvbkFsbG93TXVsdGlwbGUgPSB0cnVlXCInXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoYWN0aXZlKSB7XHJcblx0XHRcdFx0XHRldmVudE5hbWUgPSAnc2VsZWN0LWFsbCc7XHJcblx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkUm93cyA9IHRoaXMuX2d0T3B0aW9ucy5sYXp5TG9hZFxyXG5cdFx0XHRcdFx0XHQ/IHRoaXMuX3B1c2hMYXp5Um93cyhcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2VsZWN0ZWRSb3dzLFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5fZ3REYXRhW3RoaXMuZ3RJbmZvLnBhZ2VDdXJyZW50IC0gMV0uc2xpY2UoKVxyXG5cdFx0XHRcdFx0XHQgIClcclxuXHRcdFx0XHRcdFx0OiB0aGlzLl9ndERhdGEuc2xpY2UoKTtcclxuXHRcdFx0XHRcdHRoaXMuX3VwZGF0ZU1ldGFJbmZvKHRoaXMuc2VsZWN0ZWRSb3dzLCBwcm9wZXJ0eSwgYWN0aXZlKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0ZXZlbnROYW1lID0gJ2Rlc2VsZWN0LWFsbCc7XHJcblx0XHRcdFx0XHR0aGlzLl91cGRhdGVNZXRhSW5mbyh0aGlzLnNlbGVjdGVkUm93cywgcHJvcGVydHksIGFjdGl2ZSk7XHJcblx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkUm93cyA9IFtdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRldmVudFZhbHVlID0ge1xyXG5cdFx0XHRcdFx0c2VsZWN0ZWRSb3dzOiB0aGlzLnNlbGVjdGVkUm93cyxcclxuXHRcdFx0XHRcdGNoYW5nZWRSb3c6ICdhbGwnXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0XHR0aGlzLmd0RXZlbnQuZW1pdCh7XHJcblx0XHRcdG5hbWU6ICdndC1yb3ctJyArIGV2ZW50TmFtZSxcclxuXHRcdFx0dmFsdWU6IGV2ZW50VmFsdWVcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVG9nZ2xlIG1ldGEgaW5mbyBmb3Igcm93LCBpZS4gaXNTZWxlY3RlZCwgaXNPcGVuLlxyXG5cdCAqIEBwYXJhbSByb3cgLSByb3cgb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSBwcm9wZXJ0eSAtIG5hbWUgb2YgcHJvcGVydHkgdGhhdCBzaG91bGQgYmUgY2hhbmdlZC90b2dnbGVkLlxyXG5cdCAqIEBwYXJhbSBwcm9wZXJ0eVZhbHVlcyAtIG9wdGlvbmFsIHByb3BlcnR5IHZhbHVlcyB0aGF0IGNhbiBiZSBwYXNzZWQuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBfdG9nZ2xlUm93UHJvcGVydHkoXHJcblx0XHRyb3c6IEd0Um93LFxyXG5cdFx0cHJvcGVydHk6IHN0cmluZyxcclxuXHRcdHByb3BlcnR5VmFsdWVzPzogYW55XHJcblx0KSB7XHJcblx0XHRsZXQgZXZlbnROYW1lOiBzdHJpbmc7XHJcblx0XHRsZXQgZXZlbnRWYWx1ZTogYW55O1xyXG5cdFx0Ly8gbWFrZSBzdXJlIGd0Um93SWQgZXhpc3RzIG9uIHJvdyBvYmplY3RcclxuXHRcdGlmICh0eXBlb2Ygcm93LiQkZ3RSb3dJZCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0Ly8gY2hlY2sgaWYgbWV0YSBpbmZvIGV4aXN0cyBmb3Igcm93XHJcblx0XHRcdGlmICghdGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXSkge1xyXG5cdFx0XHRcdC8vIGlmIG5vdCwgYWRkIG9iamVjdCB0byBzdG9yZSBtZXRhIGluZm9cclxuXHRcdFx0XHR0aGlzLm1ldGFJbmZvW3Jvdy4kJGd0Um93SWRdID0ge307XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHN3aXRjaCAocHJvcGVydHkpIHtcclxuXHRcdFx0XHRjYXNlICdpc09wZW4nOlxyXG5cdFx0XHRcdFx0Y29uc3Qgb3BlbmVkID0gdGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXVtwcm9wZXJ0eV07XHJcblxyXG5cdFx0XHRcdFx0Ly8gY2hlY2sgaWYgbXVsdGlwbGUgZXhwYW5kZWQgcm93cyBhcmUgYWxsb3dlZC4uLlxyXG5cdFx0XHRcdFx0aWYgKHRoaXMuX2d0T3B0aW9ucy5yb3dFeHBhbmRBbGxvd011bHRpcGxlID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0XHQvLyAuLi5pZiBub3QsIGNvbGxhcHNlIGFsbCByb3dzIGV4Y2VwdCBjdXJyZW50IHJvd1xyXG5cdFx0XHRcdFx0XHR0aGlzLl91cGRhdGVNZXRhSW5mbyh0aGlzLm9wZW5Sb3dzLCBwcm9wZXJ0eSwgZmFsc2UsIHJvdyk7XHJcblx0XHRcdFx0XHRcdHRoaXMub3BlblJvd3MgPSBbXTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBjaGVjayBpZiByb3cgaXMgZXhwYW5kZWRcclxuXHRcdFx0XHRcdGlmICghb3BlbmVkKSB7XHJcblx0XHRcdFx0XHRcdGV2ZW50TmFtZSA9ICdleHBhbmQnO1xyXG5cdFx0XHRcdFx0XHQvLyBhZGQgcm93IHRvIGV4cGFuZGVkIHJvd3NcclxuXHRcdFx0XHRcdFx0dGhpcy5vcGVuUm93cy5wdXNoKHJvdyk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRldmVudE5hbWUgPSAnY29sbGFwc2UnO1xyXG5cdFx0XHRcdFx0XHQvLyBsb29wIHRocm91Z2ggZXhwYW5kZWQgcm93cy4uLlxyXG5cdFx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub3BlblJvd3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBpZiBleHBhbmRlZCByb3cgZXF1YWxzIHBhc3NlZCByb3cuLi5cclxuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5vcGVuUm93c1tpXS4kJGd0Um93SWQgPT09IHJvdy4kJGd0Um93SWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIC4uLnJlbW92ZSByb3cgZnJvbSBleHBhbmRlZCByb3dzLi4uXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLm9wZW5Sb3dzLnNwbGljZShpLCAxKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgZXhpdCBsb29wXHJcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGV2ZW50VmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdGV4cGFuZGVkUm93czogdGhpcy5vcGVuUm93cyxcclxuXHRcdFx0XHRcdFx0Y2hhbmdlZFJvdzogcm93XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAnaXNTZWxlY3RlZCc6XHJcblx0XHRcdFx0XHRjb25zdCBzZWxlY3RlZCA9IHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF1bcHJvcGVydHldO1xyXG5cclxuXHRcdFx0XHRcdC8vIGNoZWNrIGlmIG11bHRpIHJvdyBzZWxlY3Rpb24gaXMgYWxsb3dlZC4uLlxyXG5cdFx0XHRcdFx0aWYgKHRoaXMuX2d0T3B0aW9ucy5yb3dTZWxlY3Rpb25BbGxvd011bHRpcGxlID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0XHQvLyAuLi5pZiBub3QsIGRlc2VsZWN0IGFsbCByb3dzIGV4Y2VwdCBjdXJyZW50IHJvd1xyXG5cdFx0XHRcdFx0XHR0aGlzLl91cGRhdGVNZXRhSW5mbyh0aGlzLnNlbGVjdGVkUm93cywgcHJvcGVydHksIGZhbHNlLCByb3cpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkUm93cyA9IFtdO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIGNoZWNrIGlmIHJvdyBpcyBzZWxlY3RlZFxyXG5cdFx0XHRcdFx0aWYgKCFzZWxlY3RlZCkge1xyXG5cdFx0XHRcdFx0XHRldmVudE5hbWUgPSAnc2VsZWN0JztcclxuXHRcdFx0XHRcdFx0Ly8gYWRkIHJvdyB0byBzZWxlY3RlZCByb3dzXHJcblx0XHRcdFx0XHRcdHRoaXMuc2VsZWN0ZWRSb3dzLnB1c2gocm93KTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLmd0T3B0aW9ucy5sYXp5TG9hZCAmJiB0aGlzLmxhenlBbGxTZWxlY3RlZCkge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMubGF6eUFsbFNlbGVjdGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZXZlbnROYW1lID0gJ2Rlc2VsZWN0JztcclxuXHRcdFx0XHRcdFx0Ly8gbG9vcCB0aHJvdWdoIHNlbGVjdGVkIHJvd3MuLi5cclxuXHRcdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlbGVjdGVkUm93cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRcdC8vIGlmIHNlbGVjdGVkIHJvdyBlcXVhbHMgcGFzc2VkIHJvdy4uLlxyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLnNlbGVjdGVkUm93c1tpXS4kJGd0Um93SWQgPT09IHJvdy4kJGd0Um93SWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIC4uLnJlbW92ZSByb3cgZnJvbSBzZWxlY3RlZCByb3dzLi4uXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkUm93cy5zcGxpY2UoaSwgMSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIGV4aXQgbG9vcFxyXG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRldmVudFZhbHVlID0ge1xyXG5cdFx0XHRcdFx0XHRzZWxlY3RlZFJvd3M6IHRoaXMuc2VsZWN0ZWRSb3dzLFxyXG5cdFx0XHRcdFx0XHRjaGFuZ2VkUm93OiByb3dcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSAnaXNVcGRhdGVkJzpcclxuXHRcdFx0XHRcdGV2ZW50TmFtZSA9ICd1cGRhdGVkJztcclxuXHRcdFx0XHRcdGNvbnN0IG9sZFZhbHVlID0gcHJvcGVydHlWYWx1ZXM7XHJcblx0XHRcdFx0XHQvLyBjaGVjayBpZiBlZGl0IG9iamVjdCBleGlzdHMgZm9yIHJvd1xyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiB0aGlzLm1ldGFJbmZvW3Jvdy4kJGd0Um93SWRdW3Byb3BlcnR5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXVtwcm9wZXJ0eV0gPSB7XHJcblx0XHRcdFx0XHRcdFx0b3JpZ2luYWxWYWx1ZTogb2xkVmFsdWUsXHJcblx0XHRcdFx0XHRcdFx0b2xkVmFsdWU6IG9sZFZhbHVlLFxyXG5cdFx0XHRcdFx0XHRcdG5ld1ZhbHVlOiByb3dcclxuXHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF1bcHJvcGVydHldLm9sZFZhbHVlID0gb2xkVmFsdWU7XHJcblx0XHRcdFx0XHRcdHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF1bcHJvcGVydHldLm5ld1ZhbHVlID0gcm93O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZXZlbnRWYWx1ZSA9IHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF1bcHJvcGVydHldO1xyXG5cdFx0XHRcdFx0dGhpcy5yZWRyYXcoKTtcclxuXHRcdFx0XHRcdHRoaXMuaW5saW5lRWRpdENhbmNlbChyb3cpO1xyXG5cdFx0XHRcdFx0Ly8gdGhpcy5ndERhdGEgPSBbLi4udGhpcy5ndERhdGEubWFwKChyKSA9PiB7IHJldHVybnsuLi5yfTsgfSldO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5ndEV2ZW50LmVtaXQoe1xyXG5cdFx0XHRcdG5hbWU6ICdndC1yb3ctJyArIGV2ZW50TmFtZSxcclxuXHRcdFx0XHR2YWx1ZTogZXZlbnRWYWx1ZVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0aWYgKHByb3BlcnR5ICE9PSAnaXNVcGRhdGVkJykge1xyXG5cdFx0XHRcdHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF1bcHJvcGVydHldID0gIXRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF1bXHJcblx0XHRcdFx0XHRwcm9wZXJ0eVxyXG5cdFx0XHRcdF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSBjb2x1bW4uXHJcblx0ICogQHBhcmFtICRldmVudCAtIGtleSB1cCBldmVudC5cclxuXHQgKiBAcGFyYW0gcm93IC0gcm93IG9iamVjdC5cclxuXHQgKiBAcGFyYW0gY29sdW1uIC0gY29sdW1uIG9iamVjdC5cclxuXHQgKi9cclxuXHRwdWJsaWMgZ3RVcGRhdGVDb2x1bW4oXHJcblx0XHQkZXZlbnQ6IEtleWJvYXJkRXZlbnQsXHJcblx0XHRyb3c6IEd0Um93LFxyXG5cdFx0Y29sdW1uOiBHdFJlbmRlckZpZWxkPGFueSwgYW55PlxyXG5cdCkge1xyXG5cdFx0dGhpcy5fZWRpdFJvdyhyb3csIGNvbHVtbik7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEcm9wZG93biBzZWxlY3QuXHJcblx0ICogQHBhcmFtIHJvdyAtIHJvdyBvYmplY3QuXHJcblx0ICogQHBhcmFtIGNvbHVtbiAtIGNvbHVtbiBvYmplY3QuXHJcblx0ICovXHJcblx0cHVibGljIGd0RHJvcGRvd25TZWxlY3Qocm93OiBHdFJvdywgY29sdW1uOiBHdFJlbmRlckZpZWxkPGFueSwgYW55Pikge1xyXG5cdFx0Y29uc3Qgb2xkVmFsdWUgPSB7IC4uLnJvdyB9O1xyXG5cdFx0cm93W2NvbHVtbi5vYmplY3RLZXldID0gY29sdW1uLnJlbmRlclZhbHVlO1xyXG5cdFx0dGhpcy51cGRhdGVSb3cocm93LCBvbGRWYWx1ZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIF9lZGl0Um93KHJvdzogR3RSb3csIGNvbHVtbjogR3RSZW5kZXJGaWVsZDxhbnksIGFueT4pIHtcclxuXHRcdGNvbnN0IE9CSkVDVF9LRVkgPSBjb2x1bW4ub2JqZWN0S2V5OyAvLyBkZWNsYXJlIG9iamVjdCBrZXkgd2hpY2ggY29udGFpbnMgY2hhbmdlc1xyXG5cclxuXHRcdC8vIGNoZWNrIGlmIGNlbGwgaGFzIGNoYW5nZWQgdmFsdWVcclxuXHRcdGNvbHVtbi5lZGl0ZWQgPSByb3dbY29sdW1uLm9iamVjdEtleV0gIT09IGNvbHVtbi5yZW5kZXJWYWx1ZTtcclxuXHRcdC8vIGNoZWNrIGlmIHJvdyBjb250YWlucyBjaGFuZ2VzLi4uXHJcblx0XHRpZiAoIXRoaXMuZWRpdGVkUm93c1tyb3cuJCRndFJvd0lkXSkge1xyXG5cdFx0XHQvLyBpZiBub3QsIGNyZWF0ZSBhbiBvYmplY3QgZm9yIHRoZSBjaGFuZ2VkIHJvd1xyXG5cdFx0XHR0aGlzLmVkaXRlZFJvd3Nbcm93LiQkZ3RSb3dJZF0gPSB7XHJcblx0XHRcdFx0Y2hhbmdlczoge30sIC8vIGNyZWF0ZSBwbGFjZWhvbGRlciBmb3IgY2hhbmdlc1xyXG5cdFx0XHRcdHJvdzogcm93IC8vIHN0b3JlIHJlZmVyZW5jZSB0byB0aGUgcm93IHRoYXQgc2hvdWxkIGJlIHVwZGF0ZWRcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBzdG9yZSBjaGFuZ2VkIGNvbHVtbiB1bmRlciBjaGFuZ2VzIGlmIGl0IGhhcyBiZWVuIGVkaXRlZFxyXG5cdFx0aWYgKGNvbHVtbi5lZGl0ZWQpIHtcclxuXHRcdFx0dGhpcy5lZGl0ZWRSb3dzW3Jvdy4kJGd0Um93SWRdLmNoYW5nZXNbT0JKRUNUX0tFWV0gPSBjb2x1bW47XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBkZWxldGUgY2hhbmdlIG9iamVjdCBpZiBjb2x1bW4gaXMgdW5jaGFuZ2VkXHJcblx0XHRcdGRlbGV0ZSB0aGlzLmVkaXRlZFJvd3Nbcm93LiQkZ3RSb3dJZF0uY2hhbmdlc1tPQkpFQ1RfS0VZXTtcclxuXHRcdFx0Ly8gY2hlY2sgaG93IG1hbnkgY29sdW1ucyBoYXZlIGJlZW4gY2hhbmdlZFxyXG5cdFx0XHRjb25zdCBDSEFOR0VEX0NPTFVNTlMgPSBPYmplY3Qua2V5cyhcclxuXHRcdFx0XHR0aGlzLmVkaXRlZFJvd3Nbcm93LiQkZ3RSb3dJZF0uY2hhbmdlc1xyXG5cdFx0XHQpLmxlbmd0aDtcclxuXHRcdFx0aWYgKENIQU5HRURfQ09MVU1OUyA9PT0gMCkge1xyXG5cdFx0XHRcdC8vIGRlbGV0ZSByb3cgZnJvbSBlZGl0ZWQgcm93cyBpZiBubyBjb2x1bW5zIGhhdmUgYmVlbiBlZGl0ZWRcclxuXHRcdFx0XHRkZWxldGUgdGhpcy5lZGl0ZWRSb3dzW3Jvdy4kJGd0Um93SWRdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBpZiBubyBsaXN0ZW5lciBpcyBwcmVzZW50Li4uXHJcblx0XHRpZiAoIXRoaXMuZ2xvYmFsSW5saW5lRWRpdExpc3RlbmVyKSB7XHJcblx0XHRcdC8vIC4uLmxpc3RlbiBmb3IgdXBkYXRlIGV2ZW50XHJcblx0XHRcdHRoaXMuX2xpc3RlbkZvcktleWRvd25FdmVudCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQvKipcclxuXHQgKiBMaXN0ZW4gZm9yIGtleSBkb3duIGV2ZW50IC0gbGlzdGVuIGZvciBrZXkgZG93biBldmVudCBkdXJpbmcgaW5saW5lIGVkaXQuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBfbGlzdGVuRm9yS2V5ZG93bkV2ZW50KCkge1xyXG5cdFx0Ly8gYWRkIGdsb2JhbCBsaXN0ZW5lciBmb3Iga2V5IGRvd24gZXZlbnRzXHJcblx0XHR0aGlzLmdsb2JhbElubGluZUVkaXRMaXN0ZW5lciA9IHRoaXMucmVuZGVyZXIubGlzdGVuKFxyXG5cdFx0XHQnZG9jdW1lbnQnLFxyXG5cdFx0XHQna2V5ZG93bicsXHJcblx0XHRcdCRldmVudCA9PiB7XHJcblx0XHRcdFx0c3dpdGNoICgkZXZlbnQua2V5KSB7XHJcblx0XHRcdFx0XHRjYXNlICdFbnRlcic6IC8vIHVwZGF0ZSBkYXRhIG9iamVjdFxyXG5cdFx0XHRcdFx0XHR0aGlzLmlubGluZUVkaXRVcGRhdGUoKTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdFc2NhcGUnOiAvLyBjYW5jZWxcclxuXHRcdFx0XHRcdFx0dGhpcy5pbmxpbmVFZGl0Q2FuY2VsKCk7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogSW5saW5lIGVkaXQgdXBkYXRlIC0gYWNjZXB0IGNoYW5nZXMgYW5kIHVwZGF0ZSByb3cgdmFsdWVzLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBpbmxpbmVFZGl0VXBkYXRlKCkge1xyXG5cdFx0Ly8gbG9vcCB0aHJvdWdoIHJvd3MgdGhhdCBoYXZlIGJlZW4gZWRpdGVkXHJcblx0XHRPYmplY3Qua2V5cyh0aGlzLmVkaXRlZFJvd3MpLm1hcChrZXkgPT4ge1xyXG5cdFx0XHRjb25zdCBST1cgPSB0aGlzLmVkaXRlZFJvd3Nba2V5XS5yb3c7IC8vIHJvdyB0byB1cGRhdGVcclxuXHRcdFx0Y29uc3QgQ0hBTkdFUyA9IHRoaXMuZWRpdGVkUm93c1trZXldLmNoYW5nZXM7IC8vIGNoYW5nZXMgdG8gdGhlIHJvd1xyXG5cclxuXHRcdFx0Ly8gbG9vcCB0aHJvdWdoIGNoYW5nZXMgaW4gcm93XHJcblx0XHRcdE9iamVjdC5rZXlzKENIQU5HRVMpLm1hcChvYmplY3RLZXkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG9sZFZhbHVlID0geyAuLi5ST1cgfTtcclxuXHRcdFx0XHRST1dbb2JqZWN0S2V5XSA9IENIQU5HRVNbb2JqZWN0S2V5XS5yZW5kZXJWYWx1ZTsgLy8gdXBkYXRlIGRhdGEgdmFsdWVcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZVJvdyhST1csIG9sZFZhbHVlKTsgLy8gdXBkYXRlIG1ldGEgaW5mbyBmb3Igcm93IGFuZCBzZW5kIGV2ZW50XHJcblx0XHRcdFx0Q0hBTkdFU1tvYmplY3RLZXldLmVkaXRlZCA9IGZhbHNlOyAvLyBkaXNhYmxlIGVkaXQgbW9kZVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0Ly8gY2xlYXIgcm93cyBtYXJrZWQgYXMgZWRpdGVkIGFzIHRoZSByb3dzIGhhdmUgYmVlbiB1cGRhdGVkXHJcblx0XHR0aGlzLmVkaXRlZFJvd3MgPSB7fTtcclxuXHRcdC8vIHJlbW92ZSBsaXN0ZW5lclxyXG5cdFx0dGhpcy5fc3RvcExpc3RlbmluZ0ZvcktleWRvd25FdmVudCgpO1xyXG5cdH1cclxuXHQvKipcclxuXHQgKiBJbmxpbmUgZWRpdCBjYW5jZWwgLSBjYW5jZWwgYW5kIHJlc2V0IGlubGluZSBlZGl0cy5cclxuXHQgKi9cclxuXHRwdWJsaWMgaW5saW5lRWRpdENhbmNlbChyb3c/OiBHdFJvdykge1xyXG5cdFx0aWYgKHJvdykge1xyXG5cdFx0XHRkZWxldGUgdGhpcy5lZGl0ZWRSb3dzW3Jvdy4kJGd0Um93SWRdO1xyXG5cdFx0XHQvLyByZW1vdmUgbGlzdGVuZXJcclxuXHRcdFx0dGhpcy5fc3RvcExpc3RlbmluZ0ZvcktleWRvd25FdmVudCgpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gbG9vcCB0aHJvdWdoIHJvd3MgdGhhdCBoYXZlIGJlZW4gZWRpdGVkXHJcblx0XHRPYmplY3Qua2V5cyh0aGlzLmVkaXRlZFJvd3MpLm1hcChrZXkgPT4ge1xyXG5cdFx0XHRjb25zdCBST1cgPSB0aGlzLmVkaXRlZFJvd3Nba2V5XS5yb3c7IC8vIHJvdyB0byB1cGRhdGVcclxuXHRcdFx0Y29uc3QgQ0hBTkdFUyA9IHRoaXMuZWRpdGVkUm93c1trZXldLmNoYW5nZXM7IC8vIGNoYW5nZXMgdG8gdGhlIHJvd1xyXG5cclxuXHRcdFx0Ly8gbG9vcCB0aHJvdWdoIGNoYW5nZXMgaW4gcm93XHJcblx0XHRcdE9iamVjdC5rZXlzKENIQU5HRVMpLm1hcChvYmplY3RLZXkgPT4ge1xyXG5cdFx0XHRcdENIQU5HRVNbb2JqZWN0S2V5XS5yZW5kZXJWYWx1ZSA9IFJPV1tvYmplY3RLZXldOyAvLyByZXNldCByZW5kZXJlZCB2YWx1ZVxyXG5cdFx0XHRcdENIQU5HRVNbb2JqZWN0S2V5XS5lZGl0ZWQgPSBmYWxzZTsgLy8gZGlzYWJsZSBlZGl0IG1vZGVcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHRcdC8vIGNsZWFyIHJvd3MgbWFya2VkIGFzIGVkaXRlZCBhcyB0aGUgcm93cyBoYXZlIGJlZW4gdXBkYXRlZFxyXG5cdFx0dGhpcy5lZGl0ZWRSb3dzID0ge307XHJcblx0XHQvLyByZW1vdmUgbGlzdGVuZXJcclxuXHRcdHRoaXMuX3N0b3BMaXN0ZW5pbmdGb3JLZXlkb3duRXZlbnQoKTtcclxuXHR9XHJcblx0LyoqXHJcblx0ICogU3RvcCBsaXN0ZW5pbmcgZm9yIGtleSBkb3duIGV2ZW50IC0gc3RvcCBsaXN0ZW5pbmcgZm9yIGtleSBkb3duIGV2ZW50cyBwYXNzZWQgZHVyaW5nIGlubGluZSBlZGl0LlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgX3N0b3BMaXN0ZW5pbmdGb3JLZXlkb3duRXZlbnQoKSB7XHJcblx0XHRpZiAodGhpcy5nbG9iYWxJbmxpbmVFZGl0TGlzdGVuZXIpIHtcclxuXHRcdFx0dGhpcy5nbG9iYWxJbmxpbmVFZGl0TGlzdGVuZXIoKTtcclxuXHRcdFx0dGhpcy5nbG9iYWxJbmxpbmVFZGl0TGlzdGVuZXIgPSBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQXBwbHkgZmlsdGVyKHMpLlxyXG5cdCAqIEBwYXJhbSBmaWx0ZXIgLSBvYmplY3QgY29udGFpbmluZyBrZXkgdmFsdWUgcGFpcnMsIHdoZXJlIHZhbHVlIHNob3VsZCBiZSBhcnJheSBvZiB2YWx1ZXMuXHJcblx0ICovXHJcblx0cHVibGljIGd0QXBwbHlGaWx0ZXIoZmlsdGVyOiBPYmplY3QpIHtcclxuXHRcdHRoaXMuZ3RJbmZvLmZpbHRlciA9IGZpbHRlcjtcclxuXHRcdC8vIGdvIHRvIGZpcnN0IHBhZ2VcclxuXHRcdHRoaXMuZ29Ub1BhZ2UoMSk7XHJcblx0XHR0aGlzLnVwZGF0ZVRvdGFscygpO1xyXG5cdH1cclxuXHJcblx0LyoqIENsZWFyL3JlbW92ZSBhcHBsaWVkIGZpbHRlcihzKS4gKi9cclxuXHRwdWJsaWMgZ3RDbGVhckZpbHRlcigpIHtcclxuXHRcdHRoaXMuZ3RJbmZvLmZpbHRlciA9IGZhbHNlO1xyXG5cdFx0dGhpcy51cGRhdGVUb3RhbHMoKTtcclxuXHRcdC8vIHRoaXMudXBkYXRlUmVjb3JkUmFuZ2UoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNlYXJjaFxyXG5cdCAqIEBwYXJhbSB2YWx1ZSAtIHN0cmluZyBjb250YWluaW5nIG9uZSBvciBtb3JlIHdvcmRzXHJcblx0ICovXHJcblx0cHVibGljIGd0U2VhcmNoKHZhbHVlOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuZ3RJbmZvLnNlYXJjaFRlcm1zID0gdmFsdWU7XHJcblx0XHQvLyBhbHdheXMgZ28gdG8gZmlyc3QgcGFnZSB3aGVuIHNlYXJjaGluZ1xyXG5cdFx0dGhpcy5nb1RvUGFnZSgxKTtcclxuXHRcdHRoaXMudXBkYXRlVG90YWxzKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgcm93c1xyXG5cdCAqIEBwYXJhbSByb3dzIC0gcm93cyB0byBhZGRcclxuXHQgKiBAcmV0dXJucyBuZXcgZGF0YSBhcnJheS5cclxuXHQgKi9cclxuXHRwdWJsaWMgZ3RBZGQocm93czogQXJyYXk8Uj4pOiBSZWFkb25seUFycmF5PFI+IHtcclxuXHRcdHRoaXMuZ3REYXRhID0gWy4uLnRoaXMuZ3REYXRhLCAuLi5yb3dzXTtcclxuXHRcdHJldHVybiBbLi4udGhpcy5ndERhdGFdO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogRGVsZXRlIHJvd1xyXG5cdCAqIEBwYXJhbSBvYmplY3RLZXkgLSBvYmplY3Qga2V5IHlvdSB3YW50IHRvIGZpbmQgbWF0Y2ggd2l0aFxyXG5cdCAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZSB0aGF0IHNob3VsZCBiZSBkZWxldGVkXHJcblx0ICogQHBhcmFtIG1hdGNoIC0gYWxsOiBkZWxldGUgYWxsIG1hdGNoZXMsIGZpcnN0OiBkZWxldGUgZmlyc3QgbWF0Y2ggKGRlZmF1bHQpXHJcblx0ICogQHJldHVybnMgbmV3IGRhdGEgYXJyYXkuXHJcblx0ICovXHJcblx0cHVibGljIGd0RGVsZXRlKFxyXG5cdFx0b2JqZWN0S2V5OiBzdHJpbmcsXHJcblx0XHR2YWx1ZTogc3RyaW5nIHwgbnVtYmVyLFxyXG5cdFx0bWF0Y2g6ICdmaXJzdCcgfCAnYWxsJyA9ICdmaXJzdCdcclxuXHQpOiBSZWFkb25seUFycmF5PFI+IHtcclxuXHRcdGlmIChtYXRjaCA9PT0gJ2ZpcnN0Jykge1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ3REYXRhLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuZ3REYXRhW2ldW29iamVjdEtleV0gPT09IHZhbHVlKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5pc1Jvd1NlbGVjdGVkKHRoaXMuZ3REYXRhW2ldKSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnRvZ2dsZVNlbGVjdCh0aGlzLmd0RGF0YVtpXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGlzLmd0RGF0YS5zcGxpY2UoaSwgMSk7XHJcblx0XHRcdFx0XHR0aGlzLmd0RGF0YSA9IFsuLi50aGlzLmd0RGF0YV07XHJcblx0XHRcdFx0XHRpZiAobWF0Y2ggPT09ICdmaXJzdCcpIHtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRmb3IgKGxldCBpID0gdGhpcy5ndERhdGEubGVuZ3RoOyBpID4gMDsgaS0tKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuZ3REYXRhW2kgLSAxXVtvYmplY3RLZXldID09PSB2YWx1ZSkge1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMuaXNSb3dTZWxlY3RlZCh0aGlzLmd0RGF0YVtpIC0gMV0pKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMudG9nZ2xlU2VsZWN0KHRoaXMuZ3REYXRhW2kgLSAxXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGlzLmd0RGF0YS5zcGxpY2UoaSAtIDEsIDEpO1xyXG5cdFx0XHRcdFx0dGhpcy5ndERhdGEgPSBbLi4udGhpcy5ndERhdGFdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIFsuLi50aGlzLmd0RGF0YV07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgc3RvcmUgdG8gaG9sZCBwcmV2aW91c2x5IGxvYWRlZCByZWNvcmRzLlxyXG5cdCAqIEBwYXJhbSByZWNvcmRzIC0gdG90YWwgbnVtYmVyIG9mIHJlY29yZHMgaW4gc3RvcmUuXHJcblx0ICogQHBhcmFtIHBlclBhZ2UgLSBob3cgbWFueSByZWNvcmRzIHRvIHNob3cgcGVyIHBhZ2UuXHJcblx0ICogQHJldHVybnMgYSBuZXN0ZWQgYXJyYXkgdG8gaG9sZCByZWNvcmRzIHBlciBwYWdlLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgY3JlYXRlU3RvcmUocmVjb3JkczogbnVtYmVyLCBwZXJQYWdlOiBudW1iZXIpOiBBcnJheTxBcnJheTxhbnk+PiB7XHJcblx0XHRjb25zdCBzdG9yZXMgPSBNYXRoLmNlaWwocmVjb3JkcyAvIHBlclBhZ2UpO1xyXG5cdFx0Y29uc3Qgc3RvcmU6IEFycmF5PEFycmF5PGFueT4+ID0gW107XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHN0b3JlczsgaSsrKSB7XHJcblx0XHRcdHN0b3JlW2ldID0gW107XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3RvcmU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDcmVhdGUgcGxhY2Vob2xkZXJzIGZvciByb3dzIHdoaWxlIGxvYWRpbmcgZGF0YSBmcm9tIGJhY2stZW5kLlxyXG5cdCAqIEBwYXJhbSBwZXJQYWdlIC0gaG93IG1hbnkgcmVjb3JkcyB0byBzaG93IHBlciBwYWdlLlxyXG5cdCAqIEByZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgZW1wdHkgcmVjb3JkcyB0byBiZSBwcmVzZW50ZWQgd2hpbGUgZmV0Y2hpbmcgcmVhbCBkYXRhLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgbG9hZGluZ0NvbnRlbnQocGVyUGFnZTogbnVtYmVyKSB7XHJcblx0XHQvLyBjcmVhdGUgcm93IG9iamVjdFxyXG5cdFx0Y29uc3Qgcm93T2JqZWN0OiBPYmplY3QgPSB7XHJcblx0XHRcdCQkbG9hZGluZzogdHJ1ZVxyXG5cdFx0fTtcclxuXHRcdGxldCBvcmRlciA9IDA7XHJcblxyXG5cdFx0Ly8gc29ydCBzZXR0aW5ncyBieSBjb2x1bW4gb3JkZXJcclxuXHRcdHRoaXMuX2d0U2V0dGluZ3Muc29ydCh0aGlzLmdldENvbHVtbk9yZGVyKTtcclxuXHJcblx0XHQvLyBsb29wIHRocm91Z2ggYWxsIHNldHRpbmdzIG9iamVjdHMuLi5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZ3RTZXR0aW5ncy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCBzZXR0aW5nID0gdGhpcy5fZ3RTZXR0aW5nc1tpXTtcclxuXHJcblx0XHRcdC8vIC4uLmlmIGNvbHVtbiBpcyB2aXNpYmxlIGFuZCBlbmFibGVkLi4uXHJcblx0XHRcdGlmIChzZXR0aW5nLnZpc2libGUgIT09IGZhbHNlICYmIHNldHRpbmcuZW5hYmxlZCAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHQvLyAuLi5pZiBmaXJzdCBjb2x1bW4sIHNldCB2YWx1ZSB0byBsb2FkaW5nIHRleHQgb3RoZXJ3aXNlIGxlYXZlIGl0IGVtcHR5XHJcblx0XHRcdFx0aWYgKG9yZGVyID09PSAwKSB7XHJcblx0XHRcdFx0XHRyb3dPYmplY3Rbc2V0dGluZy5vYmplY3RLZXldID0gdGhpcy5ndFRleHRzLmxvYWRpbmc7XHJcblx0XHRcdFx0XHR0aGlzLmxvYWRpbmdQcm9wZXJ0eSA9IHNldHRpbmcub2JqZWN0S2V5O1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyb3dPYmplY3Rbc2V0dGluZy5vYmplY3RLZXldID0gJyc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdG9yZGVyKys7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cm93T2JqZWN0W3NldHRpbmcub2JqZWN0S2V5XSA9ICcnO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY3JlYXRlIGNvbnRlbnQgcGxhY2Vob2xkZXJcclxuXHRcdGNvbnN0IGNvbnRlbnRQbGFjZWhvbGRlcjogQXJyYXk8YW55PiA9IFtdO1xyXG5cclxuXHRcdC8vIGNyZWF0ZSBlcXVhbCBudW1iZXIgb2Ygcm93cyBhcyByb3dzIHBlciBwYWdlXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHBlclBhZ2U7IGkrKykge1xyXG5cdFx0XHQvLyAuLi5hZGQgdGVtcG9yYXJ5IHJvdyBvYmplY3RcclxuXHRcdFx0Y29udGVudFBsYWNlaG9sZGVyLnB1c2gocm93T2JqZWN0KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBjb250ZW50UGxhY2Vob2xkZXI7XHJcblx0fVxyXG5cclxuXHQvLyBUT0RPOiBtb3ZlIHRvIGhlbHBlciBmdW5jdGlvbnNcclxuXHQvKiogU29ydCBieSBzb3J0IG9yZGVyICovXHJcblx0cHJpdmF0ZSBnZXRTb3J0T3JkZXIgPSBmdW5jdGlvbihhOiBHdENvbmZpZ1NldHRpbmcsIGI6IEd0Q29uZmlnU2V0dGluZykge1xyXG5cdFx0aWYgKGEuc29ydE9yZGVyIDwgYi5zb3J0T3JkZXIpIHtcclxuXHRcdFx0cmV0dXJuIC0xO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGEuc29ydE9yZGVyID4gYi5zb3J0T3JkZXIgfHwgdHlwZW9mIGEuc29ydE9yZGVyID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRyZXR1cm4gMTtcclxuXHRcdH1cclxuXHRcdHJldHVybiAwO1xyXG5cdH07XHJcblxyXG5cdC8vIFRPRE86IG1vdmUgdG8gaGVscGVyIGZ1bmN0aW9uc1xyXG5cdC8qKiBTb3J0IGJ5IGNvbHVtbiBvcmRlciAqL1xyXG5cdHByaXZhdGUgZ2V0Q29sdW1uT3JkZXIgPSBmdW5jdGlvbihhOiBHdENvbmZpZ1NldHRpbmcsIGI6IEd0Q29uZmlnU2V0dGluZykge1xyXG5cdFx0aWYgKGEuY29sdW1uT3JkZXIgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gLTE7XHJcblx0XHR9XHJcblx0XHRpZiAoYS5jb2x1bW5PcmRlciA8IGIuY29sdW1uT3JkZXIpIHtcclxuXHRcdFx0cmV0dXJuIC0xO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGEuY29sdW1uT3JkZXIgPiBiLmNvbHVtbk9yZGVyKSB7XHJcblx0XHRcdHJldHVybiAxO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIDA7XHJcblx0fTtcclxuXHJcblx0Ly8gVE9ETzogbW92ZSB0byBoZWxwZXIgZnVuY3Rpb25zXHJcblx0LyoqIENyZWF0ZSBhIGRlZXAgY29weSBvZiBkYXRhICovXHJcblx0cHJpdmF0ZSBjbG9uZURlZXAgPSBmdW5jdGlvbihvOiBhbnkpIHtcclxuXHRcdHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG8pKTtcclxuXHR9O1xyXG5cclxuXHQvKiogRXhwb3J0IGRhdGEgYXMgQ1NWXHJcblx0ICogQHBhcmFtIGZpbGVOYW1lIC0gb3B0aW9uYWwgZmlsZSBuYW1lIChvdmVycmlkZXMgZGVmYXVsdCBmaWxlIG5hbWUpLlxyXG5cdCAqIEBwYXJhbSB1c2VCT00gLSB1c2UgQk9NIChieXRlIG9yZGVyIG1hcmtlcikuXHJcblx0ICovXHJcblx0cHVibGljIGV4cG9ydENTVihmaWxlTmFtZT86IHN0cmluZywgdXNlQk9NOiBib29sZWFuID0gZmFsc2UpIHtcclxuXHRcdGNvbnN0IGRhdGEgPSB0aGlzLmRhdGEuZXhwb3J0RGF0YTtcclxuXHRcdGxldCBjc3YgPSAnJztcclxuXHRcdGNvbnN0IEJPTSA9ICdcXHVGRUZGJztcclxuXHJcblx0XHQvLyBjc3YgZXhwb3J0IGhlYWRlcnNcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZ3RTZXR0aW5ncy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAodGhpcy5fZ3RTZXR0aW5nc1tpXS5leHBvcnQgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0Y3N2ICs9IHRoaXMuZ2V0UHJvcGVydHkodGhpcy5fZ3RGaWVsZHMsIHRoaXMuX2d0U2V0dGluZ3NbaV0ub2JqZWN0S2V5KVxyXG5cdFx0XHRcdFx0Lm5hbWU7XHJcblxyXG5cdFx0XHRcdGlmIChpIDwgdGhpcy5fZ3RTZXR0aW5ncy5sZW5ndGggLSAxKSB7XHJcblx0XHRcdFx0XHRjc3YgKz0gdGhpcy5fZ3RPcHRpb25zLmNzdkRlbGltaXRlcjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBjc3YgZXhwb3J0IGJvZHlcclxuXHRcdGRhdGEuZm9yRWFjaChyb3cgPT4ge1xyXG5cdFx0XHRjc3YgKz0gJ1xcbic7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZ3RTZXR0aW5ncy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGlmICh0aGlzLl9ndFNldHRpbmdzW2ldLmV4cG9ydCAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdC8vIGdldCBmaWVsZCBzZXR0aW5nc1xyXG5cdFx0XHRcdFx0Y29uc3QgZmllbGRTZXR0aW5nID0gdGhpcy5nZXRQcm9wZXJ0eShcclxuXHRcdFx0XHRcdFx0dGhpcy5fZ3RGaWVsZHMsXHJcblx0XHRcdFx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0ub2JqZWN0S2V5XHJcblx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRcdC8vIGdldCBleHBvcnQgdmFsdWUsIGlmIGV4cG9ydCBmdW5jdGlvbiBpcyBkZWZpbmVkIHVzZSBpdCBvdGhlcndpc2UgY2hlY2sgZm9yIHZhbHVlIGZ1bmN0aW9uIGFuZCBhcyBhIGxhc3QgcmVzb3J0IGV4cG9ydCByYXcgZGF0YVxyXG5cdFx0XHRcdFx0bGV0IGV4cG9ydFZhbHVlOiBzdHJpbmcgPVxyXG5cdFx0XHRcdFx0XHRmaWVsZFNldHRpbmcuZXhwb3J0ICYmIHR5cGVvZiBmaWVsZFNldHRpbmcuZXhwb3J0ID09PSAnZnVuY3Rpb24nXHJcblx0XHRcdFx0XHRcdFx0PyBmaWVsZFNldHRpbmcuZXhwb3J0KHJvdylcclxuXHRcdFx0XHRcdFx0XHQ6IGZpZWxkU2V0dGluZy52YWx1ZSAmJiB0eXBlb2YgZmllbGRTZXR0aW5nLnZhbHVlID09PSAnZnVuY3Rpb24nXHJcblx0XHRcdFx0XHRcdFx0XHQ/IGZpZWxkU2V0dGluZy52YWx1ZShyb3cpXHJcblx0XHRcdFx0XHRcdFx0XHQ6IHJvd1t0aGlzLl9ndFNldHRpbmdzW2ldLm9iamVjdEtleV07XHJcblxyXG5cdFx0XHRcdFx0Ly8gZXNjYXBlIGV4cG9ydCB2YWx1ZSB1c2luZyBkb3VibGUgcXVvdGVzIChcIikgaWYgZXhwb3J0IHZhbHVlIGNvbnRhaW5zIGRlbGltaXRlclxyXG5cdFx0XHRcdFx0ZXhwb3J0VmFsdWUgPVxyXG5cdFx0XHRcdFx0XHR0eXBlb2YgZXhwb3J0VmFsdWUgPT09ICdzdHJpbmcnICYmXHJcblx0XHRcdFx0XHRcdGV4cG9ydFZhbHVlLmluZGV4T2YodGhpcy5fZ3RPcHRpb25zLmNzdkRlbGltaXRlcikgIT09IC0xXHJcblx0XHRcdFx0XHRcdFx0PyAnXCInICsgZXhwb3J0VmFsdWUgKyAnXCInXHJcblx0XHRcdFx0XHRcdFx0OiBleHBvcnRWYWx1ZTtcclxuXHJcblx0XHRcdFx0XHRjc3YgKz0gZXhwb3J0VmFsdWU7XHJcblx0XHRcdFx0XHRpZiAoaSA8IHRoaXMuX2d0U2V0dGluZ3MubGVuZ3RoIC0gMSkge1xyXG5cdFx0XHRcdFx0XHRjc3YgKz0gdGhpcy5fZ3RPcHRpb25zLmNzdkRlbGltaXRlcjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbKHVzZUJPTSA/IEJPTSA6ICcnKSArIGNzdl0sIHtcclxuXHRcdFx0dHlwZTogJ3RleHQvY3N2O2NoYXJzZXQ9dXRmLTgnXHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAod2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7XHJcblx0XHRcdG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKFxyXG5cdFx0XHRcdGJsb2IsXHJcblx0XHRcdFx0ZmlsZU5hbWUgPyBmaWxlTmFtZSArICcuY3N2JyA6IHRoaXMuZ3RUZXh0cy5jc3ZEb3dubG9hZCArICcuY3N2J1xyXG5cdFx0XHQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHRcdFx0bGluay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xyXG5cdFx0XHRpZiAobGluay5kb3dubG9hZCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0bGluay5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFx0XHQnaHJlZicsXHJcblx0XHRcdFx0XHQnZGF0YTp0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04LCcgK1xyXG5cdFx0XHRcdFx0XHRlbmNvZGVVUklDb21wb25lbnQoKHVzZUJPTSA/IEJPTSA6ICcnKSArIGNzdilcclxuXHRcdFx0XHQpOyAvLyBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcclxuXHRcdFx0XHRsaW5rLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XHRcdCdkb3dubG9hZCcsXHJcblx0XHRcdFx0XHRmaWxlTmFtZSA/IGZpbGVOYW1lICsgJy5jc3YnIDogdGhpcy5ndFRleHRzLmNzdkRvd25sb2FkICsgJy5jc3YnXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xyXG5cdFx0XHRcdGxpbmsuY2xpY2soKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjc3YgPSAnZGF0YTp0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04LCcgKyAodXNlQk9NID8gQk9NIDogJycpICsgY3N2O1xyXG5cdFx0XHRcdHdpbmRvdy5vcGVuKGVuY29kZVVSSUNvbXBvbmVudChjc3YpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGVtaXQgZXhwb3J0IGV2ZW50XHJcblx0XHR0aGlzLmd0RXZlbnQuZW1pdCh7XHJcblx0XHRcdG5hbWU6ICdndC1leHBvcnRlZC1jc3YnLFxyXG5cdFx0XHR2YWx1ZTogZmlsZU5hbWUgPyBmaWxlTmFtZSA6IHRoaXMuZ3RUZXh0cy5jc3ZEb3dubG9hZCArICcuY3N2J1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKiogUmV0dXJuIHByb3BlcnR5ICovXHJcblx0cHJpdmF0ZSBnZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uKGFycmF5OiBBcnJheTxhbnk+LCBrZXk6IHN0cmluZykge1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoYXJyYXlbaV0ub2JqZWN0S2V5ID09PSBrZXkpIHtcclxuXHRcdFx0XHRyZXR1cm4gYXJyYXlbaV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRwcml2YXRlIHJlc3RydWN0dXJlU29ydGluZyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0LyoqIENoZWNrIGFuZCBzdG9yZSBzb3J0IG9yZGVyIHVwb24gaW5pdGlhbGl6YXRpb24uXHJcblx0XHQgKiAgVGhpcyBpcyBkb25lIGJ5IGNoZWNraW5nIHNvcnQgcHJvcGVydGllcyBpbiB0aGUgc2V0dGluZ3MgYXJyYXkgb2YgdGhlIHRhYmxlLCBpZiBubyBzb3J0aW5nIGlzIGRlZmluZWRcclxuXHRcdCAqICB3ZSdsbCBzb3J0IHRoZSBkYXRhIGJ5IHRoZSBmaXJzdCB2aXNpYmxlIGFuZCBlbmFibGVkIGNvbHVtbiBpbiB0aGUgdGFibGUoYXNjZW5kaW5nKS4gUGxlYXNlIG5vdGUgdGhhdCBhY3R1YWxseVxyXG5cdFx0ICogIHNvcnRpbmcgaGF2ZSB0byBiZSBkb25lIHNlcnZlciBzaWRlIHdoZW4gbGF6eSBsb2FkaW5nIGRhdGEgZm9yIG9idmlvdXMgcmVhc29ucy4gICovXHJcblx0XHQvLyBjcmVhdGUgc29ydGluZyBhcnJheVxyXG5cdFx0Y29uc3Qgc29ydGluZyA9IFtdO1xyXG5cdFx0aWYgKHRoaXMuX2d0U2V0dGluZ3MpIHtcclxuXHRcdFx0Ly8gLi4uc29ydCBzZXR0aW5ncyBieSBzb3J0IG9yZGVyXHJcblx0XHRcdHRoaXMuX2d0U2V0dGluZ3Muc29ydCh0aGlzLmdldFNvcnRPcmRlcik7XHJcblxyXG5cdFx0XHQvLyAuLi5sb29wIHRocm91Z2ggc2V0dGluZ3NcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9ndFNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Y29uc3Qgc2V0dGluZyA9IHRoaXMuX2d0U2V0dGluZ3NbaV07XHJcblxyXG5cdFx0XHRcdC8vIC4uLmlmIHNvcnRlZCBhc2NlbmRpbmcuLi5cclxuXHRcdFx0XHRpZiAoc2V0dGluZy5zb3J0ID09PSAnYXNjJykge1xyXG5cdFx0XHRcdFx0Ly8gLi4uIGFkZCB0byBzb3J0aW5nXHJcblx0XHRcdFx0XHRzb3J0aW5nLnB1c2goc2V0dGluZy5vYmplY3RLZXkpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoc2V0dGluZy5zb3J0ID09PSAnZGVzYycpIHtcclxuXHRcdFx0XHRcdC8qIC4uLmVsc2UgaWYgc29ydGVkIGRlc2NlbmRpbmcuLi4gKi8gLy8gLi4uIGFkZCB0byBzb3J0aW5nXHJcblx0XHRcdFx0XHRzb3J0aW5nLnB1c2goJy0nICsgc2V0dGluZy5vYmplY3RLZXkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvLyAuLi5pZiBubyBzb3J0aW5nIGFwcGxpZWQuLi5cclxuXHRcdFx0aWYgKHNvcnRpbmcubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0c29ydGluZy5wdXNoKCckJGd0Um93SWQnKTtcclxuXHRcdFx0XHQvKi8vIC4uLnNvcnQgc2V0dGluZ3MgYnkgY29sdW1uIG9yZGVyXHJcblx0XHRcdFx0dGhpcy5fZ3RTZXR0aW5ncy5zb3J0KHRoaXMuZ2V0Q29sdW1uT3JkZXIpO1xyXG5cclxuXHRcdFx0XHQvLyAuLi5sb29wIHRocm91Z2ggc2V0dGluZ3NcclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2d0U2V0dGluZ3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGNvbnN0IHNldHRpbmcgPSB0aGlzLl9ndFNldHRpbmdzW2ldO1xyXG5cclxuXHRcdFx0XHRcdC8vIC4uLmlmIGNvbHVtbiBpcyBlbmFibGVkIGFuZCB2aXNpYmxlLi4uXHJcblx0XHRcdFx0XHRpZiAoc2V0dGluZy5lbmFibGVkICE9PSBmYWxzZSAmJiBzZXR0aW5nLnZpc2libGUgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRcdC8vIC4uLmFkZCBmaXJzdCBtYXRjaCBhbmQgZXhpdCBmdW5jdGlvblxyXG5cdFx0XHRcdFx0XHR0aGlzLnNvcnRPcmRlciA9IFt0aGlzLl9ndFNldHRpbmdzW2ldLm9iamVjdEtleV07XHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9Ki9cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnNvcnRPcmRlci5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0dGhpcy5zb3J0T3JkZXIgPSBzb3J0aW5nO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdG5nT25Jbml0KCkge1xyXG5cdFx0Ly8gaWYgbnVtYmVyIG9mIHJvdyB0byBkaXNwbGF5IGZyb20gc3RhcnQgaXMgc2V0IHRvIG51bGwgb3IgMC4uLlxyXG5cdFx0aWYgKCF0aGlzLmd0T3B0aW9ucy5udW1iZXJPZlJvd3MpIHtcclxuXHRcdFx0Ly8gLi4uY2hhbmdlIHJvdyBsZW5ndGhcclxuXHRcdFx0dGhpcy5jaGFuZ2VSb3dMZW5ndGgodGhpcy5ndE9wdGlvbnMubnVtYmVyT2ZSb3dzKTtcclxuXHRcdH1cclxuXHRcdHRoaXMucmVzdHJ1Y3R1cmVTb3J0aW5nKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiAgRXh0ZW5kIG9iamVjdCBmdW5jdGlvbi5cclxuXHQgKi9cclxuXHRwcml2YXRlIGV4dGVuZCA9IGZ1bmN0aW9uKGE6IE9iamVjdCwgYjogT2JqZWN0KSB7XHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBiKSB7XHJcblx0XHRcdGlmIChiLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRhW2tleV0gPSBiW2tleV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBhO1xyXG5cdH07XHJcblxyXG5cdG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcclxuXHRcdC8vIGlmIGd0IHRleHRzIGhhdmUgY2hhbmdlZC4uLlxyXG5cdFx0aWYgKGNoYW5nZXNbJ2d0VGV4dHMnXSkge1xyXG5cdFx0XHQvLyAuLi5leHRlbmQgZ3RPcHRpb25zIGRlZmF1bHQgdmFsdWVzIHdpdGggdmFsdWVzIHBhc3NlZCBpbnRvIGNvbXBvbmVudFxyXG5cdFx0XHR0aGlzLmd0VGV4dHMgPSA8R3RUZXh0cz50aGlzLmV4dGVuZCh0aGlzLmd0RGVmYXVsdFRleHRzLCB0aGlzLmd0VGV4dHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGlmIGxhenkgbG9hZGluZyBkYXRhIGFuZCBwYWdpbmcgaW5mb3JtYXRpb24gaXMgYXZhaWxhYmxlLi4uXHJcblx0XHRpZiAodGhpcy5ndE9wdGlvbnMubGF6eUxvYWQgJiYgdGhpcy5ndEluZm8pIHtcclxuXHRcdFx0Ly8gLi4uY2FsY3VsYXRlIHRvdGFsIG51bWJlciBvZiBwYWdlc1xyXG5cdFx0XHR0aGlzLmd0SW5mby5wYWdlVG90YWwgPSBNYXRoLmNlaWwoXHJcblx0XHRcdFx0dGhpcy5ndEluZm8ucmVjb3Jkc0FmdGVyU2VhcmNoIC8gdGhpcy5ndEluZm8ucmVjb3JkTGVuZ3RoXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHQvLyAuLi5kZWNsYXJlIHN0b3JlIHBvc2l0aW9uXHJcblx0XHRcdGNvbnN0IHN0b3JlUG9zaXRpb24gPSB0aGlzLmd0SW5mby5wYWdlQ3VycmVudCAtIDE7XHJcblxyXG5cdFx0XHQvLyAuLi5hbmQgaWYgc3RvcmUgaXMgZW1wdHkgb3IgcGFnZSBsZW5ndGggaGFzIGNoYW5nZWQuLi5cclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdHRoaXMuc3RvcmUubGVuZ3RoID09PSAwIHx8XHJcblx0XHRcdFx0dGhpcy5zdG9yZVswXS5sZW5ndGggIT09IHRoaXMuZ3RJbmZvLnJlY29yZExlbmd0aFxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHQvLyAuLi5jcmVhdGUgc3RvcmVcclxuXHRcdFx0XHR0aGlzLnN0b3JlID0gdGhpcy5jcmVhdGVTdG9yZShcclxuXHRcdFx0XHRcdHRoaXMuZ3RJbmZvLnJlY29yZHNBZnRlclNlYXJjaCxcclxuXHRcdFx0XHRcdHRoaXMuZ3RJbmZvLnJlY29yZExlbmd0aFxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIC4uLnN0b3JlIHJldHJpZXZlZCBkYXRhIGluIHN0b3JlIGF0IHN0b3JlIHBvc2l0aW9uXHJcblx0XHRcdHRoaXMuc3RvcmVbc3RvcmVQb3NpdGlvbl0gPSB0aGlzLmd0RGF0YTtcclxuXHRcdFx0dGhpcy5ndEluZm8udmlzaWJsZVJlY29yZHMgPSBbLi4udGhpcy5ndERhdGFdOyAvLyBhZGQgdmlzaWJsZSByb3dzXHJcblxyXG5cdFx0XHQvLyByZXBsYWNlIGRhdGEgd2l0aCBzdG9yZVxyXG5cdFx0XHR0aGlzLl9ndERhdGEgPSB0aGlzLnN0b3JlO1xyXG5cdFx0XHR0aGlzLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy51cGRhdGVSZWNvcmRSYW5nZSgpO1xyXG5cdFx0XHR0aGlzLmd0RXZlbnQuZW1pdCh7XHJcblx0XHRcdFx0bmFtZTogJ2d0LWluZm8nLFxyXG5cdFx0XHRcdHZhbHVlOiB0aGlzLmd0SW5mb1xyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSBpZiAoXHJcblx0XHRcdHRoaXMuX2d0RGF0YSAmJlxyXG5cdFx0XHR0aGlzLl9ndERhdGEubGVuZ3RoID49IDAgJiZcclxuXHRcdFx0Y2hhbmdlc1snZ3REYXRhJ10gJiZcclxuXHRcdFx0Y2hhbmdlc1snZ3REYXRhJ10ucHJldmlvdXNWYWx1ZVxyXG5cdFx0KSB7XHJcblx0XHRcdHRoaXMubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0fSBlbHNlIGlmIChcclxuXHRcdFx0Y2hhbmdlc1snZ3REYXRhJ10gJiZcclxuXHRcdFx0Y2hhbmdlc1snZ3REYXRhJ10uZmlyc3RDaGFuZ2UgJiZcclxuXHRcdFx0dGhpcy5fZ3REYXRhICYmXHJcblx0XHRcdHRoaXMuX2d0RGF0YS5sZW5ndGggPiAwXHJcblx0XHQpIHtcclxuXHRcdFx0dGhpcy5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR0cmFja0J5Rm4oaW5kZXg6IG51bWJlciwgaXRlbTogR3RSb3cpIHtcclxuXHRcdHJldHVybiBpdGVtLiQkZ3RSb3dJZDtcclxuXHR9XHJcblxyXG5cdHRyYWNrQnlDb2x1bW5GbihpbmRleDogbnVtYmVyLCBpdGVtOiBHdENvbmZpZ0ZpZWxkPGFueSwgYW55Pikge1xyXG5cdFx0cmV0dXJuIGl0ZW0ub2JqZWN0S2V5O1xyXG5cdH1cclxuXHJcblx0bmdPbkRlc3Ryb3koKSB7XHJcblx0XHQvLyByZW1vdmUgbGlzdGVuZXJcclxuXHRcdHRoaXMuX3N0b3BMaXN0ZW5pbmdGb3JLZXlkb3duRXZlbnQoKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuXHRDb21wb25lbnQsXHJcblx0Q2hhbmdlRGV0ZWN0b3JSZWYsXHJcblx0QWZ0ZXJWaWV3Q2hlY2tlZCxcclxuXHRJbnB1dFxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHZW5lcmljVGFibGVDb21wb25lbnQgfSBmcm9tICcuL2dlbmVyaWMtdGFibGUuY29tcG9uZW50JztcclxuXHJcbkBDb21wb25lbnQoe1xyXG5cdHNlbGVjdG9yOiAnZ3QtdGFibGUtaW5mbycsXHJcblx0dGVtcGxhdGU6IGA8c3BhbiAqbmdJZj1cImdlbmVyaWNUYWJsZS5ndEluZm9cIj57eyhjdXN0b21UZXh0PyBjdXN0b21UZXh0OmdlbmVyaWNUYWJsZS5ndFRleHRzKSB8IGd0VGFibGVJbmZvOlxyXG5cdFx0Z2VuZXJpY1RhYmxlLmd0SW5mbzpcclxuXHRcdGdlbmVyaWNUYWJsZS5ndEluZm8ucmVjb3Jkc0FmdGVyU2VhcmNoOlxyXG5cdFx0Z2VuZXJpY1RhYmxlLmd0SW5mby5yZWNvcmRGcm9tOlxyXG5cdFx0Z2VuZXJpY1RhYmxlLmd0SW5mby5yZWNvcmRUbzpcclxuXHRcdGdlbmVyaWNUYWJsZS5ndEluZm8ucmVjb3Jkc0FsbDpcclxuXHRcdGdlbmVyaWNUYWJsZS5ndFRleHRzLmxvYWRpbmc6XHJcblx0XHRnZW5lcmljVGFibGUuZ3RUZXh0cy50YWJsZUluZm9BZnRlclNlYXJjaH19PC9zcGFuPmBcclxufSlcclxuZXhwb3J0IGNsYXNzIEd0VGFibGVJbmZvQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3Q2hlY2tlZCB7XHJcblx0QElucHV0KCkgZ2VuZXJpY1RhYmxlOiBHZW5lcmljVGFibGVDb21wb25lbnQ8YW55LCBhbnk+O1xyXG5cdEBJbnB1dCgpIGN1c3RvbVRleHQ6IHN0cmluZztcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBfY2hhbmdlRGV0ZWN0aW9uUmVmOiBDaGFuZ2VEZXRlY3RvclJlZikge31cclxuXHJcblx0bmdBZnRlclZpZXdDaGVja2VkKCkge1xyXG5cdFx0dGhpcy5fY2hhbmdlRGV0ZWN0aW9uUmVmLmRldGVjdENoYW5nZXMoKTtcclxuXHR9XHJcbn1cclxuaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHdEluZm9ybWF0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1pbmZvcm1hdGlvbic7XHJcbmltcG9ydCB7IEd0VGV4dHMgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LXRleHRzJztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZ3RUYWJsZUluZm8nXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBUYWJsZUluZm9QaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcblx0dHJhbnNmb3JtKFxyXG5cdFx0dGV4dHM6IEd0VGV4dHMgfCBzdHJpbmcsXHJcblx0XHRrZXlzOiBHdEluZm9ybWF0aW9uLFxyXG5cdFx0cmVjb3Jkc0FmdGVyU2VhcmNoOiBudW1iZXIsXHJcblx0XHRyZWNvcmRGcm9tOiBudW1iZXIsXHJcblx0XHRyZWNvcmRUbzogbnVtYmVyLFxyXG5cdFx0cmVjb3Jkc0FsbDogbnVtYmVyLFxyXG5cdFx0bG9hZGluZzogc3RyaW5nLFxyXG5cdFx0dGFibGVJbmZvQWZ0ZXJTZWFyY2g6IHN0cmluZ1xyXG5cdCk6IHN0cmluZyB7XHJcblx0XHRsZXQgdGV4dCA9IHR5cGVvZiB0ZXh0cyA9PT0gJ29iamVjdCcgPyB0ZXh0cy50YWJsZUluZm8gOiAnJztcclxuXHRcdGlmIChrZXlzLnJlY29yZHNBZnRlclNlYXJjaCAhPT0ga2V5cy5yZWNvcmRzQWxsKSB7XHJcblx0XHRcdHRleHQgPSB0eXBlb2YgdGV4dHMgPT09ICdvYmplY3QnID8gdGV4dHMudGFibGVJbmZvQWZ0ZXJTZWFyY2ggOiAnJztcclxuXHRcdH1cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIGtleXMpIHtcclxuXHRcdFx0aWYgKGtleXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHNlYXJjaFN0cmluZyA9IG5ldyBSZWdFeHAoJyMnICsga2V5LCAnZycpO1xyXG5cdFx0XHRcdHRleHQgPSB0ZXh0LnJlcGxhY2Uoc2VhcmNoU3RyaW5nLCBrZXlzW2tleV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGV4dDtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHZW5lcmljVGFibGVDb21wb25lbnQgfSBmcm9tICcuL2dlbmVyaWMtdGFibGUuY29tcG9uZW50JztcclxuXHJcbkBDb21wb25lbnQoe1xyXG5cdHNlbGVjdG9yOiAnZ3QtcGFnaW5hdGlvbicsXHJcblx0dGVtcGxhdGU6IGA8bmF2IGNsYXNzPVwiZ3QtcGFnaW5hdGlvblwiIGFyaWEtbGFiZWw9XCJUYWJsZSBuYXZpZ2F0aW9uXCIgKm5nSWY9XCJnZW5lcmljVGFibGUgJiYgZ2VuZXJpY1RhYmxlLmd0SW5mbyAmJiByZWFkeSAmJiBnZW5lcmljVGFibGUuZ3REYXRhPy5sZW5ndGggPiAwXCIgW25nQ2xhc3NdPVwieyduby1kYXRhJzpnZW5lcmljVGFibGUuZ3RJbmZvLnBhZ2VUb3RhbCA9PT0gMH1cIj5cclxuICA8dWwgY2xhc3M9XCJwYWdpbmF0aW9uXCIgW25nQ2xhc3NdPVwiZ3RDbGFzc2VzXCI+XHJcbiAgICA8bGkgY2xhc3M9XCJwYWdlLWl0ZW1cIiBbbmdDbGFzc109XCJ7J2Rpc2FibGVkJyA6IGdlbmVyaWNUYWJsZS5ndEluZm8ucGFnZUN1cnJlbnQgPT09IDEgfHwgZ2VuZXJpY1RhYmxlLmxvYWRpbmcgfVwiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIiAoY2xpY2spPVwiZ2VuZXJpY1RhYmxlLmd0SW5mby5wYWdlQ3VycmVudCA+IDEgJiYgZ2VuZXJpY1RhYmxlLnByZXZpb3VzUGFnZSgpXCIgW2F0dHIuYXJpYS1sYWJlbF09XCJnZW5lcmljVGFibGUuZ3RUZXh0cy5wYWdpbmF0ZVByZXZpb3VzXCI+PHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JmxhcXVvOzwvc3Bhbj48c3BhbiBjbGFzcz1cInNyLW9ubHlcIj57e2dlbmVyaWNUYWJsZS5ndFRleHRzLnBhZ2luYXRlUHJldmlvdXN9fTwvc3Bhbj48L2E+PC9saT5cclxuICAgIDxsaSBjbGFzcz1cInBhZ2UtaXRlbVwiIFtuZ0NsYXNzXT1cInsnZGlzYWJsZWQnIDogZ2VuZXJpY1RhYmxlLmxvYWRpbmcgJiYgZ2VuZXJpY1RhYmxlLmd0SW5mby5wYWdlQ3VycmVudCAhPT0gcGFnZSwgJ2FjdGl2ZScgOiBnZW5lcmljVGFibGUuZ3RJbmZvLnBhZ2VDdXJyZW50ID09PSBwYWdlIH1cIiAqbmdGb3I9XCJsZXQgcGFnZSBvZiBnZW5lcmljVGFibGUuZ3RJbmZvLnBhZ2VUb3RhbCB8IGd0UGFnaW5hdGlvblBpcGU6Z2VuZXJpY1RhYmxlLmd0SW5mby5wYWdlQ3VycmVudFwiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgW3RhYmluZGV4XT1cInBhZ2UgPT09IHRydWUgPyAtMTowXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIiAoY2xpY2spPVwicGFnZSA9PT0gdHJ1ZSA/ICcnOmdlbmVyaWNUYWJsZS5nb1RvUGFnZShwYWdlKVwiPnt7cGFnZSA9PT0gdHJ1ZSA/ICcmaGVsbGlwOyc6cGFnZX19PC9hPjwvbGk+XHJcbiAgICA8bGkgY2xhc3M9XCJwYWdlLWl0ZW1cIiBbbmdDbGFzc109XCJ7J2Rpc2FibGVkJyA6IGdlbmVyaWNUYWJsZS5ndEluZm8ucGFnZUN1cnJlbnQgPT09IGdlbmVyaWNUYWJsZS5ndEluZm8ucGFnZVRvdGFsIHx8IGdlbmVyaWNUYWJsZS5sb2FkaW5nIH1cIj48YSBjbGFzcz1cInBhZ2UtbGluayBndC1saW5rXCIgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIiAoY2xpY2spPVwiZ2VuZXJpY1RhYmxlLmd0SW5mby5wYWdlQ3VycmVudCAhPT0gZ2VuZXJpY1RhYmxlLmd0SW5mby5wYWdlVG90YWwgJiYgZ2VuZXJpY1RhYmxlLm5leHRQYWdlKClcIiBbYXR0ci5hcmlhLWxhYmVsXT1cImdlbmVyaWNUYWJsZS5ndFRleHRzLnBhZ2luYXRlTmV4dFwiPjxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZyYXF1bzs8L3NwYW4+PHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+e3tnZW5lcmljVGFibGUuZ3RUZXh0cy5wYWdpbmF0ZU5leHR9fTwvc3Bhbj48L2E+PC9saT5cclxuICA8L3VsPlxyXG4gIDwvbmF2PlxyXG4gICAgYCxcclxuXHRzdHlsZXM6IFsnLmd0LWxpbmsge2N1cnNvcjogcG9pbnRlcjt9J11cclxufSlcclxuZXhwb3J0IGNsYXNzIEd0UGFnaW5hdGlvbkNvbXBvbmVudCB7XHJcblx0Z2V0IGdlbmVyaWNUYWJsZSgpOiBHZW5lcmljVGFibGVDb21wb25lbnQ8YW55LCBhbnk+IHtcclxuXHRcdHJldHVybiB0aGlzLl9nZW5lcmljVGFibGU7XHJcblx0fVxyXG5cclxuXHRASW5wdXQoKVxyXG5cdHNldCBnZW5lcmljVGFibGUodmFsdWU6IEdlbmVyaWNUYWJsZUNvbXBvbmVudDxhbnksIGFueT4pIHtcclxuXHRcdGlmICh2YWx1ZSkge1xyXG5cdFx0XHR2YWx1ZS5ndEV2ZW50LnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcclxuXHRcdFx0XHRpZiAocmVzLm5hbWUgPT09ICdndC1pbmZvJyAmJiByZXMudmFsdWUucGFnZVRvdGFsID4gMCkge1xyXG5cdFx0XHRcdFx0dGhpcy5yZWFkeSA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdHRoaXMuX2dlbmVyaWNUYWJsZSA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBfZ2VuZXJpY1RhYmxlOiBHZW5lcmljVGFibGVDb21wb25lbnQ8YW55LCBhbnk+O1xyXG5cdEBJbnB1dCgpIGd0Q2xhc3Nlczogc3RyaW5nO1xyXG5cdHB1YmxpYyByZWFkeSA9IGZhbHNlO1xyXG59XHJcbmltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZ3RQYWdpbmF0aW9uUGlwZSdcclxufSlcclxuZXhwb3J0IGNsYXNzIFBhZ2luYXRpb25QaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcblx0dHJhbnNmb3JtKHRvdGFsUGFnZXM6IG51bWJlciwgY3VycmVudFBhZ2U6IG51bWJlcik6IEFycmF5PGFueT4ge1xyXG5cdFx0aWYgKHRvdGFsUGFnZXMgPT09IDApIHtcclxuXHRcdFx0cmV0dXJuIFsxXTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IHBhZ2luYXRpb246IEFycmF5PGFueT4gPSBbXTsgLy8gY3JlYXRlIG5ldyBlbXB0eSBhcnJheSBmb3IgcGFnaW5hdGlvblxyXG5cdFx0Y29uc3Qgc2libGluZ3MgPSAyOyAvLyBzaWJsaW5nIGVsZW1lbnRzIGllLiBudW1iZXIgb2YgZWxlbWVudHMgb24gZWFjaCBzaWRlIG9mIGN1cnJlbnQgcGFnZVxyXG5cdFx0Y29uc3QgcGFnaW5hdGlvbkxlbmd0aCA9XHJcblx0XHRcdHRvdGFsUGFnZXMgPCBzaWJsaW5ncyAqIDIgKyAxID8gdG90YWxQYWdlcyA6IHNpYmxpbmdzICogMiArIDE7IC8vIG51bWJlciBvZiBlbGVtZW50cyBpbiBwYWdpbmF0aW9uIGFycmF5XHJcblx0XHRjb25zdCBzdGFydCA9IGN1cnJlbnRQYWdlIDw9IHNpYmxpbmdzID8gMSA6IGN1cnJlbnRQYWdlIC0gc2libGluZ3M7IC8vIHN0YXJ0aW5nIHBvc2l0aW9uIGZvciBhcnJheVxyXG5cdFx0Y29uc3QgbW9kaWZpZXIgPVxyXG5cdFx0XHR0b3RhbFBhZ2VzIC0gKGN1cnJlbnRQYWdlICsgc2libGluZ3MpIDw9IDBcclxuXHRcdFx0XHQ/IHRvdGFsUGFnZXMgLSAoY3VycmVudFBhZ2UgKyBzaWJsaW5ncylcclxuXHRcdFx0XHQ6IDA7IC8vIG1vZGlmaWVyIGZvciBwYWdpbmF0aW9uIHZhbHVlc1xyXG5cdFx0Y29uc3QgbW9kaWZpZWRQb3NpdGlvbiA9IHN0YXJ0ICsgbW9kaWZpZXIgPD0gMCA/IDEgOiBzdGFydCArIG1vZGlmaWVyO1xyXG5cclxuXHRcdC8vIHB1c2ggcGFnZXMgdG8gcGFnaW5hdGlvbiBhcnJheVxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwYWdpbmF0aW9uTGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0cGFnaW5hdGlvbi5wdXNoKG1vZGlmaWVkUG9zaXRpb24gKyBpKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBpZiBmaXJzdCBwYWdlIGlzIG5vdCBpbmNsdWRlZCBpbiBwYWdpbmF0aW9uLi4uXHJcblx0XHRpZiAocGFnaW5hdGlvbi5pbmRleE9mKDEpID09PSAtMSkge1xyXG5cdFx0XHQvLyAuLi5jaGVjayBpZiBzZWNvbmQgcGFnZSBpcyBpbiBwYWdpbmF0aW9uLi4uXHJcblx0XHRcdGlmIChwYWdpbmF0aW9uLmluZGV4T2YoMikgPT09IC0xKSB7XHJcblx0XHRcdFx0Ly8gLi4uaWYgbm90IGNoZWNrIGlmIHRvdGFsIG51bWJlciBvZiBwYWdlcyBlcXVhbHMgc2V2ZW4gYW5kIG51bWJlciBvZiBzaWJsaW5ncyBhcmUgdHdvLi4uXHJcblx0XHRcdFx0aWYgKHRvdGFsUGFnZXMgPT09IDcgJiYgc2libGluZ3MgPT09IDIpIHtcclxuXHRcdFx0XHRcdC8vIC4uLmFkZCBzZWNvbmQgcGFnZSBhbmQgZG9uJ3QgY29udmVydCBwYWdlIG51bWJlciB0byBlbGxpcHNpc1xyXG5cdFx0XHRcdFx0cGFnaW5hdGlvbi51bnNoaWZ0KDIpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQvLyAuLi5pZiBub3QsIHVzZSB0aGlzIHBsYWNlaG9sZGVyIGZvciBlbGxpcHNpcyBpbnN0ZWFkIG9mIGFjdHVhbCBwYWdlIG51bWJlclxyXG5cdFx0XHRcdFx0cGFnaW5hdGlvblswXSA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIC4uLmFkZCBmaXJzdCBwYWdlIGFzIGZpcnN0IGFycmF5IGl0ZW1cclxuXHRcdFx0cGFnaW5hdGlvbi51bnNoaWZ0KDEpO1xyXG5cdFx0fSBlbHNlIGlmICh0b3RhbFBhZ2VzID4gcGFnaW5hdGlvbkxlbmd0aCkge1xyXG5cdFx0XHQvLyBpZiBmaXJzdCBwYWdlIGlzIGluY2x1ZGVkIGFkZCBleHRyYSBwYWdlIHRvIGtlZXAgbnVtYmVyIG9mIGl0ZW1zIGNvbnNpc3RlbnRcclxuXHRcdFx0cGFnaW5hdGlvbi5zcGxpY2UocGFnaW5hdGlvbkxlbmd0aCwgMCwgcGFnaW5hdGlvbkxlbmd0aCArIDEpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gY2hlY2sgaWYgbGFzdCBwYWdlIGlzIGluY2x1ZGVkIGluIHBhZ2luYXRpb24uLi5cclxuXHRcdGlmIChwYWdpbmF0aW9uLmluZGV4T2YodG90YWxQYWdlcykgPT09IC0xKSB7XHJcblx0XHRcdC8vIC4uLmlmIG5vdCwgcGFnZSBuZXh0IHRvIGxhc3Qgc2hvdWxkIGVpdGhlciBzaG93IGVsbGlwc2lzIG9yIGFjdHVhbCBwYWdlIG51bWJlciBmb3IgdGhlIHBhZ2VcclxuXHRcdFx0cGFnaW5hdGlvbltwYWdpbmF0aW9uLmxlbmd0aCAtIDFdID1cclxuXHRcdFx0XHRwYWdpbmF0aW9uW3BhZ2luYXRpb24ubGVuZ3RoIC0gMV0gPT09IHRvdGFsUGFnZXMgLSAxXHJcblx0XHRcdFx0XHQ/IHRvdGFsUGFnZXMgLSAxXHJcblx0XHRcdFx0XHQ6IHRydWU7XHJcblxyXG5cdFx0XHQvLyAuLi5hZGQgbGFzdCBwYWdlIHRvIHBhZ2luYXRpb25cclxuXHRcdFx0cGFnaW5hdGlvbi5wdXNoKHRvdGFsUGFnZXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBwYWdpbmF0aW9uO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHdEV4cGFuZGVkUm93IH0gZnJvbSAnLi9ndC1leHBhbmRpbmctcm93LmNvbXBvbmVudCc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuXHRzZWxlY3RvcjogJ2d0LWRyaWxsZG93bicsXHJcblx0dGVtcGxhdGU6IGBcclxuICAgICAgPHRhYmxlIGNsYXNzPVwidGFibGVcIj5cclxuICAgICAgICAgIDx0ciAqbmdGb3I9XCJsZXQgcm93IG9mIGRhdGFcIiAoY2xpY2spPVwiJHJvd0NsaWNrKHJvdywgJGV2ZW50KVwiPlxyXG4gICAgICAgICAgICAgIDwhLS08dGQgKm5nRm9yPVwibGV0IGNvbHVtbiBvZiBndFNldHRpbmdzXCIgW3N0eWxlLndpZHRoXT1cImNvbHVtbldpZHRoW2NvbHVtbi5vYmplY3RLZXldXCI+e3tjb2x1bW4ub2JqZWN0S2V5fX08L3RkPi0tPlxyXG4gICAgICAgICAgICAgIDx0ZCAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIHJvdyB8IGd0UmVuZGVyOmd0U2V0dGluZ3M6Z3RGaWVsZHM6bnVsbDpudWxsOmd0T3B0aW9ucy5oaWdobGlnaHRTZWFyY2g6Z3RJbmZvLnNlYXJjaFRlcm1zO1wiXHJcbiAgICAgICAgICAgICAgICAgIG5nQ2xhc3M9XCJ7e2NvbHVtbi5vYmplY3RLZXkgKyctY29sdW1uJyB8IGRhc2hDYXNlfX0ge3tndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonY2xhc3NOYW1lcyd9fSB7eyhndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpID8gJ2d0LWlubGluZS1lZGl0JzonJ319IHt7Y29sdW1uLmVkaXRlZCA/ICdndC1lZGl0ZWQnOicnfX0ge3sgZ3RGaWVsZHMgfCBndENvbHVtbkNsYXNzOnJvdzpjb2x1bW4gfX1cIiBbc3R5bGUud2lkdGhdPVwiY29sdW1uV2lkdGhbY29sdW1uLm9iamVjdEtleV1cIiBbc3R5bGUubWF4LXdpZHRoXT1cImNvbHVtbldpZHRoW2NvbHVtbi5vYmplY3RLZXldXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ3Qtcm93LWxhYmVsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJndE9wdGlvbnMuc3RhY2tcIj57eyhndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonc3RhY2tlZEhlYWRpbmcnKSA/IChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonc3RhY2tlZEhlYWRpbmcnKSA6IChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonbmFtZScpfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDxndC1jdXN0b20tY29tcG9uZW50LWZhY3RvcnkgKm5nSWY9XCJjb2x1bW4uY29sdW1uQ29tcG9uZW50XCIgY2xhc3M9XCJndC1yb3ctY29udGVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3R5cGVdPVwiY29sdW1uLmNvbHVtbkNvbXBvbmVudC50eXBlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbaW5qZWN0b3JdPVwiY29sdW1uLmNvbHVtbkNvbXBvbmVudC5pbmplY3RvclwiIFtyb3ddPVwicm93XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY29sdW1uXT1cImNvbHVtblwiIChyZWRyYXdFdmVudCk9XCIkcmVkcmF3KCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJjb2x1bW4uY2xpY2sgPyBjb2x1bW4uY2xpY2socm93LGNvbHVtbiwkZXZlbnQpOicnO1wiPjwvZ3QtY3VzdG9tLWNvbXBvbmVudC1mYWN0b3J5PlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cIiFjb2x1bW4uY29sdW1uQ29tcG9uZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJndC1yb3ctY29udGVudFwiIFtpbm5lckhUTUxdPVwiY29sdW1uLnJlbmRlclZhbHVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImNvbHVtbi5jbGljayA/IGNvbHVtbi5jbGljayhyb3csY29sdW1uLCRldmVudCk6JydcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC90ZD5cclxuXHJcbiAgICAgICAgICA8L3RyPlxyXG4gICAgICA8L3RhYmxlPlxyXG4gIGAsXHJcblx0c3R5bGVzOiBbXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgR3REcmlsbGRvd25Db21wb25lbnQgZXh0ZW5kcyBHdEV4cGFuZGVkUm93PGFueT4gaW1wbGVtZW50cyBPbkluaXQge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHR9XHJcblxyXG5cdG5nT25Jbml0KCkge31cclxufVxyXG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IERvbVNhbml0aXplciwgU2FmZUh0bWwgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZ3RIaWdobGlnaHQnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdEhpZ2hsaWdodFBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHNhbml0aXplcjogRG9tU2FuaXRpemVyKSB7fVxyXG5cclxuXHR0cmFuc2Zvcm0odGV4dDogc3RyaW5nLCBzZWFyY2hUZXJtOiBzdHJpbmcpOiBTYWZlSHRtbCB7XHJcblx0XHRjb25zdCBoYXlzdGFja0Fsd2F5c1N0cmluZyA9IHRleHQgKyAnJztcclxuXHRcdGxldCBoaWdobGlnaHRlZFRleHQgPSBoYXlzdGFja0Fsd2F5c1N0cmluZzsgLy8gZmFsbGJhY2tcclxuXHJcblx0XHRsZXQgc2VhcmNoUGF0dGVybjtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHNlYXJjaFBhdHRlcm4gPSBuZXcgUmVnRXhwKFxyXG5cdFx0XHRcdCcoJyArXHJcblx0XHRcdFx0c2VhcmNoVGVybVxyXG5cdFx0XHRcdFx0LnRvTG93ZXJDYXNlKClcclxuXHRcdFx0XHRcdC5tYXRjaCgvXCIuKj9cInxbXiBdKy9nKSAvLyBleHRyYWN0IHdvcmRzXHJcblx0XHRcdFx0XHQubWFwKFxyXG5cdFx0XHRcdFx0XHRuZWVkbGUgPT4gbmVlZGxlLnJlcGxhY2UoL1wiKC4qPylcIi8sICckMScpIC8vIHN0cmlwIGF3YXkgJ1wiJ1xyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0LmpvaW4oJ3wnKSArIC8vIGNvbWJpbmUgd29yZHNcclxuXHRcdFx0XHRcdCcpJyxcclxuXHRcdFx0XHQnaWcnXHJcblx0XHRcdCk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdEh0bWwoaGlnaGxpZ2h0ZWRUZXh0KTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBjb250YWluc1RhZ1BhdHRlcm4gPSAvKDwuKj8+KSguKikoPFxcLy4qPz4pL2dpO1xyXG5cdFx0Y29uc3QgY29udGFpbnNUYWdNYXRjaGVzID0gY29udGFpbnNUYWdQYXR0ZXJuLmV4ZWMoaGF5c3RhY2tBbHdheXNTdHJpbmcpO1xyXG5cclxuXHRcdGlmIChjb250YWluc1RhZ01hdGNoZXMpIHtcclxuXHRcdFx0Ly8gdGFnIGV4aXN0cyBpbiBoYXlzdGFja1xyXG5cdFx0XHRoaWdobGlnaHRlZFRleHQgPVxyXG5cdFx0XHRcdGNvbnRhaW5zVGFnTWF0Y2hlc1sxXSArXHJcblx0XHRcdFx0Y29udGFpbnNUYWdNYXRjaGVzWzJdLnJlcGxhY2UoXHJcblx0XHRcdFx0XHRzZWFyY2hQYXR0ZXJuLFxyXG5cdFx0XHRcdFx0JzxzcGFuIGNsYXNzPVwiZ3QtaGlnaGxpZ2h0LXNlYXJjaFwiPiQxPC9zcGFuPidcclxuXHRcdFx0XHQpICtcclxuXHRcdFx0XHRjb250YWluc1RhZ01hdGNoZXNbM107XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRoaWdobGlnaHRlZFRleHQgPSBoYXlzdGFja0Fsd2F5c1N0cmluZy5yZXBsYWNlKFxyXG5cdFx0XHRcdHNlYXJjaFBhdHRlcm4sXHJcblx0XHRcdFx0JzxzcGFuIGNsYXNzPVwiZ3QtaGlnaGxpZ2h0LXNlYXJjaFwiPiQxPC9zcGFuPidcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdEh0bWwoaGlnaGxpZ2h0ZWRUZXh0KTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHdENvbmZpZ1NldHRpbmcgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LWNvbmZpZy1zZXR0aW5nJztcclxuaW1wb3J0IHsgR3RDb25maWdGaWVsZCB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3QtY29uZmlnLWZpZWxkJztcclxuaW1wb3J0IHsgRG9tU2FuaXRpemVyIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XHJcbmltcG9ydCB7IEd0Um93IH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1yb3cnO1xyXG5pbXBvcnQgeyBHdFJlbmRlckZpZWxkIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1yZW5kZXItZmllbGQnO1xyXG5pbXBvcnQgeyBHdEhpZ2hsaWdodFBpcGUgfSBmcm9tICcuL2d0LWhpZ2hsaWdodC5waXBlJztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZ3RSZW5kZXInXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdFJlbmRlclBpcGU8UiBleHRlbmRzIEd0Um93PiBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSBzYW5pdGl6ZXI6IERvbVNhbml0aXplcixcclxuXHRcdHByaXZhdGUgZ3RIaWdobGlnaHRQaXBlOiBHdEhpZ2hsaWdodFBpcGVcclxuXHQpIHt9XHJcblxyXG5cdC8vIFRPRE86IG1vdmUgdG8gaGVscGVyIGZ1bmN0aW9uc1xyXG5cdC8qKiBTb3J0IGJ5IGNvbHVtbiBvcmRlciAqL1xyXG5cdHByaXZhdGUgZ2V0Q29sdW1uT3JkZXIgPSBmdW5jdGlvbihhOiBHdENvbmZpZ1NldHRpbmcsIGI6IEd0Q29uZmlnU2V0dGluZykge1xyXG5cdFx0aWYgKGEuY29sdW1uT3JkZXIgPCBiLmNvbHVtbk9yZGVyKSB7XHJcblx0XHRcdHJldHVybiAtMTtcclxuXHRcdH1cclxuXHRcdGlmIChhLmNvbHVtbk9yZGVyID4gYi5jb2x1bW5PcmRlciB8fCB0eXBlb2YgYS5jb2x1bW5PcmRlciA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0cmV0dXJuIDE7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gMDtcclxuXHR9O1xyXG5cclxuXHQvKiogU29ydCBieSBsZW5ndGggKi9cclxuXHRwcml2YXRlIGdldE9yZGVyQnlMZW5ndGggPSBmdW5jdGlvbihhOiBhbnksIGI6IGFueSkge1xyXG5cdFx0cmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XHJcblx0fTtcclxuXHJcblx0LyoqIFJldHVybiBwcm9wZXJ0eSAqL1xyXG5cdHByaXZhdGUgZ2V0UHJvcGVydHkgPSBmdW5jdGlvbihhcnJheTogQXJyYXk8YW55Piwga2V5OiBzdHJpbmcpIHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKGFycmF5W2ldLm9iamVjdEtleSA9PT0ga2V5KSB7XHJcblx0XHRcdFx0cmV0dXJuIGFycmF5W2ldO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0dHJhbnNmb3JtKFxyXG5cdFx0cm93OiBhbnksXHJcblx0XHRzZXR0aW5nczogQXJyYXk8R3RDb25maWdTZXR0aW5nPixcclxuXHRcdGZpZWxkczogQXJyYXk8R3RDb25maWdGaWVsZDxSLCBhbnk+PixcclxuXHRcdHVwZGF0ZWQ6IGJvb2xlYW4sXHJcblx0XHRsb2FkaW5nOiBib29sZWFuLFxyXG5cdFx0aGlnaGxpZ2h0OiBib29sZWFuID0gZmFsc2UsXHJcblx0XHRzZWFyY2hTdHJpbmc/OiBzdHJpbmdcclxuXHQpOiBBcnJheTxHdFJlbmRlckZpZWxkPFIsIGFueT4+IHtcclxuXHRcdC8vIGxldCBhcnIgPSBbe1widGVtcFwiOjEyMyxcIm5hbWVcIjpcImhhcHB5XCJ9LHtcInRlbXBcIjo0NTYsXCJuYW1lXCI6XCJkZmdkZmdcIn0se1widGVtcFwiOjc4OSxcIm5hbWVcIjpcImFzZGFzZFwifV07XHJcblx0XHQvLyBjb25zb2xlLmxvZyhhcnIsYXJyLm1hcChmdW5jdGlvbihpdGVtKXtyZXR1cm4gaXRlbS50ZW1wfSkpO1xyXG5cdFx0Ly8gY29uc29sZS5sb2coc2V0dGluZ3MubWFwKCdvYmplY3RLZXknKSk7XHJcblxyXG5cdFx0Ly8gY29uc29sZS5sb2coJ3JlbmRlcicpO1xyXG5cdFx0Y29uc3QgY29sdW1uczogQXJyYXk8c3RyaW5nPiA9IFtdO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZXR0aW5ncy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoc2V0dGluZ3NbaV0udmlzaWJsZSAhPT0gZmFsc2UgJiYgc2V0dGluZ3NbaV0uZW5hYmxlZCAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRjb2x1bW5zLnB1c2goc2V0dGluZ3NbaV0ub2JqZWN0S2V5KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCFyb3dbZmllbGRzW2ldLm9iamVjdEtleV0pO1xyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0ZmllbGRzW2ldLnZhbHVlICYmXHJcblx0XHRcdFx0dHlwZW9mIGZpZWxkc1tpXS52YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJlxyXG5cdFx0XHRcdCFyb3cuaGFzT3duUHJvcGVydHkoZmllbGRzW2ldLm9iamVjdEtleSlcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0cm93W2ZpZWxkc1tpXS5vYmplY3RLZXldID0gbG9hZGluZyA/ICcnIDogZmllbGRzW2ldLnZhbHVlKHJvdyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8vIGNvbnNvbGUubG9nKHJvdyk7XHJcblx0XHRjb25zdCBrZXlzOiBBcnJheTxhbnk+ID0gW107XHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiByb3cpIHtcclxuXHRcdFx0Ly8gY29uc29sZS5sb2coa2V5KTtcclxuXHRcdFx0aWYgKGNvbHVtbnMuaW5kZXhPZihrZXkpICE9PSAtMSkge1xyXG5cdFx0XHRcdGxldCBmaWVsZFNldHRpbmc7XHJcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmIChmaWVsZHNbaV0ub2JqZWN0S2V5ID09PSBrZXkpIHtcclxuXHRcdFx0XHRcdFx0ZmllbGRTZXR0aW5nID0gZmllbGRzW2ldO1xyXG5cdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhmaWVsZFNldHRpbmcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc3QgY29sdW1uT2JqZWN0OiBHdFJlbmRlckZpZWxkPFIsIGFueT4gPSB7XHJcblx0XHRcdFx0XHRvYmplY3RLZXk6IGtleSxcclxuXHRcdFx0XHRcdHNvcnRWYWx1ZTogcm93W2tleV1cclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHQvLyBhZGQgY29tcG9uZW50IGlmIGRlZmluZWRcclxuXHRcdFx0XHRpZiAoZmllbGRTZXR0aW5nLmNvbHVtbkNvbXBvbmVudCkge1xyXG5cdFx0XHRcdFx0Y29sdW1uT2JqZWN0LmNvbHVtbkNvbXBvbmVudCA9IGZpZWxkU2V0dGluZy5jb2x1bW5Db21wb25lbnQ7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAobG9hZGluZykge1xyXG5cdFx0XHRcdFx0Y29sdW1uT2JqZWN0LnJlbmRlclZhbHVlID0gcm93W2tleV0gIT09IG51bGwgPyByb3dba2V5XSA6ICcnO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoXHJcblx0XHRcdFx0XHRoaWdobGlnaHQgJiZcclxuXHRcdFx0XHRcdHNlYXJjaFN0cmluZyAmJlxyXG5cdFx0XHRcdFx0dGhpcy5nZXRQcm9wZXJ0eShzZXR0aW5ncywga2V5KS5zZWFyY2ggIT09IGZhbHNlXHJcblx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRjb2x1bW5PYmplY3QucmVuZGVyVmFsdWUgPVxyXG5cdFx0XHRcdFx0XHRmaWVsZFNldHRpbmcucmVuZGVyICYmIHR5cGVvZiBmaWVsZFNldHRpbmcucmVuZGVyID09PSAnZnVuY3Rpb24nXHJcblx0XHRcdFx0XHRcdFx0PyB0aGlzLmd0SGlnaGxpZ2h0UGlwZS50cmFuc2Zvcm0oXHJcblx0XHRcdFx0XHRcdFx0XHRcdGZpZWxkU2V0dGluZy5yZW5kZXIocm93KSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2VhcmNoU3RyaW5nXHJcblx0XHRcdFx0XHRcdFx0ICApXHJcblx0XHRcdFx0XHRcdFx0OiB0aGlzLmd0SGlnaGxpZ2h0UGlwZS50cmFuc2Zvcm0oXHJcblx0XHRcdFx0XHRcdFx0XHRcdHJvd1trZXldICE9PSBudWxsID8gcm93W2tleV0gOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2VhcmNoU3RyaW5nXHJcblx0XHRcdFx0XHRcdFx0ICApO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjb2x1bW5PYmplY3QucmVuZGVyVmFsdWUgPVxyXG5cdFx0XHRcdFx0XHRmaWVsZFNldHRpbmcucmVuZGVyICYmIHR5cGVvZiBmaWVsZFNldHRpbmcucmVuZGVyID09PSAnZnVuY3Rpb24nXHJcblx0XHRcdFx0XHRcdFx0PyB0aGlzLnNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0SHRtbChmaWVsZFNldHRpbmcucmVuZGVyKHJvdykpXHJcblx0XHRcdFx0XHRcdFx0OiByb3dba2V5XSAhPT0gbnVsbFxyXG5cdFx0XHRcdFx0XHRcdFx0PyByb3dba2V5XVxyXG5cdFx0XHRcdFx0XHRcdFx0OiAnJztcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChmaWVsZFNldHRpbmcuY2xpY2sgJiYgdHlwZW9mIGZpZWxkU2V0dGluZy5jbGljayA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0Y29sdW1uT2JqZWN0LmNsaWNrID0gZmllbGRTZXR0aW5nLmNsaWNrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoZmllbGRTZXR0aW5nLmV4cGFuZCkge1xyXG5cdFx0XHRcdFx0Y29sdW1uT2JqZWN0LmV4cGFuZCA9IGZpZWxkU2V0dGluZy5leHBhbmQ7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRrZXlzLnB1c2goY29sdW1uT2JqZWN0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGtleXMuc29ydChmdW5jdGlvbihhOiBhbnksIGI6IGFueSkge1xyXG5cdFx0XHRyZXR1cm4gY29sdW1ucy5pbmRleE9mKGEub2JqZWN0S2V5KSA8IGNvbHVtbnMuaW5kZXhPZihiLm9iamVjdEtleSlcclxuXHRcdFx0XHQ/IC0xXHJcblx0XHRcdFx0OiAxO1xyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4ga2V5cztcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHdENvbmZpZ0ZpZWxkIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1jb25maWctZmllbGQnO1xyXG5pbXBvcnQgeyBHdENvbmZpZ1NldHRpbmcgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LWNvbmZpZy1zZXR0aW5nJztcclxuaW1wb3J0IHsgR3RSb3cgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LXJvdyc7XHJcblxyXG5AUGlwZSh7XHJcblx0bmFtZTogJ2d0VmlzaWJsZSdcclxufSlcclxuZXhwb3J0IGNsYXNzIEd0VmlzaWJsZVBpcGU8UiBleHRlbmRzIEd0Um93PiBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xyXG5cdC8vIFRPRE86IG1vdmUgdG8gaGVscGVyIGZ1bmN0aW9uc1xyXG5cdC8qKiBTb3J0IGJ5IGNvbHVtbiBvcmRlciAqL1xyXG5cdHByaXZhdGUgZ2V0Q29sdW1uT3JkZXIgPSBmdW5jdGlvbihhOiBhbnksIGI6IGFueSkge1xyXG5cdFx0aWYgKGEuY29sdW1uT3JkZXIgPCBiLmNvbHVtbk9yZGVyKSB7XHJcblx0XHRcdHJldHVybiAtMTtcclxuXHRcdH1cclxuXHRcdGlmIChhLmNvbHVtbk9yZGVyID4gYi5jb2x1bW5PcmRlciB8fCB0eXBlb2YgYS5jb2x1bW5PcmRlciA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0cmV0dXJuIDE7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gMDtcclxuXHR9O1xyXG5cclxuXHR0cmFuc2Zvcm0oXHJcblx0XHRhcnJheTogQXJyYXk8YW55PixcclxuXHRcdHNldHRpbmdzOiBBcnJheTxHdENvbmZpZ1NldHRpbmc+LFxyXG5cdFx0cmVmcmVzaFBpcGU/OiBib29sZWFuXHJcblx0KTogQXJyYXk8R3RDb25maWdGaWVsZDxSLCBhbnk+PiB8IEFycmF5PEd0Q29uZmlnU2V0dGluZz4ge1xyXG5cdFx0Y29uc3QgdmlzaWJsZUNvbHVtbnMgPSBzZXR0aW5nc1xyXG5cdFx0XHQuc29ydCh0aGlzLmdldENvbHVtbk9yZGVyKVxyXG5cdFx0XHQubWFwKChzZXR0aW5nOiBHdENvbmZpZ1NldHRpbmcpID0+IHtcclxuXHRcdFx0XHRpZiAoc2V0dGluZy52aXNpYmxlICE9PSBmYWxzZSAmJiBzZXR0aW5nLmVuYWJsZWQgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gc2V0dGluZy5vYmplY3RLZXk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gYXJyYXlcclxuXHRcdFx0LmZpbHRlcigoY29sdW1uOiBhbnkpID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gdmlzaWJsZUNvbHVtbnMuaW5kZXhPZihjb2x1bW4ub2JqZWN0S2V5KSAhPT0gLTE7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcclxuXHRcdFx0XHRyZXR1cm4gdmlzaWJsZUNvbHVtbnMuaW5kZXhPZihhLm9iamVjdEtleSkgPFxyXG5cdFx0XHRcdFx0dmlzaWJsZUNvbHVtbnMuaW5kZXhPZihiLm9iamVjdEtleSlcclxuXHRcdFx0XHRcdD8gLTFcclxuXHRcdFx0XHRcdDogMTtcclxuXHRcdFx0fSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZGFzaENhc2UnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBEYXNoQ2FzZVBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHR0cmFuc2Zvcm0oc3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEd0Q29uZmlnRmllbGQgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LWNvbmZpZy1maWVsZCc7XHJcbmltcG9ydCB7IEd0Q29uZmlnU2V0dGluZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3QtY29uZmlnLXNldHRpbmcnO1xyXG5pbXBvcnQgeyBHdFJvdyB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3Qtcm93JztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZ3RQcm9wZXJ0eSdcclxufSlcclxuZXhwb3J0IGNsYXNzIEd0UHJvcGVydHlQaXBlPFIgZXh0ZW5kcyBHdFJvdz4gaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHR0cmFuc2Zvcm0oXHJcblx0XHRjb25maWc6IEd0Q29uZmlnRmllbGQ8UiwgYW55PltdIHwgR3RDb25maWdTZXR0aW5nW10sXHJcblx0XHRvYmplY3RLZXk6IHN0cmluZyxcclxuXHRcdHByb3BlcnR5OiBzdHJpbmcsXHJcblx0XHRyZWZyZXNoPzogYm9vbGVhblxyXG5cdCk6IGFueSB7XHJcblx0XHRsZXQgb3V0cHV0ID0gbnVsbDtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY29uZmlnLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKGNvbmZpZ1tpXS5vYmplY3RLZXkgPT09IG9iamVjdEtleSkge1xyXG5cdFx0XHRcdFx0b3V0cHV0ID0gY29uZmlnW2ldW3Byb3BlcnR5XTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFxyXG5cdFx0XHRcdCdjYW5ub3QgcmVhZCBwcm9wZXJ0eTogXCInICtcclxuXHRcdFx0XHRcdHByb3BlcnR5ICtcclxuXHRcdFx0XHRcdCdcIiBvbiBtaXNzaW5nIGtleTogXCInICtcclxuXHRcdFx0XHRcdG9iamVjdEtleSArXHJcblx0XHRcdFx0XHQnXCIgaW4gY29uZmlnLicsXHJcblx0XHRcdFx0ZXJyb3JcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBvdXRwdXQ7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0sIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHdEluZm9ybWF0aW9uLCBHdEV2ZW50IH0gZnJvbSAnLi4nO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndENodW5rJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RDaHVua1BpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHR0cmFuc2Zvcm0oXHJcblx0XHRhcnJheTogYW55W10sXHJcblx0XHRndEluZm86IEd0SW5mb3JtYXRpb24sXHJcblx0XHRjaHVua1NpemU6IG51bWJlcixcclxuXHRcdHBhZ2U6IG51bWJlcixcclxuXHRcdHJlZnJlc2hQYWdlQXJyYXk6IGJvb2xlYW4sXHJcblx0XHRyZWZyZXNoRGF0YTogbnVtYmVyLFxyXG5cdFx0Z3RFdmVudDogRXZlbnRFbWl0dGVyPEd0RXZlbnQ+LFxyXG5cdFx0ZGF0YTogeyBleHBvcnREYXRhOiBBcnJheTxhbnk+IH1cclxuXHQpOiBhbnlbXSB7XHJcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XHJcblx0XHRcdHJldHVybiBhcnJheTtcclxuXHRcdH1cclxuXHRcdGRhdGEuZXhwb3J0RGF0YSA9IGFycmF5OyAvLyBzdG9yZSBkYXRhIGZvciBleHBvcnRcclxuXHJcblx0XHRjb25zdCBQQUdFUyA9IFtdO1xyXG5cdFx0Y29uc3QgRU5UUklFUyA9IGFycmF5Lmxlbmd0aDtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IEVOVFJJRVM7IGkgKz0gY2h1bmtTaXplKSB7XHJcblx0XHRcdFBBR0VTLnB1c2goYXJyYXkuc2xpY2UoaSwgaSArIGNodW5rU2l6ZSkpO1xyXG5cdFx0fVxyXG5cdFx0Z3RJbmZvLnZpc2libGVSZWNvcmRzID0gIVBBR0VTW3BhZ2UgLSAxXSA/IFtdIDogWy4uLlBBR0VTW3BhZ2UgLSAxXV07IC8vIGFkZCB2aXNpYmxlIHJvd3NcclxuXHRcdGd0SW5mby5wYWdlVG90YWwgPSBQQUdFUy5sZW5ndGg7IC8vIGFkZCBudW1iZXIgb2YgcGFnZXNcclxuXHJcblx0XHRzZXRUaW1lb3V0KFxyXG5cdFx0XHQoKSA9PlxyXG5cdFx0XHRcdGd0RXZlbnQuZW1pdCh7XHJcblx0XHRcdFx0XHRuYW1lOiAnZ3QtaW5mbycsXHJcblx0XHRcdFx0XHR2YWx1ZTogZ3RJbmZvXHJcblx0XHRcdFx0fSksXHJcblx0XHRcdDBcclxuXHRcdCk7XHJcblx0XHRyZXR1cm4gUEFHRVNbcGFnZSAtIDFdO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtLCBFdmVudEVtaXR0ZXIsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHdEluZm9ybWF0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1pbmZvcm1hdGlvbic7XHJcblxyXG5AUGlwZSh7XHJcblx0bmFtZTogJ2d0RmlsdGVyJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RGaWx0ZXJQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcblx0Ly8gQE91dHB1dCgpIGZpbHRlckluZm8gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG5cdHRyYW5zZm9ybShcclxuXHRcdGFsbFJvd3M6IGFueVtdLFxyXG5cdFx0ZmlsdGVyQnk6IE9iamVjdCxcclxuXHRcdGd0SW5mbzogR3RJbmZvcm1hdGlvbixcclxuXHRcdHJlZnJlc2hGaWx0ZXI6IGJvb2xlYW4sXHJcblx0XHRyZWZyZXNoRGF0YTogbnVtYmVyXHJcblx0KTogYW55W10ge1xyXG5cdFx0Ly8gY29uc29sZS5sb2coYWxsUm93cyxmaWx0ZXJCeSk7XHJcblx0XHRndEluZm8ucmVjb3Jkc0FsbCA9IGFsbFJvd3MubGVuZ3RoO1xyXG5cdFx0aWYgKCFBcnJheS5pc0FycmF5KGFsbFJvd3MpIHx8ICFmaWx0ZXJCeSkge1xyXG5cdFx0XHQvLyBndEluZm8uZmlsdGVyZWQgPSBmYWxzZTtcclxuXHJcblx0XHRcdGNvbnN0IGxlbmd0aCA9IGFsbFJvd3MgPT09IG51bGwgPyAwIDogYWxsUm93cy5sZW5ndGg7XHJcblx0XHRcdGd0SW5mby5yZWNvcmRzQWZ0ZXJGaWx0ZXIgPSBsZW5ndGg7XHJcblx0XHRcdHJldHVybiBhbGxSb3dzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IG91dHB1dCA9IFtdO1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhbGxSb3dzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IHJvd09iamVjdCA9IGFsbFJvd3NbaV07XHJcblx0XHRcdGxldCBtYXRjaCA9IHRydWU7XHJcblxyXG5cdFx0XHRmb3IgKGNvbnN0IHByb3BlcnR5IGluIGZpbHRlckJ5KSB7XHJcblx0XHRcdFx0aWYgKGZpbHRlckJ5Lmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xyXG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2cocHJvcGVydHkpO1xyXG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coZmlsdGVyW3Byb3BlcnR5XS5pbmRleE9mKG9ialtwcm9wZXJ0eV0pKTtcclxuXHRcdFx0XHRcdGlmIChmaWx0ZXJCeVtwcm9wZXJ0eV0uaW5kZXhPZihyb3dPYmplY3RbcHJvcGVydHldKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRcdFx0bWF0Y2ggPSBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKG1hdGNoKSB7XHJcblx0XHRcdFx0b3V0cHV0LnB1c2gocm93T2JqZWN0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Z3RJbmZvLnJlY29yZHNBZnRlckZpbHRlciA9IG91dHB1dC5sZW5ndGg7IC8vIC5lbWl0KG91dHB1dC5sZW5ndGgpO1xyXG5cdFx0cmV0dXJuIG91dHB1dDtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHdENvbmZpZ0ZpZWxkIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1jb25maWctZmllbGQnO1xyXG5pbXBvcnQgeyBHdFJvdyB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3Qtcm93JztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZ3RPcmRlckJ5J1xyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RPcmRlckJ5UGlwZTxSIGV4dGVuZHMgR3RSb3c+IGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcblx0c3RhdGljIF9vcmRlckJ5Q29tcGFyYXRvcihhOiBhbnksIGI6IGFueSk6IG51bWJlciB7XHJcblx0XHQvLyBzb3J0IGJvb2xlYW4gdmFsdWVzIGFzIHN0cmluZ3NcclxuXHRcdGlmICh0eXBlb2YgYSA9PT0gJ2Jvb2xlYW4nKSB7XHJcblx0XHRcdGEgPSBhLnRvU3RyaW5nKCk7XHJcblx0XHR9XHJcblx0XHRpZiAodHlwZW9mIGIgPT09ICdib29sZWFuJykge1xyXG5cdFx0XHRiID0gYi50b1N0cmluZygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChcclxuXHRcdFx0aXNOYU4ocGFyc2VGbG9hdChhKSkgfHxcclxuXHRcdFx0IWlzRmluaXRlKGEpIHx8XHJcblx0XHRcdChpc05hTihwYXJzZUZsb2F0KGIpKSB8fCAhaXNGaW5pdGUoYikpXHJcblx0XHQpIHtcclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdGIgPT09IG51bGwgfHxcclxuXHRcdFx0XHQodHlwZW9mIGIgPT09ICd1bmRlZmluZWQnICYmIChhICE9PSBudWxsICYmIHR5cGVvZiBhICE9PSAndW5kZWZpbmVkJykpXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdHJldHVybiAxO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHRhID09PSBudWxsIHx8XHJcblx0XHRcdFx0KHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyAmJiAoYiAhPT0gbnVsbCAmJiB0eXBlb2YgYiAhPT0gJ3VuZGVmaW5lZCcpKVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHRyZXR1cm4gLTE7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGlzbid0IGEgbnVtYmVyIHNvIGxvd2VyY2FzZSB0aGUgc3RyaW5nIHRvIHByb3Blcmx5IGNvbXBhcmVcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRpZiAoYS50b0xvd2VyQ2FzZSgpIDwgYi50b0xvd2VyQ2FzZSgpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gLTE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChhLnRvTG93ZXJDYXNlKCkgPiBiLnRvTG93ZXJDYXNlKCkpIHtcclxuXHRcdFx0XHRcdHJldHVybiAxO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRyZXR1cm4gMDtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gcGFyc2Ugc3RyaW5ncyBhcyBudW1iZXJzIHRvIGNvbXBhcmUgcHJvcGVybHlcclxuXHRcdFx0aWYgKHBhcnNlRmxvYXQoYSkgPCBwYXJzZUZsb2F0KGIpKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0xO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChwYXJzZUZsb2F0KGEpID4gcGFyc2VGbG9hdChiKSkge1xyXG5cdFx0XHRcdHJldHVybiAxO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIDA7IC8vIGVxdWFsIGVhY2ggb3RoZXJcclxuXHR9XHJcblxyXG5cdC8qKiBSZXR1cm4gcHJvcGVydHkgKi9cclxuXHRwcml2YXRlIGdldFByb3BlcnR5ID0gZnVuY3Rpb24oYXJyYXk6IEFycmF5PGFueT4sIGtleTogc3RyaW5nKSB7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmIChhcnJheVtpXS5vYmplY3RLZXkgPT09IGtleSkge1xyXG5cdFx0XHRcdHJldHVybiBhcnJheVtpXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8qKiBSZXR1cm4gc29ydCBmdW5jdGlvbiAqL1xyXG5cdHByaXZhdGUgZ2V0U29ydEZ1bmN0aW9uKGZpZWxkOiBhbnkpIHtcclxuXHRcdGlmICghZmllbGQpIHtcclxuXHRcdFx0Ly8gY29uc29sZS5sb2coJ2Vycm9yIHRyeWluZyB0byBzb3J0IHVuZGVmaW5lZCBmaWVsZCcpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRpZiAodHlwZW9mIGZpZWxkLnNvcnQgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0cmV0dXJuIGZpZWxkLnNvcnQ7XHJcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBmaWVsZC52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRyZXR1cm4gZmllbGQudmFsdWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR0cmFuc2Zvcm0oXHJcblx0XHRpbnB1dDogYW55LFxyXG5cdFx0c29ydEJ5UHJvcGVydGllczogQXJyYXk8c3RyaW5nPixcclxuXHRcdGZpZWxkczogR3RDb25maWdGaWVsZDxSLCBhbnk+W10sXHJcblx0XHRyZWZyZXNoU29ydGluZzogYm9vbGVhbixcclxuXHRcdHJlZnJlc2hEYXRhOiBudW1iZXJcclxuXHQpOiBhbnkge1xyXG5cdFx0aWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSB8fCBpbnB1dCA9PT0gbnVsbCkge1xyXG5cdFx0XHRyZXR1cm4gaW5wdXQ7XHJcblx0XHR9XHJcblx0XHRpZiAoXHJcblx0XHRcdCFBcnJheS5pc0FycmF5KHNvcnRCeVByb3BlcnRpZXMpIHx8XHJcblx0XHRcdChBcnJheS5pc0FycmF5KHNvcnRCeVByb3BlcnRpZXMpICYmIHNvcnRCeVByb3BlcnRpZXMubGVuZ3RoID09PSAxKVxyXG5cdFx0KSB7XHJcblx0XHRcdGNvbnN0IHByb3BlcnR5VG9DaGVjazogc3RyaW5nID0gc29ydEJ5UHJvcGVydGllc1swXTtcclxuXHRcdFx0Y29uc3QgZGVzYyA9IHByb3BlcnR5VG9DaGVjay5zdWJzdHIoMCwgMSkgPT09ICctJztcclxuXHJcblx0XHRcdC8vIGJhc2ljIGFycmF5XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHQhcHJvcGVydHlUb0NoZWNrIHx8XHJcblx0XHRcdFx0cHJvcGVydHlUb0NoZWNrID09PSAnLScgfHxcclxuXHRcdFx0XHRwcm9wZXJ0eVRvQ2hlY2sgPT09ICcrJ1xyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHRyZXR1cm4gIWRlc2MgPyBpbnB1dC5zb3J0KCkgOiBpbnB1dC5zb3J0KCkucmV2ZXJzZSgpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGNvbnN0IHByb3BlcnR5OiBzdHJpbmcgPVxyXG5cdFx0XHRcdFx0cHJvcGVydHlUb0NoZWNrLnN1YnN0cigwLCAxKSA9PT0gJysnIHx8XHJcblx0XHRcdFx0XHRwcm9wZXJ0eVRvQ2hlY2suc3Vic3RyKDAsIDEpID09PSAnLSdcclxuXHRcdFx0XHRcdFx0PyBwcm9wZXJ0eVRvQ2hlY2suc3Vic3RyKDEpXHJcblx0XHRcdFx0XHRcdDogcHJvcGVydHlUb0NoZWNrO1xyXG5cclxuXHRcdFx0XHQvLyBjaGVjayBpZiBjdXN0b20gc29ydCBmdW5jdGlvbiBpcyBkZWZpbmVkXHJcblx0XHRcdFx0Y29uc3Qgc29ydEZ1bmN0aW9uOiBhbnkgPSB0aGlzLmdldFNvcnRGdW5jdGlvbihcclxuXHRcdFx0XHRcdHRoaXMuZ2V0UHJvcGVydHkoZmllbGRzLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhwcm9wZXJ0eSk7XHJcblx0XHRcdFx0cmV0dXJuIGlucHV0LnNvcnQoZnVuY3Rpb24oYTogYW55LCBiOiBhbnkpIHtcclxuXHRcdFx0XHRcdC8vIHVzZSBjdXN0b20gc29ydCBmdW5jdGlvbiBpZiBvbmUgaXMgZGVmaW5lZFxyXG5cdFx0XHRcdFx0Y29uc3QgcHJvcGVydHlBID1cclxuXHRcdFx0XHRcdFx0c29ydEZ1bmN0aW9uID09PSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdD8gcHJvcGVydHkgPT09ICckJGd0Um93SWQnXHJcblx0XHRcdFx0XHRcdFx0XHQ/ICthLiQkZ3RSb3dJZC5zcGxpdCgnXycpWzBdXHJcblx0XHRcdFx0XHRcdFx0XHQ6IGFbcHJvcGVydHldXHJcblx0XHRcdFx0XHRcdFx0OiBzb3J0RnVuY3Rpb24oYSk7XHJcblx0XHRcdFx0XHRjb25zdCBwcm9wZXJ0eUIgPVxyXG5cdFx0XHRcdFx0XHRzb3J0RnVuY3Rpb24gPT09IGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0PyBwcm9wZXJ0eSA9PT0gJyQkZ3RSb3dJZCdcclxuXHRcdFx0XHRcdFx0XHRcdD8gK2IuJCRndFJvd0lkLnNwbGl0KCdfJylbMF1cclxuXHRcdFx0XHRcdFx0XHRcdDogYltwcm9wZXJ0eV1cclxuXHRcdFx0XHRcdFx0XHQ6IHNvcnRGdW5jdGlvbihiKTtcclxuXHJcblx0XHRcdFx0XHQvLyBpZiBib3RoIHZhbHVlcyBhcmUgdW5kZWZpbmVkLi4uXHJcblx0XHRcdFx0XHRpZiAoXHJcblx0XHRcdFx0XHRcdHR5cGVvZiBwcm9wZXJ0eUEgPT09ICd1bmRlZmluZWQnICYmXHJcblx0XHRcdFx0XHRcdHR5cGVvZiBwcm9wZXJ0eUIgPT09ICd1bmRlZmluZWQnXHJcblx0XHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdFx0Ly8gLi4uc2tpcCBjb21wYXJpc29uXHJcblx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiAhZGVzY1xyXG5cdFx0XHRcdFx0XHQ/IEd0T3JkZXJCeVBpcGUuX29yZGVyQnlDb21wYXJhdG9yKHByb3BlcnR5QSwgcHJvcGVydHlCKVxyXG5cdFx0XHRcdFx0XHQ6IC1HdE9yZGVyQnlQaXBlLl9vcmRlckJ5Q29tcGFyYXRvcihwcm9wZXJ0eUEsIHByb3BlcnR5Qik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIGxvb3Agb3ZlciBwcm9wZXJ0eSBvZiB0aGUgYXJyYXkgaW4gb3JkZXIgYW5kIHNvcnRcclxuXHRcdFx0cmV0dXJuIGlucHV0LnNvcnQoKGE6IGFueSwgYjogYW55KSA9PiB7XHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ211bHRpcGxlJyk7XHJcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0QnlQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRjb25zdCBkZXNjID0gc29ydEJ5UHJvcGVydGllc1tpXS5zdWJzdHIoMCwgMSkgPT09ICctJztcclxuXHRcdFx0XHRcdGNvbnN0IHByb3BlcnR5ID1cclxuXHRcdFx0XHRcdFx0c29ydEJ5UHJvcGVydGllc1tpXS5zdWJzdHIoMCwgMSkgPT09ICcrJyB8fFxyXG5cdFx0XHRcdFx0XHRzb3J0QnlQcm9wZXJ0aWVzW2ldLnN1YnN0cigwLCAxKSA9PT0gJy0nXHJcblx0XHRcdFx0XHRcdFx0PyBzb3J0QnlQcm9wZXJ0aWVzW2ldLnN1YnN0cigxKVxyXG5cdFx0XHRcdFx0XHRcdDogc29ydEJ5UHJvcGVydGllc1tpXTtcclxuXHJcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhwcm9wZXJ0eSk7XHJcblx0XHRcdFx0XHQvLyBjaGVjayBpZiBjdXN0b20gc29ydCBmdW5jdGlvbiBpcyBkZWZpbmVkXHJcblx0XHRcdFx0XHRjb25zdCBzb3J0RnVuY3Rpb246IGFueSA9IHRoaXMuZ2V0U29ydEZ1bmN0aW9uKFxyXG5cdFx0XHRcdFx0XHR0aGlzLmdldFByb3BlcnR5KGZpZWxkcywgcHJvcGVydHkpXHJcblx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRcdC8vIHVzZSBjdXN0b20gc29ydCBmdW5jdGlvbiBpZiBvbmUgaXMgZGVmaW5lZFxyXG5cdFx0XHRcdFx0Y29uc3QgcHJvcGVydHlBID1cclxuXHRcdFx0XHRcdFx0c29ydEZ1bmN0aW9uID09PSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdD8gcHJvcGVydHkgPT09ICckJGd0Um93SWQnXHJcblx0XHRcdFx0XHRcdFx0XHQ/ICthLiQkZ3RSb3dJZC5zcGxpdCgnXycpWzBdXHJcblx0XHRcdFx0XHRcdFx0XHQ6IGFbcHJvcGVydHldXHJcblx0XHRcdFx0XHRcdFx0OiBzb3J0RnVuY3Rpb24oYSk7XHJcblx0XHRcdFx0XHRjb25zdCBwcm9wZXJ0eUIgPVxyXG5cdFx0XHRcdFx0XHRzb3J0RnVuY3Rpb24gPT09IGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0PyBwcm9wZXJ0eSA9PT0gJyQkZ3RSb3dJZCdcclxuXHRcdFx0XHRcdFx0XHRcdD8gK2IuJCRndFJvd0lkLnNwbGl0KCdfJylbMF1cclxuXHRcdFx0XHRcdFx0XHRcdDogYltwcm9wZXJ0eV1cclxuXHRcdFx0XHRcdFx0XHQ6IHNvcnRGdW5jdGlvbihiKTtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBjb21wYXJpc29uID0gIWRlc2NcclxuXHRcdFx0XHRcdFx0PyBHdE9yZGVyQnlQaXBlLl9vcmRlckJ5Q29tcGFyYXRvcihwcm9wZXJ0eUEsIHByb3BlcnR5QilcclxuXHRcdFx0XHRcdFx0OiAtR3RPcmRlckJ5UGlwZS5fb3JkZXJCeUNvbXBhcmF0b3IocHJvcGVydHlBLCBwcm9wZXJ0eUIpO1xyXG5cclxuXHRcdFx0XHRcdC8vIGRvbid0IHJldHVybiAwIHlldCBpbiBjYXNlIG9mIG5lZWRpbmcgdG8gc29ydCBieSBuZXh0IHByb3BlcnR5XHJcblx0XHRcdFx0XHRpZiAoY29tcGFyaXNvbiAhPT0gMCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gY29tcGFyaXNvbjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiAwOyAvLyBlcXVhbCBlYWNoIG90aGVyXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEd0Q29uZmlnRmllbGQgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LWNvbmZpZy1maWVsZCc7XHJcbmltcG9ydCB7IEd0Um93IH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1yb3cnO1xyXG5pbXBvcnQgeyBHdENvbmZpZ1NldHRpbmcgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LWNvbmZpZy1zZXR0aW5nJztcclxuaW1wb3J0IHsgR3RJbmZvcm1hdGlvbiB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3QtaW5mb3JtYXRpb24nO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndFNlYXJjaCdcclxufSlcclxuZXhwb3J0IGNsYXNzIEd0U2VhcmNoUGlwZTxSIGV4dGVuZHMgR3RSb3c+IGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcblx0LyoqIFJldHVybiBwcm9wZXJ0eSAqL1xyXG5cdHByaXZhdGUgZ2V0UHJvcGVydHkgPSBmdW5jdGlvbihhcnJheTogQXJyYXk8YW55Piwga2V5OiBzdHJpbmcpIHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKGFycmF5W2ldLm9iamVjdEtleSA9PT0ga2V5KSB7XHJcblx0XHRcdFx0cmV0dXJuIGFycmF5W2ldO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0dHJhbnNmb3JtKFxyXG5cdFx0YWxsUm93czogYW55LFxyXG5cdFx0c2VhcmNoVGVybXM6IHN0cmluZyxcclxuXHRcdGd0SW5mbzogR3RJbmZvcm1hdGlvbixcclxuXHRcdHNldHRpbmdzOiBBcnJheTxHdENvbmZpZ1NldHRpbmc+LFxyXG5cdFx0ZmllbGRzOiBBcnJheTxHdENvbmZpZ0ZpZWxkPFIsIGFueT4+LFxyXG5cdFx0cmVmcmVzaERhdGE6IG51bWJlclxyXG5cdCk6IGFueSB7XHJcblx0XHQvLyAgaWYgbm8gc2VhcmNoIHRlcm1zIGFyZSBkZWZpbmVkLi4uXHJcblx0XHRpZiAoIXNlYXJjaFRlcm1zIHx8IHNlYXJjaFRlcm1zLnJlcGxhY2UoL1wiL2csICcnKS5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0Ly8gLi4ucmV0dXJuIGFsbCByb3dzXHJcblx0XHRcdGNvbnN0IGxlbmd0aCA9IGFsbFJvd3MgPT09IG51bGwgPyAwIDogYWxsUm93cy5sZW5ndGg7XHJcblx0XHRcdGd0SW5mby5yZWNvcmRzQWZ0ZXJTZWFyY2ggPSBsZW5ndGg7XHJcblx0XHRcdHJldHVybiBhbGxSb3dzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHNlYXJjaEZ1bmN0aW9uOiBhbnkgPSB7fTtcclxuXHRcdGNvbnN0IGZpZWxkc1RlbXA6IEFycmF5PGFueT4gPSBbXTtcclxuXHJcblx0XHRmb3IgKGxldCBrID0gMDsgayA8IGZpZWxkcy5sZW5ndGg7IGsrKykge1xyXG5cdFx0XHRjb25zdCBmaWVsZCA9IGZpZWxkc1trXTtcclxuXHJcblx0XHRcdC8vIGNoZWNrIGlmIGZpZWxkIHNob3VsZCBiZSBpbmNsdWRlZCBpbiBnbG9iYWwgc2VhcmNoXHJcblx0XHRcdGNvbnN0IGluY2x1ZGUgPVxyXG5cdFx0XHRcdHRoaXMuZ2V0UHJvcGVydHkoc2V0dGluZ3MsIGZpZWxkLm9iamVjdEtleSkuc2VhcmNoID09PSBmYWxzZVxyXG5cdFx0XHRcdFx0PyBmYWxzZVxyXG5cdFx0XHRcdFx0OiB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gaWYgaW5jbHVkZS4uLlxyXG5cdFx0XHRpZiAoaW5jbHVkZSkge1xyXG5cdFx0XHRcdC8vIC4uLmFuZCBpZiBzZWFyY2ggZnVuY3Rpb24gaXMgZGVmaW5lZC4uLlxyXG5cdFx0XHRcdGlmICh0eXBlb2YgZmllbGQuc2VhcmNoID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0XHQvLyAuLi5hZGQgaXQgYXMgc2VhcmNoIGZ1bmN0aW9uIGZvciBmaWVsZFxyXG5cdFx0XHRcdFx0c2VhcmNoRnVuY3Rpb25bZmllbGQub2JqZWN0S2V5XSA9IGZpZWxkLnNlYXJjaDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gLi4uaWYgbm8gc2VhcmNoIGZ1bmN0aW9uIGlzIGRlZmluZWQgYnV0IHZhbHVlIGZ1bmN0aW9uIGlzIGRlZmluZWQuLi5cclxuXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZmllbGQudmFsdWUgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdC8vIC4uLmFkZCBpdCBhcyBzZWFyY2ggZnVuY3Rpb24gZm9yIGZpZWxkXHJcblx0XHRcdFx0XHRzZWFyY2hGdW5jdGlvbltmaWVsZC5vYmplY3RLZXldID0gZmllbGQudmFsdWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyAuLi5wdXNoIGl0IHRvIG91ciBmaWVsZHMgYXJyYXlcclxuXHRcdFx0XHRmaWVsZHNUZW1wLnB1c2goZmllbGQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZmlsdGVyZWRSb3dzOiBBcnJheTxhbnk+ID0gW107XHJcblx0XHRzZWFyY2hUZXJtcyA9IHR5cGVvZiBzZWFyY2hUZXJtcyA9PT0gJ3VuZGVmaW5lZCcgPyAnJyA6IHNlYXJjaFRlcm1zO1xyXG5cdFx0Y29uc3Qgc2VhcmNoVGVybXNBcnJheSA9IHNlYXJjaFRlcm1zLnRvTG93ZXJDYXNlKCkubWF0Y2goLyhcIi4qXCJ8W15cXHNdKykvZyk7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhbGxSb3dzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IHJvdyA9IGFsbFJvd3NbaV07XHJcblx0XHRcdGxldCBzdHJpbmcgPSAnJztcclxuXHJcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgZmllbGRzVGVtcC5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGNvbnN0IHNlcGFyYXRvciA9IGogPT09IDAgPyAnJyA6ICcgJiAnO1xyXG5cdFx0XHRcdHN0cmluZyArPSBzZWFyY2hGdW5jdGlvbltmaWVsZHNUZW1wW2pdLm9iamVjdEtleV1cclxuXHRcdFx0XHRcdD8gc2VwYXJhdG9yICsgc2VhcmNoRnVuY3Rpb25bZmllbGRzVGVtcFtqXS5vYmplY3RLZXldKHJvdywgailcclxuXHRcdFx0XHRcdDogc2VwYXJhdG9yICsgcm93W2ZpZWxkc1RlbXBbal0ub2JqZWN0S2V5XTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcudG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0bGV0IG1hdGNoOiBCb29sZWFuID0gdHJ1ZTtcclxuXHJcblx0XHRcdGZvciAobGV0IGsgPSAwOyBrIDwgc2VhcmNoVGVybXNBcnJheS5sZW5ndGg7IGsrKykge1xyXG5cdFx0XHRcdGNvbnN0IHRlcm0gPSBzZWFyY2hUZXJtc0FycmF5W2tdLnJlcGxhY2UoL1wiL2csICcnKTtcclxuXHRcdFx0XHRtYXRjaCA9IHN0cmluZy5pbmRleE9mKHRlcm0pICE9PSAtMTtcclxuXHJcblx0XHRcdFx0aWYgKCFtYXRjaCkge1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChtYXRjaCkge1xyXG5cdFx0XHRcdGZpbHRlcmVkUm93cy5wdXNoKHJvdyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGd0SW5mby5yZWNvcmRzQWZ0ZXJTZWFyY2ggPSBmaWx0ZXJlZFJvd3MubGVuZ3RoO1xyXG5cdFx0Ly8gZ3RJbmZvLnJlZnJlc2goZmlsdGVyZWRSb3dzLmxlbmd0aCxndCk7XHJcblx0XHRyZXR1cm4gZmlsdGVyZWRSb3dzO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG5cdENvbXBvbmVudEZhY3RvcnksXHJcblx0Q29tcG9uZW50RmFjdG9yeVJlc29sdmVyLFxyXG5cdENvbXBvbmVudFJlZixcclxuXHREaXJlY3RpdmUsXHJcblx0RXZlbnRFbWl0dGVyLFxyXG5cdEluamVjdG9yLFxyXG5cdElucHV0LFxyXG5cdE9uSW5pdCxcclxuXHRPdXRwdXQsXHJcblx0VHlwZSxcclxuXHRWaWV3Q29udGFpbmVyUmVmXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5ARGlyZWN0aXZlKHtcclxuXHRzZWxlY3RvcjogJ1tndENvbXBvbmVudEFuY2hvcl0nXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDb21wb25lbnRBbmNob3JEaXJlY3RpdmU8Qz4gaW1wbGVtZW50cyBPbkluaXQge1xyXG5cdEBJbnB1dCgpIGN0b3I6IFR5cGU8Qz47XHJcblx0QElucHV0KCkgaW5qZWN0b3I6IEluamVjdG9yO1xyXG5cdEBPdXRwdXQoKSBpbnN0YW5jZTogRXZlbnRFbWl0dGVyPEM+ID0gbmV3IEV2ZW50RW1pdHRlcjxDPigpO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgY29tcG9uZW50RmFjdG9yeVJlc29sdmVyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXHJcblx0XHRwcml2YXRlIHZpZXdDb250YWluZXI6IFZpZXdDb250YWluZXJSZWZcclxuXHQpIHt9XHJcblxyXG5cdG5nT25Jbml0KCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgZmFjdG9yeTogQ29tcG9uZW50RmFjdG9yeTxcclxuXHRcdFx0Q1xyXG5cdFx0PiA9IHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHRoaXMuY3Rvcik7XHJcblx0XHRjb25zdCBjb21wb25lbnQ6IENvbXBvbmVudFJlZjxDPiA9IHRoaXMudmlld0NvbnRhaW5lci5jcmVhdGVDb21wb25lbnQoXHJcblx0XHRcdGZhY3RvcnksXHJcblx0XHRcdDAsXHJcblx0XHRcdHRoaXMuaW5qZWN0b3JcclxuXHRcdCk7XHJcblx0XHR0aGlzLmluc3RhbmNlLmVtaXQoY29tcG9uZW50Lmluc3RhbmNlKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuXHRDb21wb25lbnQsXHJcblx0RXZlbnRFbWl0dGVyLFxyXG5cdEluamVjdG9yLFxyXG5cdElucHV0LFxyXG5cdE9uSW5pdCxcclxuXHRPdXRwdXQsXHJcblx0VHlwZVxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBSZXBsYXlTdWJqZWN0IH0gZnJvbSAncnhqcy9SZXBsYXlTdWJqZWN0JztcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBHdEN1c3RvbUNvbXBvbmVudDxSPiBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblx0cm93OiBSO1xyXG5cdGNvbHVtbjogYW55O1xyXG5cdHJlZHJhd0V2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcjx7IHJvdzogUjsgY29sdW1uOiBhbnkgfT4oKTtcclxuXHRzZWFyY2hUZXJtczogc3RyaW5nO1xyXG5cdCRzZWFyY2hUZXJtczogUmVwbGF5U3ViamVjdDxzdHJpbmc+ID0gbmV3IFJlcGxheVN1YmplY3QoMSk7XHJcblxyXG5cdHByb3RlY3RlZCAkcmVkcmF3KCRldmVudD86IGFueSkge1xyXG5cdFx0dGhpcy5yZWRyYXdFdmVudC5lbWl0KHsgcm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbiB9KTtcclxuXHR9XHJcblx0bmdPbkluaXQoKSB7XHJcblx0XHR0aGlzLiRzZWFyY2hUZXJtcy5zdWJzY3JpYmUodGVybXMgPT4gKHRoaXMuc2VhcmNoVGVybXMgPSB0ZXJtcykpO1xyXG5cdH1cclxufVxyXG5cclxuQENvbXBvbmVudCh7XHJcblx0c2VsZWN0b3I6ICdndC1jdXN0b20tY29tcG9uZW50LWZhY3RvcnknLFxyXG5cdHRlbXBsYXRlOiBgPGRpdiBndENvbXBvbmVudEFuY2hvciBbY3Rvcl09XCJ0eXBlXCJcclxuICAgICAgICAgICAgICAgICAgICBbaW5qZWN0b3JdPVwiaW5qZWN0b3JcIlxyXG4gICAgICAgICAgICAgICAgICAgIChpbnN0YW5jZSk9XCJpbnN0YW5jZSgkZXZlbnQpXCI+PC9kaXY+YFxyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RDdXN0b21Db21wb25lbnRGYWN0b3J5PFIsIEMgZXh0ZW5kcyBHdEN1c3RvbUNvbXBvbmVudDxSPj4ge1xyXG5cdEBJbnB1dCgpXHJcblx0c2V0IHNlYXJjaFRlcm1zKHZhbHVlOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuJHNlYXJjaFRlcm1zLm5leHQodmFsdWUpO1xyXG5cdH1cclxuXHRASW5wdXQoKSB0eXBlOiBUeXBlPEM+O1xyXG5cdEBJbnB1dCgpIGluamVjdG9yOiBJbmplY3RvcjtcclxuXHRASW5wdXQoKSByb3c6IFI7XHJcblx0QElucHV0KCkgY29sdW1uOiBhbnk7XHJcblx0JHNlYXJjaFRlcm1zOiBSZXBsYXlTdWJqZWN0PHN0cmluZz4gPSBuZXcgUmVwbGF5U3ViamVjdCgxKTtcclxuXHRAT3V0cHV0KCkgcmVkcmF3RXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyPHsgcm93OiBSOyBjb2x1bW46IGFueSB9PigpO1xyXG5cclxuXHRpbnN0YW5jZShpbnN0YW5jZTogQykge1xyXG5cdFx0aW5zdGFuY2Uucm93ID0gdGhpcy5yb3c7XHJcblx0XHRpbnN0YW5jZS5jb2x1bW4gPSB0aGlzLmNvbHVtbjtcclxuXHRcdGluc3RhbmNlLiRzZWFyY2hUZXJtcyA9IHRoaXMuJHNlYXJjaFRlcm1zO1xyXG5cdFx0aW5zdGFuY2UucmVkcmF3RXZlbnQuc3Vic2NyaWJlKHRoaXMucmVkcmF3RXZlbnQpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG5cdENvbXBvbmVudCxcclxuXHRFdmVudEVtaXR0ZXIsXHJcblx0SW5wdXQsXHJcblx0T25EZXN0cm95LFxyXG5cdE9uSW5pdCxcclxuXHRPdXRwdXQsXHJcblx0UmVuZGVyZXIyXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzL1N1YmplY3QnO1xyXG5pbXBvcnQgKiBhcyBUZXRoZXIgZnJvbSAndGV0aGVyJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG5cdHNlbGVjdG9yOiAnZ3QtZHJvcGRvd24nLFxyXG5cdHRlbXBsYXRlOiBgXHJcbiAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24gZ3QtZHJvcGRvd25cIiBbbmdDbGFzc109XCJ7J3Nob3cnOmFjdGl2ZX1cIiBbYXR0ci5pZF09XCJpZFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdG9nZ2xlXCIgKGNsaWNrKT1cInRvZ2dsZURyb3Bkb3duKClcIiBbYXR0ci5hcmlhLWV4cGFuZGVkXT1cImFjdGl2ZVwiPnt7c2VsZWN0ZWR9fTwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZ3QtZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51XCIgKm5nSWY9XCJhY3RpdmVcIiBbbmdDbGFzc109XCJ7J3Nob3cnOmFjdGl2ZX1cIiBbYXR0ci5pZF09XCJpZCsnX21lbnUnXCI+XHJcbiAgICAgICAgPGJ1dHRvbiAqbmdGb3I9XCJsZXQgb3B0aW9uIG9mIG9wdGlvbnM7XCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgKGNsaWNrKT1cInNlbGVjdChvcHRpb24pXCIgW25nQ2xhc3NdPVwieydhY3RpdmUnOm9wdGlvbiA9PT0gc2VsZWN0ZWR9XCI+e3tvcHRpb259fTwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIGAsXHJcblx0c3R5bGVzOiBbXHJcblx0XHRgXHJcbiAgICAuZ3QtZHJvcGRvd24gLmRyb3Bkb3duLXRvZ2dsZSB7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIH1cclxuICAgIC5ndC1kcm9wZG93biAuZHJvcGRvd24tdG9nZ2xlOjphZnRlciB7XHJcbiAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC40cyBlYXNlLWluLW91dDtcclxuICAgICAgb3BhY2l0eTogMDtcclxuICAgIH1cclxuICAgIC5ndC1kcm9wZG93biAuZHJvcGRvd24tdG9nZ2xlOmhvdmVyOjphZnRlciB7XHJcbiAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICB9XHJcbiAgYFxyXG5cdF1cclxufSlcclxuZXhwb3J0IGNsYXNzIEd0RHJvcGRvd25Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XHJcblx0Z2V0IHNlbGVjdGVkKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NlbGVjdGVkO1xyXG5cdH1cclxuXHJcblx0X3NlbGVjdGVkOiBhbnk7XHJcblx0QElucHV0KClcclxuXHRzZXQgc2VsZWN0ZWQoc2VsZWN0aW9uKSB7XHJcblx0XHR0aGlzLl9zZWxlY3RlZCA9IHNlbGVjdGlvbjtcclxuXHR9XHJcblx0QElucHV0KCkgb3B0aW9uczogQXJyYXk8YW55PjtcclxuXHRASW5wdXQoKSBpZDogc3RyaW5nO1xyXG5cdEBPdXRwdXQoKSBzZWxlY3RlZENoYW5nZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG5cdGFjdGl2ZSA9IGZhbHNlOyAvLyBpcyBkcm9wZG93biBhY3RpdmUgb3Igbm90XHJcblx0c3RhdGU6IFN1YmplY3Q8Ym9vbGVhbj4gPSBuZXcgU3ViamVjdCgpOyAvLyBjdXJyZW50IHN0YXRlIG9mIGRyb3Bkb3duXHJcblx0dGV0aGVyOiBhbnk7XHJcblx0Y2xpY2tMaXN0ZW5lcjogRnVuY3Rpb247XHJcblx0a2V5dXBMaXN0ZW5lcjogRnVuY3Rpb247XHJcblxyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMikge31cclxuXHJcblx0c2VsZWN0KG9wdGlvbjogYW55KSB7XHJcblx0XHR0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG5cdFx0dGhpcy5zdGF0ZS5uZXh0KHRoaXMuYWN0aXZlKTtcclxuXHRcdGlmICh0aGlzLl9zZWxlY3RlZCAhPT0gb3B0aW9uKSB7XHJcblx0XHRcdHRoaXMuc2VsZWN0ZWRDaGFuZ2UuZW1pdChvcHRpb24pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dG9nZ2xlRHJvcGRvd24oKSB7XHJcblx0XHR0aGlzLmFjdGl2ZSA9ICF0aGlzLmFjdGl2ZTtcclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnN0YXRlLm5leHQodGhpcy5hY3RpdmUpO1xyXG5cdFx0fSwgMCk7XHJcblx0fVxyXG5cclxuXHRuZ09uSW5pdCgpIHtcclxuXHRcdHRoaXMuc3RhdGUuc3Vic2NyaWJlKHN0YXRlID0+IHtcclxuXHRcdFx0aWYgKHN0YXRlKSB7XHJcblx0XHRcdFx0dGhpcy50ZXRoZXIgPSBuZXcgVGV0aGVyKHtcclxuXHRcdFx0XHRcdGVsZW1lbnQ6ICcjJyArIHRoaXMuaWQgKyAnX21lbnUnLFxyXG5cdFx0XHRcdFx0dGFyZ2V0OiAnIycgKyB0aGlzLmlkLFxyXG5cdFx0XHRcdFx0YXR0YWNobWVudDogJ3RvcCBsZWZ0JyxcclxuXHRcdFx0XHRcdHRhcmdldEF0dGFjaG1lbnQ6ICdib3R0b20gbGVmdCcsXHJcblx0XHRcdFx0XHRjb25zdHJhaW50czogW1xyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dG86ICd3aW5kb3cnLFxyXG5cdFx0XHRcdFx0XHRcdGF0dGFjaG1lbnQ6ICd0b2dldGhlcidcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR0aGlzLnRldGhlci5wb3NpdGlvbigpO1xyXG5cclxuXHRcdFx0XHQvLyBzZXQgdXAgY2xpY2sgbGlzdGVuZXIgYW5kIGxpc3RlbiBmb3IgY2xpY2sgb3V0c2lkZSBkcm9wZG93blxyXG5cdFx0XHRcdHRoaXMuY2xpY2tMaXN0ZW5lciA9IHRoaXMucmVuZGVyZXIubGlzdGVuKFxyXG5cdFx0XHRcdFx0J2RvY3VtZW50JyxcclxuXHRcdFx0XHRcdCdjbGljaycsXHJcblx0XHRcdFx0XHQoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5uZXh0KHRoaXMuYWN0aXZlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHQvLyBzZXQgdXAga2V5Ym9hcmQgbGlzdGVuZXIgYW5kIGxpc3RlbiBmb3IgZXNjYXBlIGtleSB1cFxyXG5cdFx0XHRcdHRoaXMua2V5dXBMaXN0ZW5lciA9IHRoaXMucmVuZGVyZXIubGlzdGVuKFxyXG5cdFx0XHRcdFx0J2RvY3VtZW50JyxcclxuXHRcdFx0XHRcdCdrZXl1cCcsXHJcblx0XHRcdFx0XHQoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0c3dpdGNoIChldmVudC5rZXkpIHtcclxuXHRcdFx0XHRcdFx0XHRjYXNlICdFc2NhcGUnOlxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc3RhdGUubmV4dCh0aGlzLmFjdGl2ZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy50ZXRoZXIuZGVzdHJveSgpO1xyXG5cdFx0XHRcdHRoaXMucmVtb3ZlTGlzdGVuZXJzKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0bmdPbkRlc3Ryb3koKSB7XHJcblx0XHR0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xyXG5cdH1cclxuXHJcblx0cmVtb3ZlTGlzdGVuZXJzKCkge1xyXG5cdFx0aWYgKHRoaXMuY2xpY2tMaXN0ZW5lcikge1xyXG5cdFx0XHR0aGlzLmNsaWNrTGlzdGVuZXIoKTtcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLmtleXVwTGlzdGVuZXIpIHtcclxuXHRcdFx0dGhpcy5rZXl1cExpc3RlbmVyKCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZ3RUb3RhbHMnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdFRvdGFsc1BpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHR0cmFuc2Zvcm0oXHJcblx0XHR2YWx1ZTogc3RyaW5nIHwgbnVtYmVyIHwgRnVuY3Rpb24sXHJcblx0XHRkYXRhOiBBcnJheTxhbnk+LFxyXG5cdFx0b2JqZWN0S2V5OiBzdHJpbmcsXHJcblx0XHRyZWZyZXNoOiBib29sZWFuXHJcblx0KTogYW55IHtcclxuXHRcdGxldCBvdXRwdXQ7XHJcblxyXG5cdFx0aWYgKGRhdGEubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdG91dHB1dCA9IHZhbHVlKGRhdGEsIG9iamVjdEtleSk7XHJcblx0XHR9IGVsc2UgaWYgKHZhbHVlKSB7XHJcblx0XHRcdG91dHB1dCA9IHZhbHVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0b3V0cHV0ID0gJyc7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG91dHB1dDtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHdENvbmZpZ1RvdGFsIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1jb25maWctdG90YWwnO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndFRvdGFsc1Bvc2l0aW9uJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RUb3RhbHNQb3NpdGlvblBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHR0cmFuc2Zvcm0oXHJcblx0XHRhcnJheTogQXJyYXk8R3RDb25maWdUb3RhbD4sXHJcblx0XHRwb3NpdGlvbjogJ2hlYWRlcicgfCAnZm9vdGVyJyA9ICdoZWFkZXInXHJcblx0KTogQXJyYXk8YW55PiB7XHJcblx0XHRyZXR1cm4gYXJyYXkuZmlsdGVyKHRvdGFsID0+IHtcclxuXHRcdFx0Ly8gaWYgbm8gcG9zaXRpb24gaXMgZGVmaW5lZCBhc3N1bWUgcG9zaXRpb24gdG8gYmUgaGVhZGVyXHJcblx0XHRcdGNvbnN0IHRvdGFsUG9zaXRpb24gPSB0b3RhbC5wb3NpdGlvbiA/IHRvdGFsLnBvc2l0aW9uIDogJ2hlYWRlcic7XHJcblx0XHRcdHJldHVybiB0b3RhbFBvc2l0aW9uID09PSBwb3NpdGlvbjtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEd0Q29uZmlnRmllbGQgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LWNvbmZpZy1maWVsZCc7XHJcblxyXG5AUGlwZSh7XHJcblx0bmFtZTogJ2d0Um93Q2xhc3MnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdFJvd0NsYXNzUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xyXG5cdHRyYW5zZm9ybShhcnJheTogQXJyYXk8YW55PiwgZ3RGaWVsZHM6IEFycmF5PEd0Q29uZmlnRmllbGQ8YW55LCBhbnk+Pik6IGFueSB7XHJcblx0XHRpZiAoYXJyYXkpIHtcclxuXHRcdFx0Ly8gZmluZCBjb2x1bW5zIHdpdGggcm93Q2xhc3MgcHJvcGVydHkgZGVmaW5lZFxyXG5cdFx0XHRjb25zdCBDT0xVTU5TX1dJVEhfQ0xBU1MgPSBndEZpZWxkc1xyXG5cdFx0XHRcdC5tYXAoY29sdW1uID0+IGNvbHVtbilcclxuXHRcdFx0XHQuZmlsdGVyKGNvbHVtbiA9PiBjb2x1bW4ucm93Q2xhc3MpO1xyXG5cdFx0XHRDT0xVTU5TX1dJVEhfQ0xBU1MubWFwKGNvbHVtbiA9PiB7XHJcblx0XHRcdFx0Ly8gZm9yIGVhY2ggY29sdW1uIHdpdGggcm93Q2xhc3MgcHJvcGVydHkgZGVmaW5lZC4uLlxyXG5cdFx0XHRcdGFycmF5Lm1hcChyb3cgPT4ge1xyXG5cdFx0XHRcdFx0Ly8gbG9vcCB0aHJvdWdoIHJvd3MgYW5kIHNldCByb3cgY2xhc3NcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgY29sdW1uLnJvd0NsYXNzID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0XHRcdC8vIGlmIHJvdyBjbGFzcyBpcyBhIGZ1bmN0aW9uLCB0cnkgdXNpbmcgdGhlIGZ1bmN0aW9uLi4uXHJcblx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHJvdy4kJGd0Um93Q2xhc3MpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJvdy4kJGd0Um93Q2xhc3MgPSByb3cuJCRndFJvd0NsYXNzLmNvbmNhdChcclxuXHRcdFx0XHRcdFx0XHRcdFx0JyAnICsgY29sdW1uLnJvd0NsYXNzKHJvdywgY29sdW1uKVxyXG5cdFx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0cm93LiQkZ3RSb3dDbGFzcyA9IGNvbHVtbi5yb3dDbGFzcyhyb3csIGNvbHVtbik7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFxyXG5cdFx0XHRcdFx0XHRcdFx0J0Vycm9yIHdoZW4gdHJ5aW5nIHRvIGdldCByb3cgY2xhc3MgbmFtZSB1c2luZyBmb3JtdWxhLicsXHJcblx0XHRcdFx0XHRcdFx0XHRlcnJvclxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdC8vIGlmIG5vdCBhIGZ1bmN0aW9uLCByZXR1cm4gcGxhaW4gc3RyaW5nIHZhbHVlXHJcblx0XHRcdFx0XHRcdGlmIChyb3cuJCRndFJvd0NsYXNzKSB7XHJcblx0XHRcdFx0XHRcdFx0cm93LiQkZ3RSb3dDbGFzcyA9IHJvdy4kJGd0Um93Q2xhc3MuY29uY2F0KCcgJyArIGNvbHVtbi5yb3dDbGFzcyk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0cm93LiQkZ3RSb3dDbGFzcyA9IGNvbHVtbi5yb3dDbGFzcztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBhcnJheTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHdENvbmZpZ0ZpZWxkIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1jb25maWctZmllbGQnO1xyXG5pbXBvcnQgeyBHdFJvdyB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3Qtcm93JztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZ3RDb2x1bW5DbGFzcydcclxufSlcclxuZXhwb3J0IGNsYXNzIEd0Q29sdW1uQ2xhc3NQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcblx0dHJhbnNmb3JtKFxyXG5cdFx0Z3RGaWVsZHM6IEFycmF5PEd0Q29uZmlnRmllbGQ8YW55LCBhbnk+PixcclxuXHRcdGNvbHVtbjogR3RDb25maWdGaWVsZDxHdFJvdywgYW55PixcclxuXHRcdHJvdz86IEd0Um93XHJcblx0KTogYW55IHtcclxuXHRcdC8vIGZpbmQgY29sdW1ucyB3aXRoIGNvbHVtbkNsYXNzIHByb3BlcnR5IGRlZmluZWRcclxuXHRcdGNvbnN0IENPTFVNTl9XSVRIX0NMQVNTID0gZ3RGaWVsZHNcclxuXHRcdFx0Lm1hcChmaWVsZCA9PiBmaWVsZClcclxuXHRcdFx0LmZpbHRlcihcclxuXHRcdFx0XHRmaWVsZCA9PiBmaWVsZC5jb2x1bW5DbGFzcyAmJiBmaWVsZC5vYmplY3RLZXkgPT09IGNvbHVtbi5vYmplY3RLZXlcclxuXHRcdFx0KVswXTtcclxuXHRcdGlmICghQ09MVU1OX1dJVEhfQ0xBU1MpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgQ09MVU1OX1dJVEhfQ0xBU1MuY29sdW1uQ2xhc3MgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0Ly8gaWYgY29sdW1uIGNsYXNzIGlzIGEgZnVuY3Rpb24sIHRyeSB1c2luZyB0aGUgZnVuY3Rpb24uLi5cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRyZXR1cm4gQ09MVU1OX1dJVEhfQ0xBU1MuY29sdW1uQ2xhc3Mocm93LCBjb2x1bW4pO1xyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFxyXG5cdFx0XHRcdFx0J0Vycm9yIHdoZW4gdHJ5aW5nIHRvIGdldCBjb2x1bW4gY2xhc3MgbmFtZSB1c2luZyBmb3JtdWxhLicsXHJcblx0XHRcdFx0XHRlcnJvclxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIGlmIG5vdCBhIGZ1bmN0aW9uLCByZXR1cm4gcGxhaW4gc3RyaW5nIHZhbHVlXHJcblx0XHRcdHJldHVybiBDT0xVTU5fV0lUSF9DTEFTUy5jb2x1bW5DbGFzcztcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuXHRDaGFuZ2VEZXRlY3RvclJlZixcclxuXHREaXJlY3RpdmUsXHJcblx0RWxlbWVudFJlZixcclxuXHRIb3N0TGlzdGVuZXIsXHJcblx0SW5wdXQsXHJcblx0T25Jbml0XHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5ARGlyZWN0aXZlKHtcclxuXHRzZWxlY3RvcjogJ1tndENvbHVtbldpZHRoXSdcclxufSlcclxuZXhwb3J0IGNsYXNzIEd0Q29sdW1uV2lkdGhEaXJlY3RpdmUgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cdEBJbnB1dCgpIG9iamVjdEtleTogc3RyaW5nO1xyXG5cdEBJbnB1dCgpIHdpZHRoczogT2JqZWN0O1xyXG5cdEBIb3N0TGlzdGVuZXIoJ3dpbmRvdzpyZXNpemUnLCBbJyRldmVudCddKVxyXG5cdHB1YmxpYyBvblJlc2l6ZSgkZXZlbnQ6IGFueSkge1xyXG5cdFx0dGhpcy5jaGVja1NpemUoKTtcclxuXHR9XHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIGhvc3RFbGVtZW50OiBFbGVtZW50UmVmLFxyXG5cdFx0cHJpdmF0ZSBjZFJlZjogQ2hhbmdlRGV0ZWN0b3JSZWZcclxuXHQpIHt9XHJcblx0bmdPbkluaXQoKSB7XHJcblx0XHR0aGlzLmNoZWNrU2l6ZSgpO1xyXG5cdH1cclxuXHJcblx0Y2hlY2tTaXplKCkge1xyXG5cdFx0dGhpcy53aWR0aHNbdGhpcy5vYmplY3RLZXldID0gd2luZG93XHJcblx0XHRcdC5nZXRDb21wdXRlZFN0eWxlKHRoaXMuaG9zdEVsZW1lbnQubmF0aXZlRWxlbWVudCwgbnVsbClcclxuXHRcdFx0LmdldFByb3BlcnR5VmFsdWUoJ3dpZHRoJyk7XHJcblx0XHR0aGlzLmNkUmVmLmRldGVjdENoYW5nZXMoKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHtcclxuXHRDb21wb25lbnQsXHJcblx0RXZlbnRFbWl0dGVyLFxyXG5cdEhvc3RCaW5kaW5nLFxyXG5cdElucHV0LFxyXG5cdE9uSW5pdCxcclxuXHRPdXRwdXRcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG5cdHNlbGVjdG9yOiAnZ3QtY2hlY2tib3gnLFxyXG5cdHRlbXBsYXRlOiBgXHJcbiAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbCBjdXN0b20tY2hlY2tib3ggcC0wXCIgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiPlxyXG4gICAgICA8aW5wdXQgI2NoZWNrYm94IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIiBbKGNoZWNrZWQpXT1cImNoZWNrZWRcIiAoY2hhbmdlKT1cInRvZ2dsZSgkZXZlbnQpO1wiPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCI+PC9zcGFuPlxyXG4gICAgPC9sYWJlbD5cclxuICBgLFxyXG5cdHN0eWxlczogW11cclxufSlcclxuZXhwb3J0IGNsYXNzIEd0Q2hlY2tib3hDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cdGdldCBpbml0aWFsVmFsdWUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5faW5pdGlhbFZhbHVlO1xyXG5cdH1cclxuXHJcblx0QEhvc3RCaW5kaW5nKCdjbGFzcycpIGNsYXNzID0gJ2QtZmxleCBqdXN0aWZ5LWNvbnRlbnQtZW5kJztcclxuXHJcblx0QElucHV0KClcclxuXHRzZXQgaW5pdGlhbFZhbHVlKHZhbHVlOiBib29sZWFuKSB7XHJcblx0XHR0aGlzLl9pbml0aWFsVmFsdWUgPSB2YWx1ZTtcclxuXHR9XHJcblx0Z2V0IGNoZWNrZWQoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY2hlY2tlZDtcclxuXHR9XHJcblxyXG5cdEBJbnB1dCgpXHJcblx0c2V0IGNoZWNrZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuXHRcdHRoaXMuX2NoZWNrZWQgPSB2YWx1ZTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgX2NoZWNrZWQ6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSBfaW5pdGlhbFZhbHVlOiBib29sZWFuO1xyXG5cdEBPdXRwdXQoKSBjaGFuZ2VkOiBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge31cclxuXHJcblx0bmdPbkluaXQoKSB7fVxyXG5cclxuXHR0b2dnbGUoY2hlY2tlZDogYm9vbGVhbikge1xyXG5cdFx0dGhpcy5jaGFuZ2VkLmVtaXQodGhpcy5jaGVja2VkKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZ3RJc09ic2VydmFibGUnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdElzT2JzZXJ2YWJsZVBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHR0cmFuc2Zvcm0oaW5wdXQ6IGFueSk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIGlucHV0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZ3RJc0VkaXRhYmxlJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RJc0VkaXRhYmxlUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xyXG5cdHRyYW5zZm9ybShwcm9wZXJ0eTogYW55LCByb3c6IGFueSwgcmVmcmVzaFBpcGU6IGJvb2xlYW4pOiBib29sZWFuIHtcclxuXHRcdGlmICh0eXBlb2YgcHJvcGVydHkgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0cmV0dXJuIHByb3BlcnR5KHJvdyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7IEZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBHZW5lcmljVGFibGVDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ2VuZXJpYy10YWJsZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBHdFJlbmRlclBpcGUgfSBmcm9tICcuL3BpcGVzL2d0LXJlbmRlci5waXBlJztcclxuaW1wb3J0IHsgR3RWaXNpYmxlUGlwZSB9IGZyb20gJy4vcGlwZXMvZ3QtdmlzaWJsZS5waXBlJztcclxuaW1wb3J0IHsgRGFzaENhc2VQaXBlIH0gZnJvbSAnLi9waXBlcy9kYXNoLWNhc2UucGlwZSc7XHJcbmltcG9ydCB7IEd0UHJvcGVydHlQaXBlIH0gZnJvbSAnLi9waXBlcy9ndC1wcm9wZXJ0eS5waXBlJztcclxuaW1wb3J0IHsgR3RDaHVua1BpcGUgfSBmcm9tICcuL3BpcGVzL2d0LWNodW5rLnBpcGUnO1xyXG5pbXBvcnQgeyBHdEZpbHRlclBpcGUgfSBmcm9tICcuL3BpcGVzL2d0LWZpbHRlci5waXBlJztcclxuaW1wb3J0IHsgR3RPcmRlckJ5UGlwZSB9IGZyb20gJy4vcGlwZXMvZ3Qtb3JkZXItYnkucGlwZSc7XHJcbmltcG9ydCB7IEd0RXhwYW5kaW5nUm93Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2d0LWV4cGFuZGluZy1yb3cuY29tcG9uZW50JztcclxuaW1wb3J0IHsgR3RTZWFyY2hQaXBlIH0gZnJvbSAnLi9waXBlcy9ndC1zZWFyY2gucGlwZSc7XHJcbmltcG9ydCB7IENvbXBvbmVudEFuY2hvckRpcmVjdGl2ZSB9IGZyb20gJy4vZGlyZWN0aXZlcy9jb21wb25lbnQtYW5jaG9yLmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7XHJcblx0R3RQYWdpbmF0aW9uQ29tcG9uZW50LFxyXG5cdFBhZ2luYXRpb25QaXBlXHJcbn0gZnJvbSAnLi9jb21wb25lbnRzL2d0LXBhZ2luYXRpb24uY29tcG9uZW50JztcclxuaW1wb3J0IHtcclxuXHRHdFRhYmxlSW5mb0NvbXBvbmVudCxcclxuXHRUYWJsZUluZm9QaXBlXHJcbn0gZnJvbSAnLi9jb21wb25lbnRzL2d0LXRhYmxlLWluZm8uY29tcG9uZW50JztcclxuaW1wb3J0IHsgR3RDdXN0b21Db21wb25lbnRGYWN0b3J5IH0gZnJvbSAnLi9jb21wb25lbnRzL2d0LWN1c3RvbS1jb21wb25lbnQtZmFjdG9yeSc7XHJcbmltcG9ydCB7IEd0TWV0YVBpcGUgfSBmcm9tICcuL3BpcGVzL2d0LW1ldGEucGlwZSc7XHJcbmltcG9ydCB7IEd0RHJvcGRvd25Db21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ3QtZHJvcGRvd24uY29tcG9uZW50JztcclxuaW1wb3J0IHsgR3RUb3RhbHNQaXBlIH0gZnJvbSAnLi9waXBlcy9ndC10b3RhbHMucGlwZSc7XHJcbmltcG9ydCB7IEd0VG90YWxzUG9zaXRpb25QaXBlIH0gZnJvbSAnLi9waXBlcy9ndC10b3RhbHMtcG9zaXRpb24ucGlwZSc7XHJcbmltcG9ydCB7IEd0Um93Q2xhc3NQaXBlIH0gZnJvbSAnLi9waXBlcy9ndC1yb3ctY2xhc3MucGlwZSc7XHJcbmltcG9ydCB7IEd0Q29sdW1uQ2xhc3NQaXBlIH0gZnJvbSAnLi9waXBlcy9ndC1jb2x1bW4tY2xhc3MucGlwZSc7XHJcbmltcG9ydCB7IEd0Q29sdW1uV2lkdGhEaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZXMvZ3QtY29sdW1uLXdpZHRoLmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IEd0RHJpbGxkb3duQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2d0LWRyaWxsZG93bi5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBHdENoZWNrYm94Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2d0LWNoZWNrYm94L2d0LWNoZWNrYm94LmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEd0SGlnaGxpZ2h0UGlwZSB9IGZyb20gJy4vcGlwZXMvZ3QtaGlnaGxpZ2h0LnBpcGUnO1xyXG5pbXBvcnQgeyBHdElzT2JzZXJ2YWJsZVBpcGUgfSBmcm9tICcuL3BpcGVzL2d0LWlzLW9ic2VydmFibGUucGlwZSc7XHJcbmltcG9ydCB7IEd0SXNFZGl0YWJsZVBpcGUgfSBmcm9tICcuL3BpcGVzL2d0LWlzLWVkaXRhYmxlLnBpcGUnO1xyXG5cclxuQE5nTW9kdWxlKHtcclxuXHRkZWNsYXJhdGlvbnM6IFtcclxuXHRcdENvbXBvbmVudEFuY2hvckRpcmVjdGl2ZSxcclxuXHRcdEdlbmVyaWNUYWJsZUNvbXBvbmVudCxcclxuXHRcdEd0UGFnaW5hdGlvbkNvbXBvbmVudCxcclxuXHRcdEd0VmlzaWJsZVBpcGUsXHJcblx0XHRHdFJlbmRlclBpcGUsXHJcblx0XHREYXNoQ2FzZVBpcGUsXHJcblx0XHRHdFByb3BlcnR5UGlwZSxcclxuXHRcdEd0Q2h1bmtQaXBlLFxyXG5cdFx0R3RGaWx0ZXJQaXBlLFxyXG5cdFx0R3RPcmRlckJ5UGlwZSxcclxuXHRcdEd0RXhwYW5kaW5nUm93Q29tcG9uZW50LFxyXG5cdFx0R3RDdXN0b21Db21wb25lbnRGYWN0b3J5LFxyXG5cdFx0R3RTZWFyY2hQaXBlLFxyXG5cdFx0UGFnaW5hdGlvblBpcGUsXHJcblx0XHRHdFRhYmxlSW5mb0NvbXBvbmVudCxcclxuXHRcdFRhYmxlSW5mb1BpcGUsXHJcblx0XHRHdE1ldGFQaXBlLFxyXG5cdFx0R3RUb3RhbHNQaXBlLFxyXG5cdFx0R3RUb3RhbHNQb3NpdGlvblBpcGUsXHJcblx0XHRHdFJvd0NsYXNzUGlwZSxcclxuXHRcdEd0Q29sdW1uQ2xhc3NQaXBlLFxyXG5cdFx0R3RIaWdobGlnaHRQaXBlLFxyXG5cdFx0R3RJc09ic2VydmFibGVQaXBlLFxyXG5cdFx0R3RJc0VkaXRhYmxlUGlwZSxcclxuXHRcdEd0RHJvcGRvd25Db21wb25lbnQsXHJcblx0XHRHdENvbHVtbldpZHRoRGlyZWN0aXZlLFxyXG5cdFx0R3REcmlsbGRvd25Db21wb25lbnQsXHJcblx0XHRHdENoZWNrYm94Q29tcG9uZW50XHJcblx0XSxcclxuXHRpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGb3Jtc01vZHVsZV0sXHJcblx0ZXhwb3J0czogW1xyXG5cdFx0R2VuZXJpY1RhYmxlQ29tcG9uZW50LFxyXG5cdFx0R3RQYWdpbmF0aW9uQ29tcG9uZW50LFxyXG5cdFx0R3RUYWJsZUluZm9Db21wb25lbnQsXHJcblx0XHRHdFByb3BlcnR5UGlwZSxcclxuXHRcdEd0SGlnaGxpZ2h0UGlwZSxcclxuXHRcdEd0RXhwYW5kaW5nUm93Q29tcG9uZW50LFxyXG5cdFx0R3REcm9wZG93bkNvbXBvbmVudCxcclxuXHRcdEd0RHJpbGxkb3duQ29tcG9uZW50LFxyXG5cdFx0R3RDaGVja2JveENvbXBvbmVudFxyXG5cdF0sXHJcblx0ZW50cnlDb21wb25lbnRzOiBbR3REcmlsbGRvd25Db21wb25lbnQsIEd0Q2hlY2tib3hDb21wb25lbnRdLFxyXG5cdHByb3ZpZGVyczogW0d0TWV0YVBpcGUsIEd0SGlnaGxpZ2h0UGlwZV0sXHJcblx0Ym9vdHN0cmFwOiBbXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgR2VuZXJpY1RhYmxlTW9kdWxlIHt9XHJcbiJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJDb21wb25lbnQiLCJJbnB1dCIsIk91dHB1dCIsIlBpcGUiLCJSZW5kZXJlcjIiLCJDaGFuZ2VEZXRlY3RvclJlZiIsInRzbGliXzEuX19leHRlbmRzIiwiRG9tU2FuaXRpemVyIiwiRGlyZWN0aXZlIiwiQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiVmlld0NvbnRhaW5lclJlZiIsIlJlcGxheVN1YmplY3QiLCJTdWJqZWN0IiwiRWxlbWVudFJlZiIsIkhvc3RMaXN0ZW5lciIsIkhvc3RCaW5kaW5nIiwiT2JzZXJ2YWJsZSIsIk5nTW9kdWxlIiwiQ29tbW9uTW9kdWxlIiwiRm9ybXNNb2R1bGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7OztBQUdBOzs7OztJQUFBOzsrQkFRZSxJQUFJQSxpQkFBWSxFQUFLO2tDQUVsQixJQUFJQSxpQkFBWSxFQUFLOzs7OztRQUUvQiw2QkFBSzs7OztnQkFDWCxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7Ozs7OztRQUc3QiwrQkFBTzs7OztzQkFBQyxNQUFZO2dCQUMxQixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7Ozs7Ozs7UUFFMUIsaUNBQVM7Ozs7O3NCQUFDLEdBQVUsRUFBRSxNQUFrQjtnQkFDOUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7b0JBQ2pCLElBQUksRUFBRSxnQkFBZ0I7b0JBQ3RCLEtBQUssRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTtpQkFDbEMsQ0FBQyxDQUFDOzs0QkExQkw7UUE0QkMsQ0FBQTs7Ozs7Ozs7K0JBcUJ3QixJQUFJQSxpQkFBWSxFQUFLO2tDQUNsQixJQUFJQSxpQkFBWSxFQUFLOzs7Ozs7UUFHaEQsNkNBQVc7Ozs7WUFBWCxVQUFZLFFBQVc7Z0JBQ3RCLFFBQVEsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFDeEIsUUFBUSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO2dCQUN4QyxRQUFRLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7Z0JBQ3RDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztnQkFDbEMsUUFB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