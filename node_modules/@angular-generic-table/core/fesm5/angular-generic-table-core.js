import { Component, EventEmitter, Input, Output, Pipe, Renderer2, ChangeDetectorRef, ComponentFactoryResolver, Directive, ViewContainerRef, ElementRef, HostListener, HostBinding, NgModule } from '@angular/core';
import { __spread, __extends, __assign } from 'tslib';
import { DomSanitizer } from '@angular/platform-browser';
import { ReplaySubject } from 'rxjs/ReplaySubject';
import { Subject } from 'rxjs/Subject';
import * as Tether from 'tether';
import { Observable } from 'rxjs/Observable';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
// unsupported: template constraints.
/**
 * @template R
 */
var  
// unsupported: template constraints.
/**
 * @template R
 */
GtExpandedRow = /** @class */ (function () {
    function GtExpandedRow() {
        this.redrawEvent = new EventEmitter();
        this.toggleRowEvent = new EventEmitter();
    }
    /**
     * @return {?}
     */
    GtExpandedRow.prototype.$hide = /**
     * @return {?}
     */
    function () {
        this.toggleRowEvent.emit(this.row);
    };
    /**
     * @param {?=} $event
     * @return {?}
     */
    GtExpandedRow.prototype.$redraw = /**
     * @param {?=} $event
     * @return {?}
     */
    function ($event) {
        this.redrawEvent.emit(this.row);
    };
    /**
     * @param {?} row
     * @param {?} $event
     * @return {?}
     */
    GtExpandedRow.prototype.$rowClick = /**
     * @param {?} row
     * @param {?} $event
     * @return {?}
     */
    function (row, $event) {
        this.gtEvent.emit({
            name: 'gt-row-clicked',
            value: { row: row, event: $event }
        });
    };
    return GtExpandedRow;
}());
// unsupported: template constraints.
// unsupported: template constraints.
/**
 * @template R, C
 */
var GtExpandingRowComponent = /** @class */ (function () {
    function GtExpandingRowComponent() {
        this.redrawEvent = new EventEmitter();
        this.toggleRowEvent = new EventEmitter();
    }
    /**
     * @param {?} instance
     * @return {?}
     */
    GtExpandingRowComponent.prototype.newInstance = /**
     * @param {?} instance
     * @return {?}
     */
    function (instance) {
        instance.row = this.row;
        instance.columnWidth = this.columnWidth;
        instance.gtSettings = this.gtSettings;
        instance.gtFields = this.gtFields;
        instance.gtOptions = this.gtOptions;
        instance.gtInfo = this.gtInfo;
        instance.data =
            typeof this.data === 'function' ? this.data(this.row) : this.data;
        instance.redrawEvent.subscribe(this.redrawEvent);
        instance.toggleRowEvent.subscribe(this.toggleRowEvent);
        instance.gtEvent = this.gtEvent;
    };
    GtExpandingRowComponent.decorators = [
        { type: Component, args: [{
                    selector: 'gt-expanding-row',
                    template: "\n        <div gtComponentAnchor\n             [ctor]=\"type\" (instance)=\"newInstance($event)\"></div>"
                },] },
    ];
    /** @nocollapse */
    GtExpandingRowComponent.propDecorators = {
        "type": [{ type: Input },],
        "row": [{ type: Input },],
        "columnWidth": [{ type: Input },],
        "gtSettings": [{ type: Input },],
        "gtFields": [{ type: Input },],
        "gtOptions": [{ type: Input },],
        "gtInfo": [{ type: Input },],
        "data": [{ type: Input },],
        "redrawEvent": [{ type: Output },],
        "toggleRowEvent": [{ type: Output },],
        "gtEvent": [{ type: Input },],
    };
    return GtExpandingRowComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtMetaPipe = /** @class */ (function () {
    function GtMetaPipe() {
    }
    /**
     * @param {?} allRows
     * @param {?=} rowIndex
     * @param {?=} page
     * @param {?=} recordLength
     * @return {?}
     */
    GtMetaPipe.prototype.transform = /**
     * @param {?} allRows
     * @param {?=} rowIndex
     * @param {?=} page
     * @param {?=} recordLength
     * @return {?}
     */
    function (allRows, rowIndex, page, recordLength) {
        for (var /** @type {?} */ i = 0; i < allRows.length; i++) {
            if (!allRows[i].$$gtRowId) {
                allRows[i].$$gtRowId = rowIndex
                    ? allRows[i][rowIndex]
                    : page
                        ? page * recordLength +
                            i +
                            '_' +
                            Math.random()
                                .toString(36)
                                .substr(2, 16)
                        : i +
                            '_' +
                            Math.random()
                                .toString(36)
                                .substr(2, 16);
            }
            if (!allRows[i].$$gtInitialRowIndex) {
                allRows[i].$$gtInitialRowIndex = i;
            }
        }
        return allRows;
    };
    GtMetaPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtMeta'
                },] },
    ];
    return GtMetaPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
// unsupported: template constraints.
// unsupported: template constraints.
/**
 * @template R, C
 */
var GenericTableComponent = /** @class */ (function () {
    function GenericTableComponent(renderer, gtMetaPipe) {
        var _this = this;
        this.renderer = renderer;
        this.gtMetaPipe = gtMetaPipe;
        this.columnWidth = {};
        this.sortOrder = [];
        this.metaInfo = {};
        this.selectedRows = [];
        this.openRows = [];
        this._gtSettings = [];
        this._gtFields = [];
        this.gtDefaultTexts = {
            loading: 'Loading...',
            noData: 'No data',
            noMatchingData: 'No data matching results found',
            noVisibleColumnsHeading: 'No visible columns',
            noVisibleColumns: 'Please select at least one column to be visible.',
            tableInfo: 'Showing #recordFrom to #recordTo of #recordsAfterSearch entries.',
            tableInfoAfterSearch: 'Showing  #recordFrom to #recordTo of #recordsAfterSearch entries (filtered from a total of #recordsAll entries).',
            csvDownload: 'download',
            sortLabel: 'Sort:',
            paginateNext: 'Next page',
            paginatePrevious: 'Previous page',
            inlineEditEdited: 'Press enter to save'
        };
        this.gtTexts = this.gtDefaultTexts;
        this.gtEvent = new EventEmitter();
        this.gtDefaultOptions = {
            csvDelimiter: ';',
            stack: false,
            lazyLoad: false,
            cache: false,
            debounceTime: 200,
            highlightSearch: false,
            rowSelection: false,
            rowSelectionAllowMultiple: true,
            rowExpandAllowMultiple: true,
            numberOfRows: 10,
            reportColumnWidth: false,
            allowUnsorted: true,
            mutateData: true
        };
        this._gtOptions = this.gtDefaultOptions;
        this.store = [];
        this.loading = true;
        this.debounceTimer = null;
        this.lazyAllSelected = false;
        this.gtInfo = {
            pageCurrent: 1,
            pageTotal: 0,
            recordFrom: 0,
            recordTo: 0,
            recordLength: this.gtOptions.numberOfRows,
            recordsAll: 0,
            recordsAfterFilter: 0,
            recordsAfterSearch: 0
        };
        this.refreshPipe = false;
        this.refreshTotals = false;
        this.refreshSorting = false;
        this.refreshFilter = false;
        this.refreshPageArray = false;
        this.editedRows = {};
        this.data = { exportData: [] };
        /**
         * Sort table by object key.
         * @param objectKey - name of key to sort on.
         * @param event - such as key press during sorting.
         */
        this.gtSort = function (objectKey, event) {
            this.inlineEditCancel(); // cancel inline editing
            // loop through current settings
            for (var /** @type {?} */ i = 0; i < this._gtSettings.length; i++) {
                if (this._gtSettings[i].objectKey === objectKey) {
                    // check if sorting is disabled...
                    if (this._gtSettings[i].sort &&
                        this._gtSettings[i].sort.indexOf('disable') !== -1) {
                        // ...if so, exit function without applying any sorting
                        return;
                    }
                    else if (/* check if sorting is undefined... */ typeof this._gtSettings[i]
                        .sort === 'undefined') {
                        // ...is so, set sorting property to enable
                        this._gtSettings[i].sort = 'enable';
                    }
                }
            }
            // check length
            var /** @type {?} */ ctrlKey = event.metaKey || event.ctrlKey;
            var /** @type {?} */ sort = this.sortOrder.slice(0);
            var /** @type {?} */ match = -1;
            var /** @type {?} */ matchDesc = -1;
            var /** @type {?} */ pos = -1;
            // check if property already exits
            for (var /** @type {?} */ i = 0; i < sort.length; i++) {
                var /** @type {?} */ hit = sort[i].indexOf(objectKey);
                if (hit !== -1) {
                    match = this.sortOrder.indexOf(objectKey);
                    matchDesc =
                        match === -1 ? this.sortOrder.indexOf('-' + objectKey) : match;
                    pos = Math.max(match, matchDesc);
                }
            }
            // if ctrl key or meta key is press together with sort...
            if (ctrlKey) {
                if (this.sortOrder[this.sortOrder.length - 1] === '$$gtInitialRowIndex') {
                    this.sortOrder.pop();
                }
                switch (pos) {
                    // ...and property is not sorted before...
                    case -1:
                        // ...add property to sorting
                        this.sortOrder.push(objectKey);
                        break;
                    default:
                        // ...and property is sorted before...
                        if (match !== -1) {
                            // ...change from asc to desc if sorted asc
                            this.sortOrder[pos] = '-' + objectKey;
                        }
                        else if (this.sortOrder.length > 1) {
                            // ...remove sorting if sorted desc
                            if (ctrlKey) {
                                this.sortOrder[pos] = objectKey;
                            }
                            else {
                                this.sortOrder.splice(pos, 1);
                            }
                        }
                        else if (this.sortOrder.length === 1) {
                            // ...set sorting to asc if only sorted property
                            this.sortOrder[pos] = objectKey;
                        }
                        break;
                }
            }
            else {
                /* if ctrl key or meta key is not press together with sort... */
                switch (pos) {
                    // ...and property is not sorted before...
                    case -1:
                        // ...sort by property
                        this.sortOrder = [objectKey];
                        break;
                    default:
                        // ...change from desc to asc and vise versa
                        this.sortOrder =
                            match !== -1
                                ? ['-' + objectKey]
                                : ctrlKey || !this.gtOptions.allowUnsorted
                                    ? [objectKey]
                                    : [];
                        break;
                }
            }
            // update settings object with new sorting information
            for (var /** @type {?} */ i = 0; i < this._gtSettings.length; i++) {
                if (this._gtSettings[i].objectKey === objectKey) {
                    switch (this._gtSettings[i].sort) {
                        // if sorted asc...
                        case 'asc':
                            // ...change to desc
                            this._gtSettings[i].sort = 'desc';
                            break;
                        // if sorted desc...
                        case 'desc':
                            // ...change to asc if it's the only sorted property otherwise remove sorting
                            this._gtSettings[i].sort =
                                (this.sortOrder.length === 1 && sort.length < 2) ||
                                    ctrlKey ||
                                    !this.gtOptions.allowUnsorted
                                    ? 'asc'
                                    : 'enable';
                            break;
                        // if sorting enabled...
                        case 'enable':
                            // ...change to asc
                            this._gtSettings[i].sort = 'asc';
                            break;
                    }
                    this._gtSettings[i].sortOrder =
                        this._gtSettings[i].sort === 'enable'
                            ? this._gtSettings.length - 1
                            : this.sortOrder.indexOf(objectKey) === -1
                                ? this.sortOrder.indexOf('-' + objectKey)
                                : this.sortOrder.indexOf(objectKey);
                }
                else if (this._gtSettings[i].sort &&
                    this._gtSettings[i].sort.indexOf('disable') === -1 &&
                    this.sortOrder.indexOf(this._gtSettings[i].objectKey) === -1 &&
                    this.sortOrder.indexOf('-' + this._gtSettings[i].objectKey) === -1) {
                    this._gtSettings[i].sort = 'enable';
                    this._gtSettings[i].sortOrder = this._gtSettings.length - 1;
                }
            }
            // refresh sorting pipe
            this.refreshSorting = !this.refreshSorting;
            this.refreshPageArray = !this.refreshPageArray;
            // sort by initial sort order as last resort
            this.sortOrder.push('$$gtInitialRowIndex');
            // emit sort event
            this.gtEvent.emit({
                name: 'gt-sorting-applied',
                value: this.sortOrder
            });
        };
        /**
         * Change number of rows to be displayed.
         * @param rowLength - total number of rows.
         * @param reset - should page be reset to first page.
         */
        this.changeRowLength = function (rowLength, reset) {
            var /** @type {?} */ lengthValue = isNaN(parseInt(rowLength, 10))
                ? 0
                : parseInt(rowLength, 10);
            var /** @type {?} */ newPosition = 1;
            if (!lengthValue && this.gtData) {
                lengthValue = this.gtData.length;
            }
            // if reset is not true and we're not lazy loading data...
            if (reset !== true && this._gtOptions.lazyLoad !== true) {
                // ...get current position in record set
                var /** @type {?} */ currentRecord = this.gtInfo.recordLength * (this.gtInfo.pageCurrent - 1);
                var /** @type {?} */ currentPosition = this._gtData.indexOf(this._gtData[currentRecord]) + 1;
                // ...get new position
                newPosition = Math.ceil(currentPosition / lengthValue);
            }
            // change row length
            this.gtInfo.recordLength = lengthValue;
            // go to new position
            this.gtInfo.pageCurrent = newPosition;
            // if lazy loading data...
            if (this._gtOptions.lazyLoad) {
                // ...replace data with place holders for new data
                this._gtData[0] = this.loadingContent(lengthValue);
                // ...empty current store
                this.store = [];
            }
            // this.updateRecordRange();
            this.gtEvent.emit({
                name: 'gt-row-length-changed',
                value: lengthValue
            });
        };
        /**
         * Force a redraw of table rows.
         * As the table uses pure pipes, we need to force a redraw if an object in the array is changed to see the changes.
         */
        this.redraw = function ($event) {
            this.refreshSorting = !this.refreshSorting;
            this.refreshPageArray = !this.refreshPageArray;
            this.refreshPipe = !this.refreshPipe;
        };
        /**
         * Go to next page.
         */
        this.nextPage = function () {
            var /** @type {?} */ page = this.gtInfo.pageCurrent === this.gtInfo.pageTotal
                ? this.gtInfo.pageTotal
                : this.gtInfo.pageCurrent + 1;
            this.goToPage(page);
        };
        /**
         * Go to previous page.
         */
        this.previousPage = function () {
            var /** @type {?} */ page = this.gtInfo.pageCurrent === 1 ? 1 : this.gtInfo.pageCurrent - 1;
            this.goToPage(page);
        };
        /**
         * Request more data (used when lazy loading)
         */
        this.getData = function () {
            // ...emit event requesting for more data
            this.gtEvent.emit({
                name: 'gt-page-changed-lazy',
                value: {
                    pageCurrent: this.gtInfo.pageCurrent,
                    recordLength: this.gtInfo.recordLength
                }
            });
        };
        /**
         * Go to specific page.
         * @param page - page number.
         */
        this.goToPage = function (page) {
            var _this = this;
            var /** @type {?} */ previousPage = this.gtInfo.pageCurrent;
            this.gtInfo.pageCurrent = page;
            this.inlineEditCancel(); // cancel inline edit
            // if lazy loading and if page contains no records...
            if (this._gtOptions.lazyLoad) {
                // ...if data for current page contains no entries...
                if (this._gtOptions.cache === false ||
                    this._gtData[this.gtInfo.pageCurrent - 1].length === 0) {
                    // ...create temporary content while waiting for data
                    this._gtData[this.gtInfo.pageCurrent - 1] = this.loadingContent(this.gtInfo.recordLength);
                    this.loading = true; // loading true
                }
                // ...if first entry in current page equals our loading placeholder...
                if (this._gtData[this.gtInfo.pageCurrent - 1][0][this.loadingProperty] ===
                    this.gtTexts.loading) {
                    // ...get data
                    clearTimeout(this.debounceTimer);
                    this.debounceTimer = setTimeout(function () {
                        _this.getData();
                    }, this._gtOptions.debounceTime);
                }
            }
            // this.updateRecordRange();
            // ...emit page change event
            if (previousPage !== page) {
                this.gtEvent.emit({
                    name: 'gt-page-changed',
                    value: {
                        pageCurrent: this.gtInfo.pageCurrent,
                        pagePrevious: previousPage,
                        recordLength: this.gtInfo.recordLength
                    }
                });
            }
        };
        /**
         * Sort by sort order
         */
        this.getSortOrder = function (a, b) {
            if (a.sortOrder < b.sortOrder) {
                return -1;
            }
            if (a.sortOrder > b.sortOrder || typeof a.sortOrder === 'undefined') {
                return 1;
            }
            return 0;
        };
        /**
         * Sort by column order
         */
        this.getColumnOrder = function (a, b) {
            if (a.columnOrder === undefined) {
                return -1;
            }
            if (a.columnOrder < b.columnOrder) {
                return -1;
            }
            if (a.columnOrder > b.columnOrder) {
                return 1;
            }
            return 0;
        };
        /**
         * Create a deep copy of data
         */
        this.cloneDeep = function (o) {
            return JSON.parse(JSON.stringify(o));
        };
        /**
         * Return property
         */
        this.getProperty = function (array, key) {
            for (var /** @type {?} */ i = 0; i < array.length; i++) {
                if (array[i].objectKey === key) {
                    return array[i];
                }
            }
        };
        this.restructureSorting = function () {
            /**
             * Check and store sort order upon initialization.
             *  This is done by checking sort properties in the settings array of the table, if no sorting is defined
             *  we'll sort the data by the first visible and enabled column in the table(ascending). Please note that actually
             *  sorting have to be done server side when lazy loading data for obvious reasons.
             */
            var /** @type {?} */ sorting = [];
            if (this._gtSettings) {
                // ...sort settings by sort order
                this._gtSettings.sort(this.getSortOrder);
                // ...loop through settings
                for (var /** @type {?} */ i = 0; i < this._gtSettings.length; i++) {
                    var /** @type {?} */ setting = this._gtSettings[i];
                    // ...if sorted ascending...
                    if (setting.sort === 'asc') {
                        // ... add to sorting
                        sorting.push(setting.objectKey);
                    }
                    else if (setting.sort === 'desc') {
                        /* ...else if sorted descending... */ 
                        // ... add to sorting
                        sorting.push('-' + setting.objectKey);
                    }
                }
                // ...if no sorting applied...
                if (sorting.length === 0) {
                    sorting.push('$$gtRowId');
                    /*// ...sort settings by column order
                                    this._gtSettings.sort(this.getColumnOrder);
                    
                                    // ...loop through settings
                                    for (let i = 0; i < this._gtSettings.length; i++) {
                                        const setting = this._gtSettings[i];
                    
                                        // ...if column is enabled and visible...
                                        if (setting.enabled !== false && setting.visible !== false) {
                                            // ...add first match and exit function
                                            this.sortOrder = [this._gtSettings[i].objectKey];
                                            return;
                                        }
                                    }*/
                }
            }
            if (this.sortOrder.length === 0) {
                this.sortOrder = sorting;
            }
        };
        /**
         *  Extend object function.
         */
        this.extend = function (a, b) {
            for (var /** @type {?} */ key in b) {
                if (b.hasOwnProperty(key)) {
                    a[key] = b[key];
                }
            }
            return a;
        };
        this.gtEvent.subscribe(function ($event) {
            if ($event.name === 'gt-info') {
                _this.updateRecordRange();
            }
            if ($event.name === 'gt-row-updated') {
                _this.updateTotals();
            }
        });
    }
    Object.defineProperty(GenericTableComponent.prototype, "gtRowComponent", {
        get: /**
         * @return {?}
         */
        function () {
            return this._gtRowComponent;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            console.warn('GtRowComponent has been deprecated and support will be removed in a future release, see https://github.com/hjalmers/angular-generic-table/issues/34');
            this._gtRowComponent = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GenericTableComponent.prototype, "hasEdits", {
        get: /**
         * @return {?}
         */
        function () {
            return Object.keys(this.editedRows).length > 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GenericTableComponent.prototype, "gtOptions", {
        get: /**
         * @return {?}
         */
        function () {
            return this._gtOptions;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._gtOptions = value;
            // if number of rows is passed and if number of rows differs from current record length...
            if (this.gtOptions.numberOfRows &&
                this.gtInfo.recordLength !== this.gtOptions.numberOfRows) {
                // ...update record length and redraw table
                this.gtInfo.recordLength = this.gtOptions.numberOfRows;
                this.redraw();
            }
            // ...extend gtOptions default values with values passed into component
            this._gtOptions = /** @type {?} */ (this.extend(this.gtDefaultOptions, this._gtOptions));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GenericTableComponent.prototype, "gtTotals", {
        get: /**
         * @return {?}
         */
        function () {
            return this._gtTotals;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._gtTotals = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GenericTableComponent.prototype, "gtFields", {
        get: /**
         * @return {?}
         */
        function () {
            return this._gtFields;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._gtFields = value;
            var /** @type {?} */ COLUMNS_WITH_CLASS_NAMES = this._gtFields
                .map(function (column) { return column; })
                .filter(function (column) { return column.classNames; });
            // TODO: remove deprecated warning when setting has been removed
            if (COLUMNS_WITH_CLASS_NAMES.length > 0) {
                console.warn('Field setting "classNames" have been deprecated in favor for "columnClass" and will be removed in the future, please update field settings for column with object key: ' +
                    COLUMNS_WITH_CLASS_NAMES[0].objectKey);
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GenericTableComponent.prototype, "gtSettings", {
        get: /**
         * @return {?}
         */
        function () {
            return this._gtSettings;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._gtSettings = value;
            // loop through current settings
            for (var /** @type {?} */ i = 0; i < this._gtSettings.length; i++) {
                // set sort enabled/disabled setting
                this._gtSettings[i].sortEnabled =
                    this._gtSettings[i].sortEnabled !== false
                        ? (this._gtSettings[i].sortEnabled = !(this._gtSettings[i].sort &&
                            this._gtSettings[i].sort.indexOf('disable') !== -1))
                        : false;
                // check if sorting is undefined...
                if (typeof this._gtSettings[i].sort === 'undefined') {
                    // ...is so, set sorting property to enable
                    this._gtSettings[i].sort = 'enable';
                }
                // check if column order is undefined...
                if (typeof this._gtSettings[i].columnOrder === 'undefined' &&
                    this._gtSettings[i].enabled !== false) {
                    // ...is so, set sorting property to enable
                    this._gtSettings[i].columnOrder = this._gtSettings[i - 1]
                        ? this._gtSettings[i - 1].columnOrder + 1
                        : 0;
                }
                // check if column lock settings are undefined...
                if (typeof this._gtSettings[i].lockSettings === 'undefined') {
                    // ...if so, set lock settings to false unless field is disabled (enable === false)
                    this._gtSettings[i].lockSettings =
                        this._gtSettings[i].enabled === false || false;
                }
            }
            this.restructureSorting();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GenericTableComponent.prototype, "gtData", {
        get: /**
         * @return {?}
         */
        function () {
            return this._gtData;
        },
        set: /**
         * @param {?} initialData
         * @return {?}
         */
        function (initialData) {
            var _this = this;
            var /** @type {?} */ data = this._gtOptions.mutateData
                ? __spread(initialData) : this.cloneDeep(initialData);
            if (this.gtOptions.lazyLoad && this.gtInfo) {
                this.gtMetaPipe.transform(data, this.gtOptions.rowIndex, this.gtInfo.pageCurrent - 1, this.gtInfo.recordLength);
                if (this.lazyAllSelected) {
                    var /** @type {?} */ UNIQUE_ROWS_1 = this.selectedRows.map(function (row) { return row.$$gtRowId; });
                    data.map(function (row) {
                        if (UNIQUE_ROWS_1.indexOf(row.$$gtRowId) === -1) {
                            _this.selectedRows.push(row);
                        }
                    });
                    this._updateMetaInfo(this.selectedRows, 'isSelected', true);
                }
            }
            else {
                this.gtMetaPipe.transform(data, this.gtOptions.rowIndex);
            }
            if (this.gtOptions.rowSelectionInitialState) {
                data.map(function (row) {
                    var /** @type {?} */ selected = typeof _this.gtOptions.rowSelectionInitialState === 'function'
                        ? _this.gtOptions.rowSelectionInitialState(row)
                        : _this.gtOptions.rowSelectionInitialState;
                    if (selected) {
                        if (typeof _this.metaInfo[row.$$gtRowId] === 'undefined') {
                            _this.metaInfo[row.$$gtRowId] = { isSelected: true };
                        }
                        else {
                            _this.metaInfo[row.$$gtRowId].isSelected = true;
                        }
                        _this.selectedRows.push(row);
                    }
                });
            }
            if (this.gtOptions.rowExpandInitialState &&
                this.gtOptions.rowExpandInitialComponent) {
                data.map(function (row) {
                    var /** @type {?} */ expanded = typeof _this.gtOptions.rowExpandInitialState === 'function'
                        ? _this.gtOptions.rowExpandInitialState(row)
                        : _this.gtOptions.rowExpandInitialState;
                    _this.expandedRow = _this.gtOptions.rowExpandInitialComponent;
                    if (expanded) {
                        if (typeof _this.metaInfo[row.$$gtRowId] === 'undefined') {
                            _this.metaInfo[row.$$gtRowId] = { isOpen: true };
                        }
                        else {
                            _this.metaInfo[row.$$gtRowId].isOpen = true;
                        }
                    }
                });
            }
            this._gtData = data;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Update record range.
     * @return {?}
     */
    GenericTableComponent.prototype.updateRecordRange = /**
     * Update record range.
     * @return {?}
     */
    function () {
        this.gtInfo.recordFrom =
            this.gtInfo.recordsAfterSearch === 0
                ? 0
                : (this.gtInfo.pageCurrent - 1) * this.gtInfo.recordLength + 1;
        this.gtInfo.recordTo =
            this.gtInfo.recordsAfterSearch <
                this.gtInfo.pageCurrent * this.gtInfo.recordLength
                ? this.gtInfo.recordsAfterSearch
                : this.gtInfo.pageCurrent * this.gtInfo.recordLength;
    };
    /**
     * Update totals.
     * @return {?}
     */
    GenericTableComponent.prototype.updateTotals = /**
     * Update totals.
     * @return {?}
     */
    function () {
        this.refreshTotals = !this.refreshTotals;
    };
    /**
     * Get meta data for row.
     * @param {?} row
     * @return {?}
     */
    GenericTableComponent.prototype.getRowState = /**
     * Get meta data for row.
     * @param {?} row
     * @return {?}
     */
    function (row) {
        return typeof this.metaInfo[row.$$gtRowId] === 'undefined'
            ? null
            : this.metaInfo[row.$$gtRowId];
    };
    /**
     * Expand all rows.
     * @param {?} expandedRow - component to render when rows are expanded.
     * @return {?}
     */
    GenericTableComponent.prototype.expandAllRows = /**
     * Expand all rows.
     * @param {?} expandedRow - component to render when rows are expanded.
     * @return {?}
     */
    function (expandedRow) {
        this.expandedRow = expandedRow;
        this._toggleAllRowProperty('isOpen', true);
    };
    /**
     * Collapse all rows.
     * @return {?}
     */
    GenericTableComponent.prototype.collapseAllRows = /**
     * Collapse all rows.
     * @return {?}
     */
    function () {
        this._toggleAllRowProperty('isOpen', false);
    };
    /**
     * Select all rows.
     * @return {?}
     */
    GenericTableComponent.prototype.selectAllRows = /**
     * Select all rows.
     * @return {?}
     */
    function () {
        this._toggleAllRowProperty('isSelected', true);
    };
    /**
     * Deselect all rows.
     * @return {?}
     */
    GenericTableComponent.prototype.deselectAllRows = /**
     * Deselect all rows.
     * @return {?}
     */
    function () {
        this._toggleAllRowProperty('isSelected', false);
    };
    /**
     * Toggle all rows.
     * @return {?}
     */
    GenericTableComponent.prototype.toggleAllRows = /**
     * Toggle all rows.
     * @return {?}
     */
    function () {
        if (this._gtOptions.lazyLoad) {
            if (!this.lazyAllSelected || this.selectedRows.length === 0) {
                this.selectAllRows();
                this.lazyAllSelected = true;
            }
            else {
                this.deselectAllRows();
                this.lazyAllSelected = false;
            }
        }
        else {
            if (this.selectedRows.length !== this.gtData.length) {
                this.selectAllRows();
            }
            else {
                this.deselectAllRows();
            }
        }
    };
    /**
     * Toggle row collapsed state ie. expanded/open or collapsed/closed.
     * @param {?} row - row object that should be expanded/collapsed.
     * @param {?=} expandedRow - component to render when row is expanded.
     * @return {?}
     */
    GenericTableComponent.prototype.toggleCollapse = /**
     * Toggle row collapsed state ie. expanded/open or collapsed/closed.
     * @param {?} row - row object that should be expanded/collapsed.
     * @param {?=} expandedRow - component to render when row is expanded.
     * @return {?}
     */
    function (row, expandedRow) {
        if (expandedRow) {
            this.expandedRow = expandedRow;
        }
        this._toggleRowProperty(row, 'isOpen');
    };
    /**
     * Toggle row selected state ie. selected or not.
     * @param {?} row - row object that should be selected/deselected.
     * @return {?}
     */
    GenericTableComponent.prototype.toggleSelect = /**
     * Toggle row selected state ie. selected or not.
     * @param {?} row - row object that should be selected/deselected.
     * @return {?}
     */
    function (row) {
        this._toggleRowProperty(row, 'isSelected');
    };
    /**
     * @param {?} row
     * @param {?} $event
     * @return {?}
     */
    GenericTableComponent.prototype.rowClick = /**
     * @param {?} row
     * @param {?} $event
     * @return {?}
     */
    function (row, $event) {
        this.gtEvent.emit({
            name: 'gt-row-clicked',
            value: { row: row, event: $event }
        });
    };
    /**
     * Update row data.
     * @param {?} row - row object that has been edited.
     * @param {?} oldValue - row object before edit.
     * @return {?}
     */
    GenericTableComponent.prototype.updateRow = /**
     * Update row data.
     * @param {?} row - row object that has been edited.
     * @param {?} oldValue - row object before edit.
     * @return {?}
     */
    function (row, oldValue) {
        this._toggleRowProperty(row, 'isUpdated', oldValue);
    };
    /**
     * removes a row from the table
     * @param {?} row - the row object to remove
     * @return {?}
     */
    GenericTableComponent.prototype.removeRow = /**
     * removes a row from the table
     * @param {?} row - the row object to remove
     * @return {?}
     */
    function (row) {
        if (this.isRowSelected(row)) {
            this.toggleSelect(row);
        }
        var /** @type {?} */ index = this._gtData.indexOf(row);
        this._gtData.splice(index, 1);
    };
    /**
     * check if a row is selected
     * @param {?} row - row object
     * @return {?}
     */
    GenericTableComponent.prototype.isRowSelected = /**
     * check if a row is selected
     * @param {?} row - row object
     * @return {?}
     */
    function (row) {
        return (this.metaInfo[row.$$gtRowId] && this.metaInfo[row.$$gtRowId].isSelected);
    };
    /**
     * Update meta info for all rows, ie. isSelected, isOpen.
     * @param {?} array - array that holds rows that need to be updated.
     * @param {?} property - name of property that should be changed/toggled.
     * @param {?} active - should rows be expanded/open, selected.
     * @param {?=} exception - update all rows except this one.
     * @return {?}
     */
    GenericTableComponent.prototype._updateMetaInfo = /**
     * Update meta info for all rows, ie. isSelected, isOpen.
     * @param {?} array - array that holds rows that need to be updated.
     * @param {?} property - name of property that should be changed/toggled.
     * @param {?} active - should rows be expanded/open, selected.
     * @param {?=} exception - update all rows except this one.
     * @return {?}
     */
    function (array, property, active, exception) {
        for (var /** @type {?} */ i = 0; i < array.length; i++) {
            if (!this.metaInfo[array[i].$$gtRowId]) {
                this.metaInfo[array[i].$$gtRowId] = {};
            }
            if (exception && array[i].$$gtRowId === exception.$$gtRowId) ;
            else {
                this.metaInfo[array[i].$$gtRowId][property] = active;
            }
        }
    };
    /**
     * Push selected/expanded lazy loaded rows to array with meta data.
     * @param {?} target - array to which rows should be added.
     * @param {?} source - array that holds rows that should be added.
     * @return {?} array with added rows.
     */
    GenericTableComponent.prototype._pushLazyRows = /**
     * Push selected/expanded lazy loaded rows to array with meta data.
     * @param {?} target - array to which rows should be added.
     * @param {?} source - array that holds rows that should be added.
     * @return {?} array with added rows.
     */
    function (target, source) {
        var /** @type {?} */ UNIQUE_ROWS = target.map(function (row) { return row.$$gtRowId; });
        for (var /** @type {?} */ i = 0; i < source.length; i++) {
            // only add if not already in list
            if (UNIQUE_ROWS.indexOf(source[i].$$gtRowId) === -1) {
                target.push(source[i]);
            }
        }
        return target;
    };
    /**
     * Toggle meta info for all rows, ie. isSelected, isOpen.
     * @param {?} property - name of property that should be changed/toggled.
     * @param {?} active - should rows be expanded/open, selected.
     * @return {?}
     */
    GenericTableComponent.prototype._toggleAllRowProperty = /**
     * Toggle meta info for all rows, ie. isSelected, isOpen.
     * @param {?} property - name of property that should be changed/toggled.
     * @param {?} active - should rows be expanded/open, selected.
     * @return {?}
     */
    function (property, active) {
        var /** @type {?} */ eventName;
        var /** @type {?} */ eventValue;
        switch (property) {
            case 'isOpen':
                // check if multiple expanded rows are allowed...
                if (this._gtOptions.rowExpandAllowMultiple === false) {
                    // ...if not, exit function
                    console.log('feature disabled: enable by setting "rowExpandAllowMultiple = true"');
                    return;
                }
                if (active) {
                    eventName = 'expand-all';
                    this.openRows = this._gtOptions.lazyLoad
                        ? this._pushLazyRows(this.openRows, this._gtData[this.gtInfo.pageCurrent - 1].slice())
                        : this._gtData.slice();
                    this._updateMetaInfo(this.openRows, property, active);
                }
                else {
                    eventName = 'collapse-all';
                    this._updateMetaInfo(this.openRows, property, active);
                    this.openRows = [];
                }
                eventValue = {
                    expandedRows: this.openRows,
                    changedRow: 'all'
                };
                break;
            case 'isSelected':
                // check if multi row selection is allowed...
                if (this._gtOptions.rowSelectionAllowMultiple === false) {
                    // ...if not, exit function
                    console.log('feature disabled: enable by setting "rowSelectionAllowMultiple = true"');
                    return;
                }
                if (active) {
                    eventName = 'select-all';
                    this.selectedRows = this._gtOptions.lazyLoad
                        ? this._pushLazyRows(this.selectedRows, this._gtData[this.gtInfo.pageCurrent - 1].slice())
                        : this._gtData.slice();
                    this._updateMetaInfo(this.selectedRows, property, active);
                }
                else {
                    eventName = 'deselect-all';
                    this._updateMetaInfo(this.selectedRows, property, active);
                    this.selectedRows = [];
                }
                eventValue = {
                    selectedRows: this.selectedRows,
                    changedRow: 'all'
                };
                break;
        }
        this.gtEvent.emit({
            name: 'gt-row-' + eventName,
            value: eventValue
        });
    };
    /**
     * Toggle meta info for row, ie. isSelected, isOpen.
     * @param {?} row - row object.
     * @param {?} property - name of property that should be changed/toggled.
     * @param {?=} propertyValues - optional property values that can be passed.
     * @return {?}
     */
    GenericTableComponent.prototype._toggleRowProperty = /**
     * Toggle meta info for row, ie. isSelected, isOpen.
     * @param {?} row - row object.
     * @param {?} property - name of property that should be changed/toggled.
     * @param {?=} propertyValues - optional property values that can be passed.
     * @return {?}
     */
    function (row, property, propertyValues) {
        var /** @type {?} */ eventName;
        var /** @type {?} */ eventValue;
        // make sure gtRowId exists on row object
        if (typeof row.$$gtRowId !== 'undefined') {
            // check if meta info exists for row
            if (!this.metaInfo[row.$$gtRowId]) {
                // if not, add object to store meta info
                this.metaInfo[row.$$gtRowId] = {};
            }
            switch (property) {
                case 'isOpen':
                    var /** @type {?} */ opened = this.metaInfo[row.$$gtRowId][property];
                    // check if multiple expanded rows are allowed...
                    if (this._gtOptions.rowExpandAllowMultiple === false) {
                        // ...if not, collapse all rows except current row
                        this._updateMetaInfo(this.openRows, property, false, row);
                        this.openRows = [];
                    }
                    // check if row is expanded
                    if (!opened) {
                        eventName = 'expand';
                        // add row to expanded rows
                        this.openRows.push(row);
                    }
                    else {
                        eventName = 'collapse';
                        // loop through expanded rows...
                        for (var /** @type {?} */ i = 0; i < this.openRows.length; i++) {
                            // if expanded row equals passed row...
                            if (this.openRows[i].$$gtRowId === row.$$gtRowId) {
                                // ...remove row from expanded rows...
                                this.openRows.splice(i, 1);
                                // ...and exit loop
                                break;
                            }
                        }
                    }
                    eventValue = {
                        expandedRows: this.openRows,
                        changedRow: row
                    };
                    break;
                case 'isSelected':
                    var /** @type {?} */ selected = this.metaInfo[row.$$gtRowId][property];
                    // check if multi row selection is allowed...
                    if (this._gtOptions.rowSelectionAllowMultiple === false) {
                        // ...if not, deselect all rows except current row
                        this._updateMetaInfo(this.selectedRows, property, false, row);
                        this.selectedRows = [];
                    }
                    // check if row is selected
                    if (!selected) {
                        eventName = 'select';
                        // add row to selected rows
                        this.selectedRows.push(row);
                    }
                    else {
                        if (this.gtOptions.lazyLoad && this.lazyAllSelected) {
                            this.lazyAllSelected = false;
                        }
                        eventName = 'deselect';
                        // loop through selected rows...
                        for (var /** @type {?} */ i = 0; i < this.selectedRows.length; i++) {
                            // if selected row equals passed row...
                            if (this.selectedRows[i].$$gtRowId === row.$$gtRowId) {
                                // ...remove row from selected rows...
                                this.selectedRows.splice(i, 1);
                                // ...and exit loop
                                break;
                            }
                        }
                    }
                    eventValue = {
                        selectedRows: this.selectedRows,
                        changedRow: row
                    };
                    break;
                case 'isUpdated':
                    eventName = 'updated';
                    var /** @type {?} */ oldValue = propertyValues;
                    // check if edit object exists for row
                    if (typeof this.metaInfo[row.$$gtRowId][property] === 'undefined') {
                        this.metaInfo[row.$$gtRowId][property] = {
                            originalValue: oldValue,
                            oldValue: oldValue,
                            newValue: row
                        };
                    }
                    else {
                        this.metaInfo[row.$$gtRowId][property].oldValue = oldValue;
                        this.metaInfo[row.$$gtRowId][property].newValue = row;
                    }
                    eventValue = this.metaInfo[row.$$gtRowId][property];
                    this.redraw();
                    this.inlineEditCancel(row);
                    // this.gtData = [...this.gtData.map((r) => { return{...r}; })];
                    break;
            }
            this.gtEvent.emit({
                name: 'gt-row-' + eventName,
                value: eventValue
            });
            if (property !== 'isUpdated') {
                this.metaInfo[row.$$gtRowId][property] = !this.metaInfo[row.$$gtRowId][property];
            }
        }
    };
    /**
     * Update column.
     * @param {?} $event - key up event.
     * @param {?} row - row object.
     * @param {?} column - column object.
     * @return {?}
     */
    GenericTableComponent.prototype.gtUpdateColumn = /**
     * Update column.
     * @param {?} $event - key up event.
     * @param {?} row - row object.
     * @param {?} column - column object.
     * @return {?}
     */
    function ($event, row, column) {
        this._editRow(row, column);
    };
    /**
     * Dropdown select.
     * @param {?} row - row object.
     * @param {?} column - column object.
     * @return {?}
     */
    GenericTableComponent.prototype.gtDropdownSelect = /**
     * Dropdown select.
     * @param {?} row - row object.
     * @param {?} column - column object.
     * @return {?}
     */
    function (row, column) {
        var /** @type {?} */ oldValue = __assign({}, row);
        row[column.objectKey] = column.renderValue;
        this.updateRow(row, oldValue);
    };
    /**
     * @param {?} row
     * @param {?} column
     * @return {?}
     */
    GenericTableComponent.prototype._editRow = /**
     * @param {?} row
     * @param {?} column
     * @return {?}
     */
    function (row, column) {
        var /** @type {?} */ OBJECT_KEY = column.objectKey; // declare object key which contains changes
        // check if cell has changed value
        column.edited = row[column.objectKey] !== column.renderValue;
        // check if row contains changes...
        if (!this.editedRows[row.$$gtRowId]) {
            // if not, create an object for the changed row
            this.editedRows[row.$$gtRowId] = {
                changes: {},
                // create placeholder for changes
                row: row // store reference to the row that should be updated
            };
        }
        // store changed column under changes if it has been edited
        if (column.edited) {
            this.editedRows[row.$$gtRowId].changes[OBJECT_KEY] = column;
        }
        else {
            // delete change object if column is unchanged
            delete this.editedRows[row.$$gtRowId].changes[OBJECT_KEY];
            // check how many columns have been changed
            var /** @type {?} */ CHANGED_COLUMNS = Object.keys(this.editedRows[row.$$gtRowId].changes).length;
            if (CHANGED_COLUMNS === 0) {
                // delete row from edited rows if no columns have been edited
                delete this.editedRows[row.$$gtRowId];
            }
        }
        // if no listener is present...
        if (!this.globalInlineEditListener) {
            // ...listen for update event
            this._listenForKeydownEvent();
        }
    };
    /**
     * Listen for key down event - listen for key down event during inline edit.
     * @return {?}
     */
    GenericTableComponent.prototype._listenForKeydownEvent = /**
     * Listen for key down event - listen for key down event during inline edit.
     * @return {?}
     */
    function () {
        var _this = this;
        // add global listener for key down events
        this.globalInlineEditListener = this.renderer.listen('document', 'keydown', function ($event) {
            switch ($event.key) {
                case 'Enter': // update data object
                    // update data object
                    _this.inlineEditUpdate();
                    break;
                case 'Escape': // cancel
                    // cancel
                    _this.inlineEditCancel();
                    break;
            }
        });
    };
    /**
     * Inline edit update - accept changes and update row values.
     * @return {?}
     */
    GenericTableComponent.prototype.inlineEditUpdate = /**
     * Inline edit update - accept changes and update row values.
     * @return {?}
     */
    function () {
        var _this = this;
        // loop through rows that have been edited
        Object.keys(this.editedRows).map(function (key) {
            var /** @type {?} */ ROW = _this.editedRows[key].row; // row to update
            var /** @type {?} */ CHANGES = _this.editedRows[key].changes; // changes to the row
            // loop through changes in row
            Object.keys(CHANGES).map(function (objectKey) {
                var /** @type {?} */ oldValue = __assign({}, ROW);
                ROW[objectKey] = CHANGES[objectKey].renderValue; // update data value
                _this.updateRow(ROW, oldValue); // update meta info for row and send event
                CHANGES[objectKey].edited = false; // disable edit mode
            });
        });
        // clear rows marked as edited as the rows have been updated
        this.editedRows = {};
        // remove listener
        this._stopListeningForKeydownEvent();
    };
    /**
     * Inline edit cancel - cancel and reset inline edits.
     * @param {?=} row
     * @return {?}
     */
    GenericTableComponent.prototype.inlineEditCancel = /**
     * Inline edit cancel - cancel and reset inline edits.
     * @param {?=} row
     * @return {?}
     */
    function (row) {
        var _this = this;
        if (row) {
            delete this.editedRows[row.$$gtRowId];
            // remove listener
            this._stopListeningForKeydownEvent();
            return;
        }
        // loop through rows that have been edited
        Object.keys(this.editedRows).map(function (key) {
            var /** @type {?} */ ROW = _this.editedRows[key].row; // row to update
            var /** @type {?} */ CHANGES = _this.editedRows[key].changes; // changes to the row
            // loop through changes in row
            Object.keys(CHANGES).map(function (objectKey) {
                CHANGES[objectKey].renderValue = ROW[objectKey]; // reset rendered value
                CHANGES[objectKey].edited = false; // disable edit mode
            });
        });
        // clear rows marked as edited as the rows have been updated
        this.editedRows = {};
        // remove listener
        this._stopListeningForKeydownEvent();
    };
    /**
     * Stop listening for key down event - stop listening for key down events passed during inline edit.
     * @return {?}
     */
    GenericTableComponent.prototype._stopListeningForKeydownEvent = /**
     * Stop listening for key down event - stop listening for key down events passed during inline edit.
     * @return {?}
     */
    function () {
        if (this.globalInlineEditListener) {
            this.globalInlineEditListener();
            this.globalInlineEditListener = null;
        }
    };
    /**
     * Apply filter(s).
     * @param {?} filter - object containing key value pairs, where value should be array of values.
     * @return {?}
     */
    GenericTableComponent.prototype.gtApplyFilter = /**
     * Apply filter(s).
     * @param {?} filter - object containing key value pairs, where value should be array of values.
     * @return {?}
     */
    function (filter) {
        this.gtInfo.filter = filter;
        // go to first page
        this.goToPage(1);
        this.updateTotals();
    };
    /**
     * Clear/remove applied filter(s).
     * @return {?}
     */
    GenericTableComponent.prototype.gtClearFilter = /**
     * Clear/remove applied filter(s).
     * @return {?}
     */
    function () {
        this.gtInfo.filter = false;
        this.updateTotals();
        // this.updateRecordRange();
    };
    /**
     * Search
     * @param {?} value - string containing one or more words
     * @return {?}
     */
    GenericTableComponent.prototype.gtSearch = /**
     * Search
     * @param {?} value - string containing one or more words
     * @return {?}
     */
    function (value) {
        this.gtInfo.searchTerms = value;
        // always go to first page when searching
        this.goToPage(1);
        this.updateTotals();
    };
    /**
     * Add rows
     * @param {?} rows - rows to add
     * @return {?} new data array.
     */
    GenericTableComponent.prototype.gtAdd = /**
     * Add rows
     * @param {?} rows - rows to add
     * @return {?} new data array.
     */
    function (rows) {
        this.gtData = __spread(this.gtData, rows);
        return __spread(this.gtData);
    };
    /**
     * Delete row
     * @param {?} objectKey - object key you want to find match with
     * @param {?} value - the value that should be deleted
     * @param {?=} match - all: delete all matches, first: delete first match (default)
     * @return {?} new data array.
     */
    GenericTableComponent.prototype.gtDelete = /**
     * Delete row
     * @param {?} objectKey - object key you want to find match with
     * @param {?} value - the value that should be deleted
     * @param {?=} match - all: delete all matches, first: delete first match (default)
     * @return {?} new data array.
     */
    function (objectKey, value, match) {
        if (match === void 0) { match = 'first'; }
        if (match === 'first') {
            for (var /** @type {?} */ i = 0; i < this.gtData.length; i++) {
                if (this.gtData[i][objectKey] === value) {
                    if (this.isRowSelected(this.gtData[i])) {
                        this.toggleSelect(this.gtData[i]);
                    }
                    this.gtData.splice(i, 1);
                    this.gtData = __spread(this.gtData);
                    if (match === 'first') {
                        break;
                    }
                }
            }
        }
        else {
            for (var /** @type {?} */ i = this.gtData.length; i > 0; i--) {
                if (this.gtData[i - 1][objectKey] === value) {
                    if (this.isRowSelected(this.gtData[i - 1])) {
                        this.toggleSelect(this.gtData[i - 1]);
                    }
                    this.gtData.splice(i - 1, 1);
                    this.gtData = __spread(this.gtData);
                }
            }
        }
        return __spread(this.gtData);
    };
    /**
     * Create store to hold previously loaded records.
     * @param {?} records - total number of records in store.
     * @param {?} perPage - how many records to show per page.
     * @return {?} a nested array to hold records per page.
     */
    GenericTableComponent.prototype.createStore = /**
     * Create store to hold previously loaded records.
     * @param {?} records - total number of records in store.
     * @param {?} perPage - how many records to show per page.
     * @return {?} a nested array to hold records per page.
     */
    function (records, perPage) {
        var /** @type {?} */ stores = Math.ceil(records / perPage);
        var /** @type {?} */ store = [];
        for (var /** @type {?} */ i = 0; i < stores; i++) {
            store[i] = [];
        }
        return store;
    };
    /**
     * Create placeholders for rows while loading data from back-end.
     * @param {?} perPage - how many records to show per page.
     * @return {?} an array containing empty records to be presented while fetching real data.
     */
    GenericTableComponent.prototype.loadingContent = /**
     * Create placeholders for rows while loading data from back-end.
     * @param {?} perPage - how many records to show per page.
     * @return {?} an array containing empty records to be presented while fetching real data.
     */
    function (perPage) {
        // create row object
        var /** @type {?} */ rowObject = {
            $$loading: true
        };
        var /** @type {?} */ order = 0;
        // sort settings by column order
        this._gtSettings.sort(this.getColumnOrder);
        // loop through all settings objects...
        for (var /** @type {?} */ i = 0; i < this._gtSettings.length; i++) {
            var /** @type {?} */ setting = this._gtSettings[i];
            // ...if column is visible and enabled...
            if (setting.visible !== false && setting.enabled !== false) {
                // ...if first column, set value to loading text otherwise leave it empty
                if (order === 0) {
                    rowObject[setting.objectKey] = this.gtTexts.loading;
                    this.loadingProperty = setting.objectKey;
                }
                else {
                    rowObject[setting.objectKey] = '';
                }
                order++;
            }
            else {
                rowObject[setting.objectKey] = '';
            }
        }
        // create content placeholder
        var /** @type {?} */ contentPlaceholder = [];
        // create equal number of rows as rows per page
        for (var /** @type {?} */ i = 0; i < perPage; i++) {
            // ...add temporary row object
            contentPlaceholder.push(rowObject);
        }
        return contentPlaceholder;
    };
    /**
     * Export data as CSV
     * @param {?=} fileName - optional file name (overrides default file name).
     * @param {?=} useBOM - use BOM (byte order marker).
     * @return {?}
     */
    GenericTableComponent.prototype.exportCSV = /**
     * Export data as CSV
     * @param {?=} fileName - optional file name (overrides default file name).
     * @param {?=} useBOM - use BOM (byte order marker).
     * @return {?}
     */
    function (fileName, useBOM) {
        var _this = this;
        if (useBOM === void 0) { useBOM = false; }
        var /** @type {?} */ data = this.data.exportData;
        var /** @type {?} */ csv = '';
        var /** @type {?} */ BOM = '\uFEFF';
        // csv export headers
        for (var /** @type {?} */ i = 0; i < this._gtSettings.length; i++) {
            if (this._gtSettings[i].export !== false) {
                csv += this.getProperty(this._gtFields, this._gtSettings[i].objectKey)
                    .name;
                if (i < this._gtSettings.length - 1) {
                    csv += this._gtOptions.csvDelimiter;
                }
            }
        }
        // csv export body
        data.forEach(function (row) {
            csv += '\n';
            for (var /** @type {?} */ i = 0; i < _this._gtSettings.length; i++) {
                if (_this._gtSettings[i].export !== false) {
                    // get field settings
                    var /** @type {?} */ fieldSetting = _this.getProperty(_this._gtFields, _this._gtSettings[i].objectKey);
                    // get export value, if export function is defined use it otherwise check for value function and as a last resort export raw data
                    var /** @type {?} */ exportValue = fieldSetting.export && typeof fieldSetting.export === 'function'
                        ? fieldSetting.export(row)
                        : fieldSetting.value && typeof fieldSetting.value === 'function'
                            ? fieldSetting.value(row)
                            : row[_this._gtSettings[i].objectKey];
                    // escape export value using double quotes (") if export value contains delimiter
                    exportValue =
                        typeof exportValue === 'string' &&
                            exportValue.indexOf(_this._gtOptions.csvDelimiter) !== -1
                            ? '"' + exportValue + '"'
                            : exportValue;
                    csv += exportValue;
                    if (i < _this._gtSettings.length - 1) {
                        csv += _this._gtOptions.csvDelimiter;
                    }
                }
            }
        });
        var /** @type {?} */ blob = new Blob([(useBOM ? BOM : '') + csv], {
            type: 'text/csv;charset=utf-8'
        });
        if (window.navigator.msSaveOrOpenBlob) {
            navigator.msSaveOrOpenBlob(blob, fileName ? fileName + '.csv' : this.gtTexts.csvDownload + '.csv');
        }
        else {
            var /** @type {?} */ link = document.createElement('a');
            link.style.display = 'none';
            document.body.appendChild(link);
            if (link.download !== undefined) {
                link.setAttribute('href', 'data:text/csv;charset=utf-8,' +
                    encodeURIComponent((useBOM ? BOM : '') + csv)); // URL.createObjectURL(blob));
                link.setAttribute('download', fileName ? fileName + '.csv' : this.gtTexts.csvDownload + '.csv');
                document.body.appendChild(link);
                link.click();
            }
            else {
                csv = 'data:text/csv;charset=utf-8,' + (useBOM ? BOM : '') + csv;
                window.open(encodeURIComponent(csv));
            }
            document.body.removeChild(link);
        }
        // emit export event
        this.gtEvent.emit({
            name: 'gt-exported-csv',
            value: fileName ? fileName : this.gtTexts.csvDownload + '.csv'
        });
    };
    /**
     * @return {?}
     */
    GenericTableComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        // if number of row to display from start is set to null or 0...
        if (!this.gtOptions.numberOfRows) {
            // ...change row length
            this.changeRowLength(this.gtOptions.numberOfRows);
        }
        this.restructureSorting();
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    GenericTableComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        // if gt texts have changed...
        if (changes['gtTexts']) {
            // ...extend gtOptions default values with values passed into component
            this.gtTexts = /** @type {?} */ (this.extend(this.gtDefaultTexts, this.gtTexts));
        }
        // if lazy loading data and paging information is available...
        if (this.gtOptions.lazyLoad && this.gtInfo) {
            // ...calculate total number of pages
            this.gtInfo.pageTotal = Math.ceil(this.gtInfo.recordsAfterSearch / this.gtInfo.recordLength);
            // ...declare store position
            var /** @type {?} */ storePosition = this.gtInfo.pageCurrent - 1;
            // ...and if store is empty or page length has changed...
            if (this.store.length === 0 ||
                this.store[0].length !== this.gtInfo.recordLength) {
                // ...create store
                this.store = this.createStore(this.gtInfo.recordsAfterSearch, this.gtInfo.recordLength);
            }
            // ...store retrieved data in store at store position
            this.store[storePosition] = this.gtData;
            this.gtInfo.visibleRecords = __spread(this.gtData); // add visible rows
            // replace data with store
            this._gtData = this.store;
            this.loading = false;
            this.updateRecordRange();
            this.gtEvent.emit({
                name: 'gt-info',
                value: this.gtInfo
            });
        }
        else if (this._gtData &&
            this._gtData.length >= 0 &&
            changes['gtData'] &&
            changes['gtData'].previousValue) {
            this.loading = false;
        }
        else if (changes['gtData'] &&
            changes['gtData'].firstChange &&
            this._gtData &&
            this._gtData.length > 0) {
            this.loading = false;
        }
    };
    /**
     * @param {?} index
     * @param {?} item
     * @return {?}
     */
    GenericTableComponent.prototype.trackByFn = /**
     * @param {?} index
     * @param {?} item
     * @return {?}
     */
    function (index, item) {
        return item.$$gtRowId;
    };
    /**
     * @param {?} index
     * @param {?} item
     * @return {?}
     */
    GenericTableComponent.prototype.trackByColumnFn = /**
     * @param {?} index
     * @param {?} item
     * @return {?}
     */
    function (index, item) {
        return item.objectKey;
    };
    /**
     * @return {?}
     */
    GenericTableComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        // remove listener
        this._stopListeningForKeydownEvent();
    };
    GenericTableComponent.decorators = [
        { type: Component, args: [{
                    selector: 'generic-table',
                    template: "<table class=\"table\" ngClass=\"{{gtClasses}} {{gtOptions.stack ? 'table-stacked':''}}\"\n       *ngIf=\"gtFields && gtSettings && (gtFields | gtVisible:gtSettings:refreshPipe).length > 0\">\n  <thead>\n  <tr>\n    <th class=\"gt-sort-label\" *ngIf=\"gtOptions.stack\">{{gtTexts.sortLabel}}</th>\n    <th *ngFor=\"let column of gtSettings | gtVisible:gtSettings:refreshPipe\"\n        ngClass=\"{{column.objectKey +'-column' | dashCase}} {{gtFields | gtProperty:column.objectKey:'classNames'}} {{column.sortEnabled ? 'sort-'+column.sort:''}} {{column.sortEnabled && column.sortOrder >= 0  ? 'sort-order-'+column.sortOrder:''}} {{ gtFields | gtColumnClass:column }}\"\n        (click)=\"column.sortEnabled ? gtSort(column.objectKey,$event):'';\">\n      <span *ngIf=\"!(gtFields | gtProperty:column.objectKey:'header')\">{{gtFields | gtProperty:column.objectKey:'name'}}</span>\n      <gt-custom-component-factory *ngIf=\"(gtFields | gtProperty:column.objectKey:'header')\"\n                                   [type]=\"(gtFields | gtProperty:column.objectKey:'header')?.type\"\n                                   [injector]=\"(gtFields | gtProperty:column.objectKey:'header')?.injector\"\n                                   [column]=\"gtFields | gtProperty:column.objectKey:'name'\"></gt-custom-component-factory>\n      <gt-checkbox *ngIf=\"(gtFields | gtProperty:column.objectKey:'columnComponent')?.type === 'checkbox'\" [checked]=\"(gtOptions.lazyLoad ? lazyAllSelected:selectedRows.length === gtData.length)\" (changed)=\"toggleAllRows()\"></gt-checkbox>\n    </th>\n  </tr>\n  </thead>\n  <ng-template\n    [ngIf]=\"gtTotals && (gtOptions.lazyLoad === false ? (gtData | gtFilter:gtInfo.filter:gtInfo:refreshFilter:gtData.length | gtSearch:gtInfo.searchTerms:gtInfo:gtSettings:gtFields:gtData.length).length > 0 : gtData.length > 0)\">\n    <thead class=\"gt-totals\">\n    <tr *ngFor=\"let total of gtTotals | gtTotalsPosition\">\n      <td *ngFor=\"let column of gtSettings | gtVisible:gtSettings:refreshPipe;let i = index;\"\n          ngClass=\"{{column.objectKey +'-totals-column' | dashCase}} {{gtFields | gtProperty:column.objectKey:'classNames'}} {{ gtFields | gtColumnClass:column }}\">\n        <span *ngIf=\"i === 0\" class=\"float-left\">{{total.name}}</span><span\n        [innerHTML]=\"total.fields[column.objectKey] | gtTotals:(total.update === false || gtOptions.lazyLoad === true) ? gtData:(gtData | gtFilter:gtInfo.filter:gtInfo:refreshFilter:gtData.length | gtSearch:gtInfo.searchTerms:gtInfo:gtSettings:gtFields:gtData.length):column.objectKey:refreshTotals\"></span>\n      </td>\n    </tr>\n    </thead>\n    <tfoot class=\"gt-totals\">\n    <tr *ngFor=\"let total of gtTotals | gtTotalsPosition:'footer'\">\n      <td *ngFor=\"let column of gtSettings | gtVisible:gtSettings:refreshPipe;let i = index;\"\n          ngClass=\"{{column.objectKey +'-totals-column' | dashCase}} {{gtFields | gtProperty:column.objectKey:'classNames'}} {{ gtFields | gtColumnClass:column }}\">\n        <span *ngIf=\"i === 0\" class=\"float-left\">{{total.name}}</span><span\n        [innerHTML]=\"total.fields[column.objectKey] | gtTotals:(total.update === false || gtOptions.lazyLoad === true) ? gtData:(gtData | gtFilter:gtInfo.filter:gtInfo:refreshFilter:gtData.length | gtSearch:gtInfo.searchTerms:gtInfo:gtSettings:gtFields:gtData.length):column.objectKey:refreshTotals\"></span>\n      </td>\n    </tr>\n    </tfoot>\n  </ng-template>\n  <tbody *ngIf=\"gtData && gtInfo\">\n  <ng-template class=\"table-rows\" ngFor let-row let-last=\"last\" [ngForTrackBy]=\"trackByFn\"\n               [ngForOf]=\"gtOptions.lazyLoad && gtInfo ? (gtData[gtInfo.pageCurrent-1]) : (gtData | gtFilter:gtInfo.filter:gtInfo:refreshFilter:gtData.length | gtSearch:gtInfo.searchTerms:gtInfo:gtSettings:gtFields:gtData.length | gtOrderBy:sortOrder:gtFields:refreshSorting:gtData.length | gtChunk:gtInfo:gtInfo.recordLength:gtInfo.pageCurrent:refreshPageArray:gtData.length:gtEvent:data | gtRowClass:gtFields)\">\n    <tr [ngClass]=\"{'row-selected':metaInfo[row.$$gtRowId]?.isSelected, 'row-open':metaInfo[row.$$gtRowId]?.isOpen, 'row-loading':loading, 'row-expandable':gtRowComponent}\"\n        class=\"{{row.$$gtRowClass}}\"\n        (click)=\"gtOptions.rowSelection ? toggleSelect(row):rowClick(row, $event)\">\n      <td *ngFor=\"let column of row | gtRender:gtSettings:gtFields:refreshPipe:loading:gtOptions.highlightSearch:gtInfo.searchTerms;trackBy:trackByColumnFn\"\n          ngClass=\"{{column.objectKey +'-column' | dashCase}} {{gtFields | gtProperty:column.objectKey:'classNames'}} {{(gtFields | gtProperty:column.objectKey:'inlineEdit') ? 'gt-inline-edit':''}} {{column.edited ? 'gt-edited':''}} {{ gtFields | gtColumnClass:column:row }}\">\n                        <span class=\"gt-row-label\"\n                              *ngIf=\"gtOptions.stack\">{{(gtFields | gtProperty:column.objectKey:'stackedHeading') ? (gtFields | gtProperty:column.objectKey:'stackedHeading') : (gtFields | gtProperty:column.objectKey:'name')}}</span>\n        <gt-custom-component-factory *ngIf=\"column.columnComponent && column.columnComponent.type !== 'checkbox'\" class=\"gt-row-content\"\n                                     [type]=\"column.columnComponent.type\"\n                                     [injector]=\"column.columnComponent.injector\" [row]=\"row\"\n                                     [column]=\"column\" (redrawEvent)=\"redraw($event)\"\n                                     [searchTerms]=\"gtInfo.searchTerms\"  (searchEvent)=\"redraw($event)\"\n                                     (click)=\"column.click ? column.click(row,column,$event):'';column.expand ? toggleCollapse(row, column.expand):''\"></gt-custom-component-factory>\n        <span *ngIf=\"!column.columnComponent && (!(gtFields | gtProperty:column.objectKey:'inlineEdit') || ((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | gtIsObservable) && !((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | async) || (!((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | gtIsObservable) && !((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | gtIsEditable:row:refreshPipe)))\"\n              class=\"gt-row-content\" [innerHTML]=\"column.renderValue\"\n              (click)=\"column.click ? column.click(row,column,$event):'';column.expand ? toggleCollapse(row, column.expand):''\"></span>\n        <ng-template\n          [ngIf]=\"!column.columnComponent && (((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | gtIsObservable) && ((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | async) || ((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active | gtIsEditable:row:refreshPipe))\">\n          <ng-template [ngIf]=\"([true,'email','number','password', 'text'].indexOf((gtFields | gtProperty:column.objectKey:'inlineEdit').type) !== -1) || !(gtFields | gtProperty:column.objectKey:'inlineEdit').type\">\n            <input class=\"inline-edit\" [attr.type]=\"!(gtFields | gtProperty:column.objectKey:'inlineEdit').type ? 'text' : !((gtFields | gtProperty:column.objectKey:'inlineEdit').type | gtIsObservable) ? (gtFields | gtProperty:column.objectKey:'inlineEdit').type:(gtFields | gtProperty:column.objectKey:'inlineEdit').type | async\" [(ngModel)]=\"column.renderValue\"\n                   (input)=\"gtUpdateColumn($event,row, column)\">\n            <span class=\"gt-inline-edit-notice\">{{gtTexts.inlineEditEdited}}</span>\n          </ng-template>\n          <gt-dropdown\n            *ngIf=\"(((gtFields | gtProperty:column.objectKey:'inlineEdit').type) && ((gtFields | gtProperty:column.objectKey:'inlineEdit').type).length > 0) || ((gtFields | gtProperty:column.objectKey:'inlineEdit').type | gtIsObservable)\"\n            [options]=\"!((gtFields | gtProperty:column.objectKey:'inlineEdit').type | gtIsObservable) ? (gtFields | gtProperty:column.objectKey:'inlineEdit').type : (gtFields | gtProperty:column.objectKey:'inlineEdit').type | async\"\n            [id]=\"'_' + row.$$gtRowId + '_' + column.objectKey\"\n            [(selected)]=\"column.renderValue\" (selectedChange)=\"gtDropdownSelect(row, column)\">Add\n            inline editing module\n          </gt-dropdown>\n        </ng-template>\n        <ng-template [ngIf]=\"!column.columnComponent && !((gtFields | gtProperty:column.objectKey:'inlineEdit')?.active) \">\n          <ng-template\n            [ngIf]=\"[true,'email','number','password'].indexOf(gtFields | gtProperty:column.objectKey:'inlineEdit') !== -1\">\n            <input class=\"inline-edit\" [attr.type]=\"(gtFields | gtProperty:column.objectKey:'inlineEdit') === true ? 'text':(gtFields | gtProperty:column.objectKey:'inlineEdit')\" [(ngModel)]=\"column.renderValue\"\n                   (input)=\"gtUpdateColumn($event,row, column)\">\n            <span class=\"gt-inline-edit-notice\">{{gtTexts.inlineEditEdited}}</span>\n          </ng-template>\n          <gt-dropdown\n            *ngIf=\"(gtFields | gtProperty:column.objectKey:'inlineEdit') && [true,'email','number','password'].indexOf(gtFields | gtProperty:column.objectKey:'inlineEdit') === -1\"\n            [options]=\"gtFields | gtProperty:column.objectKey:'inlineEdit'\"\n            [id]=\"'_' + row.$$gtRowId + '_' + column.objectKey\"\n            [(selected)]=\"column.renderValue\" (selectedChange)=\"gtDropdownSelect(row, column)\">Add\n            inline editing module\n          </gt-dropdown>\n        </ng-template>\n        <gt-checkbox *ngIf=\"column.columnComponent && column.columnComponent.type === 'checkbox'\" [checked]=\"metaInfo[row.$$gtRowId]?.isSelected\" (changed)=\"toggleSelect(row)\"></gt-checkbox>\n      </td>\n    </tr>\n    <tr class=\"row-expanded\" *ngIf=\"metaInfo[row.$$gtRowId]?.isOpen\">\n      <td [attr.colspan]=\"(gtFields | gtVisible:gtSettings:refreshPipe).length\">\n        <gt-expanding-row [row]=\"row\"\n                          [type]=\"expandedRow.component ? expandedRow.component:gtRowComponent\"\n                          [columnWidth]=\"columnWidth\"\n                          [gtFields]=\"gtFields\"\n                          [gtOptions]=\"gtOptions\"\n                          [gtEvent]=\"gtEvent\"\n                          [gtInfo]=\"gtInfo\"\n                          [gtSettings]=\"gtSettings\"\n                          [data]=\"expandedRow.data ? expandedRow.data:row\"\n                          (redrawEvent)=\"redraw($event)\"\n                          (toggleRowEvent)=\"toggleCollapse($event)\"></gt-expanding-row>\n      </td>\n    </tr>\n    <tr *ngIf=\"gtOptions.reportColumnWidth && last\">\n      <td style=\"padding: 0; border:none;\"\n          *ngFor=\"let column of gtSettings | gtVisible:gtSettings:refreshPipe\" gtColumnWidth\n          [objectKey]=\"column.objectKey\" [widths]=\"columnWidth\"></td>\n    </tr>\n  </ng-template>\n  <tr *ngIf=\"gtInfo.pageTotal === 0 && (gtInfo.searchTerms || gtInfo.filter) && !loading\">\n    <td class=\"gt-no-matching-results\" [attr.colspan]=\"(gtFields | gtVisible:gtSettings).length\">\n      {{gtTexts.noMatchingData}}\n    </td>\n  </tr>\n  <tr *ngIf=\"gtInfo.pageTotal === 0 && !(gtInfo.searchTerms || gtInfo.filter) && !loading\">\n    <td class=\"gt-no-results\" [attr.colspan]=\"(gtFields | gtVisible:gtSettings).length\">{{gtTexts.noData}}\n    </td>\n  </tr>\n  <tr *ngIf=\"gtInfo.pageTotal === 0 && loading\">\n    <td class=\"gt-loading-data\" [attr.colspan]=\"(gtFields | gtVisible:gtSettings).length\">{{gtTexts.loading}}</td>\n  </tr>\n  </tbody>\n</table>\n<table class=\"table\" ngClass=\"{{gtClasses}} {{gtOptions.stack ? 'table-stacked':''}}\"\n       *ngIf=\"gtFields && gtSettings && (gtFields | gtVisible:gtSettings:refreshPipe).length === 0\">\n  <thead>\n  <tr>\n    <th class=\"gt-no-visible-columns\">{{gtTexts.noVisibleColumnsHeading}}</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td class=\"gt-no-visible-columns\">{{gtTexts.noVisibleColumns}}</td>\n  </tr>\n  </tbody>\n</table>\n<table class=\"table\" ngClass=\"{{gtClasses}} {{gtOptions.stack ? 'table-stacked':''}}\"\n       *ngIf=\"!gtFields || !gtSettings\">\n  <thead>\n  <tr>\n    <th class=\"gt-loading-config\">&nbsp;</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr>\n    <td class=\"gt-loading-config\">&nbsp;</td>\n  </tr>\n  </tbody>\n</table>\n"
                },] },
    ];
    /** @nocollapse */
    GenericTableComponent.ctorParameters = function () { return [
        { type: Renderer2, },
        { type: GtMetaPipe, },
    ]; };
    GenericTableComponent.propDecorators = {
        "gtOptions": [{ type: Input },],
        "gtTotals": [{ type: Input },],
        "gtFields": [{ type: Input },],
        "gtSettings": [{ type: Input },],
        "gtData": [{ type: Input },],
        "gtRowComponent": [{ type: Input },],
        "gtTexts": [{ type: Input },],
        "gtClasses": [{ type: Input },],
        "gtEvent": [{ type: Output },],
        "gtInfo": [{ type: Input },],
    };
    return GenericTableComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtTableInfoComponent = /** @class */ (function () {
    function GtTableInfoComponent(_changeDetectionRef) {
        this._changeDetectionRef = _changeDetectionRef;
    }
    /**
     * @return {?}
     */
    GtTableInfoComponent.prototype.ngAfterViewChecked = /**
     * @return {?}
     */
    function () {
        this._changeDetectionRef.detectChanges();
    };
    GtTableInfoComponent.decorators = [
        { type: Component, args: [{
                    selector: 'gt-table-info',
                    template: "<span *ngIf=\"genericTable.gtInfo\">{{(customText? customText:genericTable.gtTexts) | gtTableInfo:\n\t\tgenericTable.gtInfo:\n\t\tgenericTable.gtInfo.recordsAfterSearch:\n\t\tgenericTable.gtInfo.recordFrom:\n\t\tgenericTable.gtInfo.recordTo:\n\t\tgenericTable.gtInfo.recordsAll:\n\t\tgenericTable.gtTexts.loading:\n\t\tgenericTable.gtTexts.tableInfoAfterSearch}}</span>"
                },] },
    ];
    /** @nocollapse */
    GtTableInfoComponent.ctorParameters = function () { return [
        { type: ChangeDetectorRef, },
    ]; };
    GtTableInfoComponent.propDecorators = {
        "genericTable": [{ type: Input },],
        "customText": [{ type: Input },],
    };
    return GtTableInfoComponent;
}());
var TableInfoPipe = /** @class */ (function () {
    function TableInfoPipe() {
    }
    /**
     * @param {?} texts
     * @param {?} keys
     * @param {?} recordsAfterSearch
     * @param {?} recordFrom
     * @param {?} recordTo
     * @param {?} recordsAll
     * @param {?} loading
     * @param {?} tableInfoAfterSearch
     * @return {?}
     */
    TableInfoPipe.prototype.transform = /**
     * @param {?} texts
     * @param {?} keys
     * @param {?} recordsAfterSearch
     * @param {?} recordFrom
     * @param {?} recordTo
     * @param {?} recordsAll
     * @param {?} loading
     * @param {?} tableInfoAfterSearch
     * @return {?}
     */
    function (texts, keys, recordsAfterSearch, recordFrom, recordTo, recordsAll, loading, tableInfoAfterSearch) {
        var /** @type {?} */ text = typeof texts === 'object' ? texts.tableInfo : '';
        if (keys.recordsAfterSearch !== keys.recordsAll) {
            text = typeof texts === 'object' ? texts.tableInfoAfterSearch : '';
        }
        for (var /** @type {?} */ key in keys) {
            if (keys.hasOwnProperty(key)) {
                var /** @type {?} */ searchString = new RegExp('#' + key, 'g');
                text = text.replace(searchString, keys[key]);
            }
        }
        return text;
    };
    TableInfoPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtTableInfo'
                },] },
    ];
    return TableInfoPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtPaginationComponent = /** @class */ (function () {
    function GtPaginationComponent() {
        this.ready = false;
    }
    Object.defineProperty(GtPaginationComponent.prototype, "genericTable", {
        get: /**
         * @return {?}
         */
        function () {
            return this._genericTable;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            var _this = this;
            if (value) {
                value.gtEvent.subscribe(function (res) {
                    if (res.name === 'gt-info' && res.value.pageTotal > 0) {
                        _this.ready = true;
                    }
                });
            }
            this._genericTable = value;
        },
        enumerable: true,
        configurable: true
    });
    GtPaginationComponent.decorators = [
        { type: Component, args: [{
                    selector: 'gt-pagination',
                    template: "<nav class=\"gt-pagination\" aria-label=\"Table navigation\" *ngIf=\"genericTable && genericTable.gtInfo && ready && genericTable.gtData?.length > 0\" [ngClass]=\"{'no-data':genericTable.gtInfo.pageTotal === 0}\">\n  <ul class=\"pagination\" [ngClass]=\"gtClasses\">\n    <li class=\"page-item\" [ngClass]=\"{'disabled' : genericTable.gtInfo.pageCurrent === 1 || genericTable.loading }\"><a class=\"page-link\" href=\"javascript:void(0);\" (click)=\"genericTable.gtInfo.pageCurrent > 1 && genericTable.previousPage()\" [attr.aria-label]=\"genericTable.gtTexts.paginatePrevious\"><span aria-hidden=\"true\">&laquo;</span><span class=\"sr-only\">{{genericTable.gtTexts.paginatePrevious}}</span></a></li>\n    <li class=\"page-item\" [ngClass]=\"{'disabled' : genericTable.loading && genericTable.gtInfo.pageCurrent !== page, 'active' : genericTable.gtInfo.pageCurrent === page }\" *ngFor=\"let page of genericTable.gtInfo.pageTotal | gtPaginationPipe:genericTable.gtInfo.pageCurrent\"><a class=\"page-link\" [tabindex]=\"page === true ? -1:0\" href=\"javascript:void(0);\" (click)=\"page === true ? '':genericTable.goToPage(page)\">{{page === true ? '&hellip;':page}}</a></li>\n    <li class=\"page-item\" [ngClass]=\"{'disabled' : genericTable.gtInfo.pageCurrent === genericTable.gtInfo.pageTotal || genericTable.loading }\"><a class=\"page-link gt-link\" href=\"javascript:void(0);\" (click)=\"genericTable.gtInfo.pageCurrent !== genericTable.gtInfo.pageTotal && genericTable.nextPage()\" [attr.aria-label]=\"genericTable.gtTexts.paginateNext\"><span aria-hidden=\"true\">&raquo;</span><span class=\"sr-only\">{{genericTable.gtTexts.paginateNext}}</span></a></li>\n  </ul>\n  </nav>\n    ",
                    styles: ['.gt-link {cursor: pointer;}']
                },] },
    ];
    /** @nocollapse */
    GtPaginationComponent.propDecorators = {
        "genericTable": [{ type: Input },],
        "gtClasses": [{ type: Input },],
    };
    return GtPaginationComponent;
}());
var PaginationPipe = /** @class */ (function () {
    function PaginationPipe() {
    }
    /**
     * @param {?} totalPages
     * @param {?} currentPage
     * @return {?}
     */
    PaginationPipe.prototype.transform = /**
     * @param {?} totalPages
     * @param {?} currentPage
     * @return {?}
     */
    function (totalPages, currentPage) {
        if (totalPages === 0) {
            return [1];
        }
        var /** @type {?} */ pagination = []; // create new empty array for pagination
        var /** @type {?} */ siblings = 2; // sibling elements ie. number of elements on each side of current page
        var /** @type {?} */ paginationLength = totalPages < siblings * 2 + 1 ? totalPages : siblings * 2 + 1; // number of elements in pagination array
        var /** @type {?} */ start = currentPage <= siblings ? 1 : currentPage - siblings; // starting position for array
        var /** @type {?} */ modifier = totalPages - (currentPage + siblings) <= 0
            ? totalPages - (currentPage + siblings)
            : 0; // modifier for pagination values
        var /** @type {?} */ modifiedPosition = start + modifier <= 0 ? 1 : start + modifier;
        // push pages to pagination array
        for (var /** @type {?} */ i = 0; i < paginationLength; i++) {
            pagination.push(modifiedPosition + i);
        }
        // if first page is not included in pagination...
        if (pagination.indexOf(1) === -1) {
            // ...check if second page is in pagination...
            if (pagination.indexOf(2) === -1) {
                // ...if not check if total number of pages equals seven and number of siblings are two...
                if (totalPages === 7 && siblings === 2) {
                    // ...add second page and don't convert page number to ellipsis
                    pagination.unshift(2);
                }
                else {
                    // ...if not, use this placeholder for ellipsis instead of actual page number
                    pagination[0] = true;
                }
            }
            // ...add first page as first array item
            pagination.unshift(1);
        }
        else if (totalPages > paginationLength) {
            // if first page is included add extra page to keep number of items consistent
            pagination.splice(paginationLength, 0, paginationLength + 1);
        }
        // check if last page is included in pagination...
        if (pagination.indexOf(totalPages) === -1) {
            // ...if not, page next to last should either show ellipsis or actual page number for the page
            pagination[pagination.length - 1] =
                pagination[pagination.length - 1] === totalPages - 1
                    ? totalPages - 1
                    : true;
            // ...add last page to pagination
            pagination.push(totalPages);
        }
        return pagination;
    };
    PaginationPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtPaginationPipe'
                },] },
    ];
    return PaginationPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtDrilldownComponent = /** @class */ (function (_super) {
    __extends(GtDrilldownComponent, _super);
    function GtDrilldownComponent() {
        return _super.call(this) || this;
    }
    /**
     * @return {?}
     */
    GtDrilldownComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () { };
    GtDrilldownComponent.decorators = [
        { type: Component, args: [{
                    selector: 'gt-drilldown',
                    template: "\n      <table class=\"table\">\n          <tr *ngFor=\"let row of data\" (click)=\"$rowClick(row, $event)\">\n              <!--<td *ngFor=\"let column of gtSettings\" [style.width]=\"columnWidth[column.objectKey]\">{{column.objectKey}}</td>-->\n              <td *ngFor=\"let column of row | gtRender:gtSettings:gtFields:null:null:gtOptions.highlightSearch:gtInfo.searchTerms;\"\n                  ngClass=\"{{column.objectKey +'-column' | dashCase}} {{gtFields | gtProperty:column.objectKey:'classNames'}} {{(gtFields | gtProperty:column.objectKey:'inlineEdit') ? 'gt-inline-edit':''}} {{column.edited ? 'gt-edited':''}} {{ gtFields | gtColumnClass:row:column }}\" [style.width]=\"columnWidth[column.objectKey]\" [style.max-width]=\"columnWidth[column.objectKey]\">\n                        <span class=\"gt-row-label\"\n                              *ngIf=\"gtOptions.stack\">{{(gtFields | gtProperty:column.objectKey:'stackedHeading') ? (gtFields | gtProperty:column.objectKey:'stackedHeading') : (gtFields | gtProperty:column.objectKey:'name')}}</span>\n                  <gt-custom-component-factory *ngIf=\"column.columnComponent\" class=\"gt-row-content\"\n                                               [type]=\"column.columnComponent.type\"\n                                               [injector]=\"column.columnComponent.injector\" [row]=\"row\"\n                                               [column]=\"column\" (redrawEvent)=\"$redraw($event)\"\n                                               (click)=\"column.click ? column.click(row,column,$event):'';\"></gt-custom-component-factory>\n                  <span *ngIf=\"!column.columnComponent\"\n                        class=\"gt-row-content\" [innerHTML]=\"column.renderValue\"\n                        (click)=\"column.click ? column.click(row,column,$event):''\"></span>\n              </td>\n\n          </tr>\n      </table>\n  ",
                    styles: []
                },] },
    ];
    /** @nocollapse */
    GtDrilldownComponent.ctorParameters = function () { return []; };
    return GtDrilldownComponent;
}(GtExpandedRow));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtHighlightPipe = /** @class */ (function () {
    function GtHighlightPipe(sanitizer) {
        this.sanitizer = sanitizer;
    }
    /**
     * @param {?} text
     * @param {?} searchTerm
     * @return {?}
     */
    GtHighlightPipe.prototype.transform = /**
     * @param {?} text
     * @param {?} searchTerm
     * @return {?}
     */
    function (text, searchTerm) {
        var /** @type {?} */ haystackAlwaysString = text + '';
        var /** @type {?} */ highlightedText = haystackAlwaysString; // fallback
        var /** @type {?} */ searchPattern;
        try {
            searchPattern = new RegExp('(' +
                searchTerm
                    .toLowerCase()
                    .match(/".*?"|[^ ]+/g) // extract words
                    .map(function (needle) { return needle.replace(/"(.*?)"/, '$1'); } // strip away '"'
                // strip away '"'
                )
                    .join('|') + // combine words
                ')', 'ig');
        }
        catch (/** @type {?} */ error) {
            return this.sanitizer.bypassSecurityTrustHtml(highlightedText);
        }
        var /** @type {?} */ containsTagPattern = /(<.*?>)(.*)(<\/.*?>)/gi;
        var /** @type {?} */ containsTagMatches = containsTagPattern.exec(haystackAlwaysString);
        if (containsTagMatches) {
            // tag exists in haystack
            highlightedText =
                containsTagMatches[1] +
                    containsTagMatches[2].replace(searchPattern, '<span class="gt-highlight-search">$1</span>') +
                    containsTagMatches[3];
        }
        else {
            highlightedText = haystackAlwaysString.replace(searchPattern, '<span class="gt-highlight-search">$1</span>');
        }
        return this.sanitizer.bypassSecurityTrustHtml(highlightedText);
    };
    GtHighlightPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtHighlight'
                },] },
    ];
    /** @nocollapse */
    GtHighlightPipe.ctorParameters = function () { return [
        { type: DomSanitizer, },
    ]; };
    return GtHighlightPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
// unsupported: template constraints.
/**
 * @template R
 */
var GtRenderPipe = /** @class */ (function () {
    function GtRenderPipe(sanitizer, gtHighlightPipe) {
        this.sanitizer = sanitizer;
        this.gtHighlightPipe = gtHighlightPipe;
        /**
         * Sort by column order
         */
        this.getColumnOrder = function (a, b) {
            if (a.columnOrder < b.columnOrder) {
                return -1;
            }
            if (a.columnOrder > b.columnOrder || typeof a.columnOrder === 'undefined') {
                return 1;
            }
            return 0;
        };
        /**
         * Sort by length
         */
        this.getOrderByLength = function (a, b) {
            return b.length - a.length;
        };
        /**
         * Return property
         */
        this.getProperty = function (array, key) {
            for (var /** @type {?} */ i = 0; i < array.length; i++) {
                if (array[i].objectKey === key) {
                    return array[i];
                }
            }
        };
    }
    /**
     * @param {?} row
     * @param {?} settings
     * @param {?} fields
     * @param {?} updated
     * @param {?} loading
     * @param {?=} highlight
     * @param {?=} searchString
     * @return {?}
     */
    GtRenderPipe.prototype.transform = /**
     * @param {?} row
     * @param {?} settings
     * @param {?} fields
     * @param {?} updated
     * @param {?} loading
     * @param {?=} highlight
     * @param {?=} searchString
     * @return {?}
     */
    function (row, settings, fields, updated, loading, highlight, searchString) {
        if (highlight === void 0) { highlight = false; }
        // let arr = [{"temp":123,"name":"happy"},{"temp":456,"name":"dfgdfg"},{"temp":789,"name":"asdasd"}];
        // console.log(arr,arr.map(function(item){return item.temp}));
        // console.log(settings.map('objectKey'));
        // console.log('render');
        var /** @type {?} */ columns = [];
        for (var /** @type {?} */ i = 0; i < settings.length; i++) {
            if (settings[i].visible !== false && settings[i].enabled !== false) {
                columns.push(settings[i].objectKey);
            }
        }
        for (var /** @type {?} */ i = 0; i < fields.length; i++) {
            // console.log(!row[fields[i].objectKey]);
            if (fields[i].value &&
                typeof fields[i].value === 'function' &&
                !row.hasOwnProperty(fields[i].objectKey)) {
                row[fields[i].objectKey] = loading ? '' : fields[i].value(row);
            }
        }
        // console.log(row);
        var /** @type {?} */ keys = [];
        for (var /** @type {?} */ key in row) {
            // console.log(key);
            if (columns.indexOf(key) !== -1) {
                var /** @type {?} */ fieldSetting = void 0;
                for (var /** @type {?} */ i = 0; i < fields.length; i++) {
                    if (fields[i].objectKey === key) {
                        fieldSetting = fields[i];
                        // console.log(fieldSetting);
                    }
                }
                var /** @type {?} */ columnObject = {
                    objectKey: key,
                    sortValue: row[key]
                };
                // add component if defined
                if (fieldSetting.columnComponent) {
                    columnObject.columnComponent = fieldSetting.columnComponent;
                }
                if (loading) {
                    columnObject.renderValue = row[key] !== null ? row[key] : '';
                }
                else if (highlight &&
                    searchString &&
                    this.getProperty(settings, key).search !== false) {
                    columnObject.renderValue =
                        fieldSetting.render && typeof fieldSetting.render === 'function'
                            ? this.gtHighlightPipe.transform(fieldSetting.render(row), searchString)
                            : this.gtHighlightPipe.transform(row[key] !== null ? row[key] : '', searchString);
                }
                else {
                    columnObject.renderValue =
                        fieldSetting.render && typeof fieldSetting.render === 'function'
                            ? this.sanitizer.bypassSecurityTrustHtml(fieldSetting.render(row))
                            : row[key] !== null
                                ? row[key]
                                : '';
                }
                if (fieldSetting.click && typeof fieldSetting.click === 'function') {
                    columnObject.click = fieldSetting.click;
                }
                if (fieldSetting.expand) {
                    columnObject.expand = fieldSetting.expand;
                }
                keys.push(columnObject);
            }
        }
        keys.sort(function (a, b) {
            return columns.indexOf(a.objectKey) < columns.indexOf(b.objectKey)
                ? -1
                : 1;
        });
        return keys;
    };
    GtRenderPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtRender'
                },] },
    ];
    /** @nocollapse */
    GtRenderPipe.ctorParameters = function () { return [
        { type: DomSanitizer, },
        { type: GtHighlightPipe, },
    ]; };
    return GtRenderPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
// unsupported: template constraints.
/**
 * @template R
 */
var GtVisiblePipe = /** @class */ (function () {
    function GtVisiblePipe() {
        /**
         * Sort by column order
         */
        this.getColumnOrder = function (a, b) {
            if (a.columnOrder < b.columnOrder) {
                return -1;
            }
            if (a.columnOrder > b.columnOrder || typeof a.columnOrder === 'undefined') {
                return 1;
            }
            return 0;
        };
    }
    /**
     * @param {?} array
     * @param {?} settings
     * @param {?=} refreshPipe
     * @return {?}
     */
    GtVisiblePipe.prototype.transform = /**
     * @param {?} array
     * @param {?} settings
     * @param {?=} refreshPipe
     * @return {?}
     */
    function (array, settings, refreshPipe) {
        var /** @type {?} */ visibleColumns = settings
            .sort(this.getColumnOrder)
            .map(function (setting) {
            if (setting.visible !== false && setting.enabled !== false) {
                return setting.objectKey;
            }
        });
        return array
            .filter(function (column) {
            return visibleColumns.indexOf(column.objectKey) !== -1;
        })
            .sort(function (a, b) {
            return visibleColumns.indexOf(a.objectKey) <
                visibleColumns.indexOf(b.objectKey)
                ? -1
                : 1;
        });
    };
    GtVisiblePipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtVisible'
                },] },
    ];
    return GtVisiblePipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var DashCasePipe = /** @class */ (function () {
    function DashCasePipe() {
    }
    /**
     * @param {?} string
     * @return {?}
     */
    DashCasePipe.prototype.transform = /**
     * @param {?} string
     * @return {?}
     */
    function (string) {
        return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();
    };
    DashCasePipe.decorators = [
        { type: Pipe, args: [{
                    name: 'dashCase'
                },] },
    ];
    return DashCasePipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
// unsupported: template constraints.
/**
 * @template R
 */
var GtPropertyPipe = /** @class */ (function () {
    function GtPropertyPipe() {
    }
    /**
     * @param {?} config
     * @param {?} objectKey
     * @param {?} property
     * @param {?=} refresh
     * @return {?}
     */
    GtPropertyPipe.prototype.transform = /**
     * @param {?} config
     * @param {?} objectKey
     * @param {?} property
     * @param {?=} refresh
     * @return {?}
     */
    function (config, objectKey, property, refresh) {
        var /** @type {?} */ output = null;
        try {
            for (var /** @type {?} */ i = 0; i < config.length; i++) {
                if (config[i].objectKey === objectKey) {
                    output = config[i][property];
                }
            }
        }
        catch (/** @type {?} */ error) {
            console.log('cannot read property: "' +
                property +
                '" on missing key: "' +
                objectKey +
                '" in config.', error);
        }
        return output;
    };
    GtPropertyPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtProperty'
                },] },
    ];
    return GtPropertyPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtChunkPipe = /** @class */ (function () {
    function GtChunkPipe() {
    }
    /**
     * @param {?} array
     * @param {?} gtInfo
     * @param {?} chunkSize
     * @param {?} page
     * @param {?} refreshPageArray
     * @param {?} refreshData
     * @param {?} gtEvent
     * @param {?} data
     * @return {?}
     */
    GtChunkPipe.prototype.transform = /**
     * @param {?} array
     * @param {?} gtInfo
     * @param {?} chunkSize
     * @param {?} page
     * @param {?} refreshPageArray
     * @param {?} refreshData
     * @param {?} gtEvent
     * @param {?} data
     * @return {?}
     */
    function (array, gtInfo, chunkSize, page, refreshPageArray, refreshData, gtEvent, data) {
        if (!Array.isArray(array)) {
            return array;
        }
        data.exportData = array; // store data for export
        var /** @type {?} */ PAGES = [];
        var /** @type {?} */ ENTRIES = array.length;
        for (var /** @type {?} */ i = 0; i < ENTRIES; i += chunkSize) {
            PAGES.push(array.slice(i, i + chunkSize));
        }
        gtInfo.visibleRecords = !PAGES[page - 1] ? [] : __spread(PAGES[page - 1]); // add visible rows
        gtInfo.pageTotal = PAGES.length; // add number of pages
        setTimeout(function () {
            return gtEvent.emit({
                name: 'gt-info',
                value: gtInfo
            });
        }, 0);
        return PAGES[page - 1];
    };
    GtChunkPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtChunk'
                },] },
    ];
    return GtChunkPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtFilterPipe = /** @class */ (function () {
    function GtFilterPipe() {
    }
    // @Output() filterInfo = new EventEmitter();
    /**
     * @param {?} allRows
     * @param {?} filterBy
     * @param {?} gtInfo
     * @param {?} refreshFilter
     * @param {?} refreshData
     * @return {?}
     */
    GtFilterPipe.prototype.transform = /**
     * @param {?} allRows
     * @param {?} filterBy
     * @param {?} gtInfo
     * @param {?} refreshFilter
     * @param {?} refreshData
     * @return {?}
     */
    function (allRows, filterBy, gtInfo, refreshFilter, refreshData) {
        // console.log(allRows,filterBy);
        gtInfo.recordsAll = allRows.length;
        if (!Array.isArray(allRows) || !filterBy) {
            // gtInfo.filtered = false;
            var /** @type {?} */ length_1 = allRows === null ? 0 : allRows.length;
            gtInfo.recordsAfterFilter = length_1;
            return allRows;
        }
        var /** @type {?} */ output = [];
        for (var /** @type {?} */ i = 0; i < allRows.length; i++) {
            var /** @type {?} */ rowObject = allRows[i];
            var /** @type {?} */ match = true;
            for (var /** @type {?} */ property in filterBy) {
                if (filterBy.hasOwnProperty(property)) {
                    // console.log(property);
                    // console.log(filter[property].indexOf(obj[property]));
                    if (filterBy[property].indexOf(rowObject[property]) === -1) {
                        match = false;
                    }
                }
            }
            if (match) {
                output.push(rowObject);
            }
        }
        gtInfo.recordsAfterFilter = output.length; // .emit(output.length);
        return output;
    };
    GtFilterPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtFilter'
                },] },
    ];
    return GtFilterPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
// unsupported: template constraints.
/**
 * @template R
 */
var GtOrderByPipe = /** @class */ (function () {
    function GtOrderByPipe() {
        /**
         * Return property
         */
        this.getProperty = function (array, key) {
            for (var /** @type {?} */ i = 0; i < array.length; i++) {
                if (array[i].objectKey === key) {
                    return array[i];
                }
            }
        };
    }
    /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    GtOrderByPipe._orderByComparator = /**
     * @param {?} a
     * @param {?} b
     * @return {?}
     */
    function (a, b) {
        // sort boolean values as strings
        if (typeof a === 'boolean') {
            a = a.toString();
        }
        if (typeof b === 'boolean') {
            b = b.toString();
        }
        if (isNaN(parseFloat(a)) ||
            !isFinite(a) ||
            (isNaN(parseFloat(b)) || !isFinite(b))) {
            if (b === null ||
                (typeof b === 'undefined' && (a !== null && typeof a !== 'undefined'))) {
                return 1;
            }
            if (a === null ||
                (typeof a === 'undefined' && (b !== null && typeof b !== 'undefined'))) {
                return -1;
            }
            // isn't a number so lowercase the string to properly compare
            try {
                if (a.toLowerCase() < b.toLowerCase()) {
                    return -1;
                }
                if (a.toLowerCase() > b.toLowerCase()) {
                    return 1;
                }
            }
            catch (/** @type {?} */ error) {
                return 0;
            }
        }
        else {
            // parse strings as numbers to compare properly
            if (parseFloat(a) < parseFloat(b)) {
                return -1;
            }
            if (parseFloat(a) > parseFloat(b)) {
                return 1;
            }
        }
        return 0; // equal each other
    };
    /**
     * Return sort function
     * @param {?} field
     * @return {?}
     */
    GtOrderByPipe.prototype.getSortFunction = /**
     * Return sort function
     * @param {?} field
     * @return {?}
     */
    function (field) {
        if (!field) {
            // console.log('error trying to sort undefined field');
            return false;
        }
        if (typeof field.sort === 'function') {
            return field.sort;
        }
        else if (typeof field.value === 'function') {
            return field.value;
        }
        else {
            return false;
        }
    };
    /**
     * @param {?} input
     * @param {?} sortByProperties
     * @param {?} fields
     * @param {?} refreshSorting
     * @param {?} refreshData
     * @return {?}
     */
    GtOrderByPipe.prototype.transform = /**
     * @param {?} input
     * @param {?} sortByProperties
     * @param {?} fields
     * @param {?} refreshSorting
     * @param {?} refreshData
     * @return {?}
     */
    function (input, sortByProperties, fields, refreshSorting, refreshData) {
        var _this = this;
        if (!Array.isArray(input) || input === null) {
            return input;
        }
        if (!Array.isArray(sortByProperties) ||
            (Array.isArray(sortByProperties) && sortByProperties.length === 1)) {
            var /** @type {?} */ propertyToCheck = sortByProperties[0];
            var /** @type {?} */ desc_1 = propertyToCheck.substr(0, 1) === '-';
            // basic array
            if (!propertyToCheck ||
                propertyToCheck === '-' ||
                propertyToCheck === '+') {
                return !desc_1 ? input.sort() : input.sort().reverse();
            }
            else {
                var /** @type {?} */ property_1 = propertyToCheck.substr(0, 1) === '+' ||
                    propertyToCheck.substr(0, 1) === '-'
                    ? propertyToCheck.substr(1)
                    : propertyToCheck;
                // check if custom sort function is defined
                var /** @type {?} */ sortFunction_1 = this.getSortFunction(this.getProperty(fields, property_1));
                // console.log(property);
                return input.sort(function (a, b) {
                    // use custom sort function if one is defined
                    var /** @type {?} */ propertyA = sortFunction_1 === false
                        ? property_1 === '$$gtRowId'
                            ? +a.$$gtRowId.split('_')[0]
                            : a[property_1]
                        : sortFunction_1(a);
                    var /** @type {?} */ propertyB = sortFunction_1 === false
                        ? property_1 === '$$gtRowId'
                            ? +b.$$gtRowId.split('_')[0]
                            : b[property_1]
                        : sortFunction_1(b);
                    // if both values are undefined...
                    if (typeof propertyA === 'undefined' &&
                        typeof propertyB === 'undefined') {
                        // ...skip comparison
                        return;
                    }
                    return !desc_1
                        ? GtOrderByPipe._orderByComparator(propertyA, propertyB)
                        : -GtOrderByPipe._orderByComparator(propertyA, propertyB);
                });
            }
        }
        else {
            // loop over property of the array in order and sort
            return input.sort(function (a, b) {
                // console.log('multiple');
                for (var /** @type {?} */ i = 0; i < sortByProperties.length; i++) {
                    var /** @type {?} */ desc = sortByProperties[i].substr(0, 1) === '-';
                    var /** @type {?} */ property = sortByProperties[i].substr(0, 1) === '+' ||
                        sortByProperties[i].substr(0, 1) === '-'
                        ? sortByProperties[i].substr(1)
                        : sortByProperties[i];
                    // console.log(property);
                    // check if custom sort function is defined
                    var /** @type {?} */ sortFunction = _this.getSortFunction(_this.getProperty(fields, property));
                    // use custom sort function if one is defined
                    var /** @type {?} */ propertyA = sortFunction === false
                        ? property === '$$gtRowId'
                            ? +a.$$gtRowId.split('_')[0]
                            : a[property]
                        : sortFunction(a);
                    var /** @type {?} */ propertyB = sortFunction === false
                        ? property === '$$gtRowId'
                            ? +b.$$gtRowId.split('_')[0]
                            : b[property]
                        : sortFunction(b);
                    var /** @type {?} */ comparison = !desc
                        ? GtOrderByPipe._orderByComparator(propertyA, propertyB)
                        : -GtOrderByPipe._orderByComparator(propertyA, propertyB);
                    // don't return 0 yet in case of needing to sort by next property
                    if (comparison !== 0) {
                        return comparison;
                    }
                }
                return 0; // equal each other
            });
        }
    };
    GtOrderByPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtOrderBy'
                },] },
    ];
    return GtOrderByPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
// unsupported: template constraints.
/**
 * @template R
 */
var GtSearchPipe = /** @class */ (function () {
    function GtSearchPipe() {
        /**
         * Return property
         */
        this.getProperty = function (array, key) {
            for (var /** @type {?} */ i = 0; i < array.length; i++) {
                if (array[i].objectKey === key) {
                    return array[i];
                }
            }
        };
    }
    /**
     * @param {?} allRows
     * @param {?} searchTerms
     * @param {?} gtInfo
     * @param {?} settings
     * @param {?} fields
     * @param {?} refreshData
     * @return {?}
     */
    GtSearchPipe.prototype.transform = /**
     * @param {?} allRows
     * @param {?} searchTerms
     * @param {?} gtInfo
     * @param {?} settings
     * @param {?} fields
     * @param {?} refreshData
     * @return {?}
     */
    function (allRows, searchTerms, gtInfo, settings, fields, refreshData) {
        //  if no search terms are defined...
        if (!searchTerms || searchTerms.replace(/"/g, '').length === 0) {
            // ...return all rows
            var /** @type {?} */ length_1 = allRows === null ? 0 : allRows.length;
            gtInfo.recordsAfterSearch = length_1;
            return allRows;
        }
        var /** @type {?} */ searchFunction = {};
        var /** @type {?} */ fieldsTemp = [];
        for (var /** @type {?} */ k = 0; k < fields.length; k++) {
            var /** @type {?} */ field = fields[k];
            // check if field should be included in global search
            var /** @type {?} */ include = this.getProperty(settings, field.objectKey).search === false
                ? false
                : true;
            // if include...
            if (include) {
                // ...and if search function is defined...
                if (typeof field.search === 'function') {
                    // ...add it as search function for field
                    searchFunction[field.objectKey] = field.search;
                }
                // ...if no search function is defined but value function is defined...
                else if (typeof field.value === 'function') {
                    // ...add it as search function for field
                    searchFunction[field.objectKey] = field.value;
                }
                // ...push it to our fields array
                fieldsTemp.push(field);
            }
        }
        var /** @type {?} */ filteredRows = [];
        searchTerms = typeof searchTerms === 'undefined' ? '' : searchTerms;
        var /** @type {?} */ searchTermsArray = searchTerms.toLowerCase().match(/(".*"|[^\s]+)/g);
        for (var /** @type {?} */ i = 0; i < allRows.length; i++) {
            var /** @type {?} */ row = allRows[i];
            var /** @type {?} */ string = '';
            for (var /** @type {?} */ j = 0; j < fieldsTemp.length; j++) {
                var /** @type {?} */ separator = j === 0 ? '' : ' & ';
                string += searchFunction[fieldsTemp[j].objectKey]
                    ? separator + searchFunction[fieldsTemp[j].objectKey](row, j)
                    : separator + row[fieldsTemp[j].objectKey];
            }
            string = string.toLowerCase();
            var /** @type {?} */ match = true;
            for (var /** @type {?} */ k = 0; k < searchTermsArray.length; k++) {
                var /** @type {?} */ term = searchTermsArray[k].replace(/"/g, '');
                match = string.indexOf(term) !== -1;
                if (!match) {
                    break;
                }
            }
            if (match) {
                filteredRows.push(row);
            }
        }
        gtInfo.recordsAfterSearch = filteredRows.length;
        // gtInfo.refresh(filteredRows.length,gt);
        return filteredRows;
    };
    GtSearchPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtSearch'
                },] },
    ];
    return GtSearchPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @template C
 */
var ComponentAnchorDirective = /** @class */ (function () {
    function ComponentAnchorDirective(componentFactoryResolver, viewContainer) {
        this.componentFactoryResolver = componentFactoryResolver;
        this.viewContainer = viewContainer;
        this.instance = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ComponentAnchorDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var /** @type {?} */ factory = this.componentFactoryResolver.resolveComponentFactory(this.ctor);
        var /** @type {?} */ component = this.viewContainer.createComponent(factory, 0, this.injector);
        this.instance.emit(component.instance);
    };
    ComponentAnchorDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[gtComponentAnchor]'
                },] },
    ];
    /** @nocollapse */
    ComponentAnchorDirective.ctorParameters = function () { return [
        { type: ComponentFactoryResolver, },
        { type: ViewContainerRef, },
    ]; };
    ComponentAnchorDirective.propDecorators = {
        "ctor": [{ type: Input },],
        "injector": [{ type: Input },],
        "instance": [{ type: Output },],
    };
    return ComponentAnchorDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @abstract
 * @template R
 */
var  /**
 * @abstract
 * @template R
 */
GtCustomComponent = /** @class */ (function () {
    function GtCustomComponent() {
        this.redrawEvent = new EventEmitter();
        this.$searchTerms = new ReplaySubject(1);
    }
    /**
     * @param {?=} $event
     * @return {?}
     */
    GtCustomComponent.prototype.$redraw = /**
     * @param {?=} $event
     * @return {?}
     */
    function ($event) {
        this.redrawEvent.emit({ row: this.row, column: this.column });
    };
    /**
     * @return {?}
     */
    GtCustomComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.$searchTerms.subscribe(function (terms) { return (_this.searchTerms = terms); });
    };
    return GtCustomComponent;
}());
// unsupported: template constraints.
/**
 * @template R, C
 */
var GtCustomComponentFactory = /** @class */ (function () {
    function GtCustomComponentFactory() {
        this.$searchTerms = new ReplaySubject(1);
        this.redrawEvent = new EventEmitter();
    }
    Object.defineProperty(GtCustomComponentFactory.prototype, "searchTerms", {
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.$searchTerms.next(value);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} instance
     * @return {?}
     */
    GtCustomComponentFactory.prototype.instance = /**
     * @param {?} instance
     * @return {?}
     */
    function (instance) {
        instance.row = this.row;
        instance.column = this.column;
        instance.$searchTerms = this.$searchTerms;
        instance.redrawEvent.subscribe(this.redrawEvent);
    };
    GtCustomComponentFactory.decorators = [
        { type: Component, args: [{
                    selector: 'gt-custom-component-factory',
                    template: "<div gtComponentAnchor [ctor]=\"type\"\n                    [injector]=\"injector\"\n                    (instance)=\"instance($event)\"></div>"
                },] },
    ];
    /** @nocollapse */
    GtCustomComponentFactory.propDecorators = {
        "searchTerms": [{ type: Input },],
        "type": [{ type: Input },],
        "injector": [{ type: Input },],
        "row": [{ type: Input },],
        "column": [{ type: Input },],
        "redrawEvent": [{ type: Output },],
    };
    return GtCustomComponentFactory;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtDropdownComponent = /** @class */ (function () {
    function GtDropdownComponent(renderer) {
        this.renderer = renderer;
        this.selectedChange = new EventEmitter();
        this.active = false;
        this.state = new Subject();
    }
    Object.defineProperty(GtDropdownComponent.prototype, "selected", {
        get: /**
         * @return {?}
         */
        function () {
            return this._selected;
        },
        set: /**
         * @param {?} selection
         * @return {?}
         */
        function (selection) {
            this._selected = selection;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} option
     * @return {?}
     */
    GtDropdownComponent.prototype.select = /**
     * @param {?} option
     * @return {?}
     */
    function (option) {
        this.active = false;
        this.state.next(this.active);
        if (this._selected !== option) {
            this.selectedChange.emit(option);
        }
    };
    /**
     * @return {?}
     */
    GtDropdownComponent.prototype.toggleDropdown = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.active = !this.active;
        setTimeout(function () {
            _this.state.next(_this.active);
        }, 0);
    };
    /**
     * @return {?}
     */
    GtDropdownComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.state.subscribe(function (state) {
            if (state) {
                _this.tether = new Tether({
                    element: '#' + _this.id + '_menu',
                    target: '#' + _this.id,
                    attachment: 'top left',
                    targetAttachment: 'bottom left',
                    constraints: [
                        {
                            to: 'window',
                            attachment: 'together'
                        }
                    ]
                });
                _this.tether.position();
                // set up click listener and listen for click outside dropdown
                // set up click listener and listen for click outside dropdown
                _this.clickListener = _this.renderer.listen('document', 'click', function (event) {
                    _this.active = false;
                    _this.state.next(_this.active);
                });
                // set up keyboard listener and listen for escape key up
                // set up keyboard listener and listen for escape key up
                _this.keyupListener = _this.renderer.listen('document', 'keyup', function (event) {
                    switch (event.key) {
                        case 'Escape':
                            _this.active = false;
                            _this.state.next(_this.active);
                            break;
                    }
                });
            }
            else {
                _this.tether.destroy();
                _this.removeListeners();
            }
        });
    };
    /**
     * @return {?}
     */
    GtDropdownComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.removeListeners();
    };
    /**
     * @return {?}
     */
    GtDropdownComponent.prototype.removeListeners = /**
     * @return {?}
     */
    function () {
        if (this.clickListener) {
            this.clickListener();
        }
        if (this.keyupListener) {
            this.keyupListener();
        }
    };
    GtDropdownComponent.decorators = [
        { type: Component, args: [{
                    selector: 'gt-dropdown',
                    template: "\n    <div class=\"dropdown gt-dropdown\" [ngClass]=\"{'show':active}\" [attr.id]=\"id\">\n      <div class=\"dropdown-toggle\" (click)=\"toggleDropdown()\" [attr.aria-expanded]=\"active\">{{selected}}</div>\n      <div class=\"gt-dropdown-menu dropdown-menu\" *ngIf=\"active\" [ngClass]=\"{'show':active}\" [attr.id]=\"id+'_menu'\">\n        <button *ngFor=\"let option of options;\" class=\"dropdown-item\" (click)=\"select(option)\" [ngClass]=\"{'active':option === selected}\">{{option}}</button>\n      </div>\n    </div>\n  ",
                    styles: [
                        "\n    .gt-dropdown .dropdown-toggle {\n      cursor: pointer;\n    }\n    .gt-dropdown .dropdown-toggle::after {\n      transition: opacity 0.4s ease-in-out;\n      opacity: 0;\n    }\n    .gt-dropdown .dropdown-toggle:hover::after {\n      opacity: 1;\n    }\n  "
                    ]
                },] },
    ];
    /** @nocollapse */
    GtDropdownComponent.ctorParameters = function () { return [
        { type: Renderer2, },
    ]; };
    GtDropdownComponent.propDecorators = {
        "selected": [{ type: Input },],
        "options": [{ type: Input },],
        "id": [{ type: Input },],
        "selectedChange": [{ type: Output },],
    };
    return GtDropdownComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtTotalsPipe = /** @class */ (function () {
    function GtTotalsPipe() {
    }
    /**
     * @param {?} value
     * @param {?} data
     * @param {?} objectKey
     * @param {?} refresh
     * @return {?}
     */
    GtTotalsPipe.prototype.transform = /**
     * @param {?} value
     * @param {?} data
     * @param {?} objectKey
     * @param {?} refresh
     * @return {?}
     */
    function (value, data, objectKey, refresh) {
        var /** @type {?} */ output;
        if (data.length === 0) {
            return;
        }
        if (typeof value === 'function') {
            output = value(data, objectKey);
        }
        else if (value) {
            output = value;
        }
        else {
            output = '';
        }
        return output;
    };
    GtTotalsPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtTotals'
                },] },
    ];
    return GtTotalsPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtTotalsPositionPipe = /** @class */ (function () {
    function GtTotalsPositionPipe() {
    }
    /**
     * @param {?} array
     * @param {?=} position
     * @return {?}
     */
    GtTotalsPositionPipe.prototype.transform = /**
     * @param {?} array
     * @param {?=} position
     * @return {?}
     */
    function (array, position) {
        if (position === void 0) { position = 'header'; }
        return array.filter(function (total) {
            // if no position is defined assume position to be header
            var /** @type {?} */ totalPosition = total.position ? total.position : 'header';
            return totalPosition === position;
        });
    };
    GtTotalsPositionPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtTotalsPosition'
                },] },
    ];
    return GtTotalsPositionPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtRowClassPipe = /** @class */ (function () {
    function GtRowClassPipe() {
    }
    /**
     * @param {?} array
     * @param {?} gtFields
     * @return {?}
     */
    GtRowClassPipe.prototype.transform = /**
     * @param {?} array
     * @param {?} gtFields
     * @return {?}
     */
    function (array, gtFields) {
        if (array) {
            // find columns with rowClass property defined
            var /** @type {?} */ COLUMNS_WITH_CLASS = gtFields
                .map(function (column) { return column; })
                .filter(function (column) { return column.rowClass; });
            COLUMNS_WITH_CLASS.map(function (column) {
                // for each column with rowClass property defined...
                array.map(function (row) {
                    // loop through rows and set row class
                    if (typeof column.rowClass === 'function') {
                        // if row class is a function, try using the function...
                        try {
                            if (row.$$gtRowClass) {
                                row.$$gtRowClass = row.$$gtRowClass.concat(' ' + column.rowClass(row, column));
                            }
                            else {
                                row.$$gtRowClass = column.rowClass(row, column);
                            }
                        }
                        catch (/** @type {?} */ error) {
                            console.log('Error when trying to get row class name using formula.', error);
                        }
                    }
                    else {
                        // if not a function, return plain string value
                        if (row.$$gtRowClass) {
                            row.$$gtRowClass = row.$$gtRowClass.concat(' ' + column.rowClass);
                        }
                        else {
                            row.$$gtRowClass = column.rowClass;
                        }
                    }
                });
            });
        }
        return array;
    };
    GtRowClassPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtRowClass'
                },] },
    ];
    return GtRowClassPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtColumnClassPipe = /** @class */ (function () {
    function GtColumnClassPipe() {
    }
    /**
     * @param {?} gtFields
     * @param {?} column
     * @param {?=} row
     * @return {?}
     */
    GtColumnClassPipe.prototype.transform = /**
     * @param {?} gtFields
     * @param {?} column
     * @param {?=} row
     * @return {?}
     */
    function (gtFields, column, row) {
        // find columns with columnClass property defined
        var /** @type {?} */ COLUMN_WITH_CLASS = gtFields
            .map(function (field) { return field; })
            .filter(function (field) { return field.columnClass && field.objectKey === column.objectKey; })[0];
        if (!COLUMN_WITH_CLASS) {
            return;
        }
        else if (typeof COLUMN_WITH_CLASS.columnClass === 'function') {
            // if column class is a function, try using the function...
            try {
                return COLUMN_WITH_CLASS.columnClass(row, column);
            }
            catch (/** @type {?} */ error) {
                console.log('Error when trying to get column class name using formula.', error);
            }
        }
        else {
            // if not a function, return plain string value
            return COLUMN_WITH_CLASS.columnClass;
        }
    };
    GtColumnClassPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtColumnClass'
                },] },
    ];
    return GtColumnClassPipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtColumnWidthDirective = /** @class */ (function () {
    function GtColumnWidthDirective(hostElement, cdRef) {
        this.hostElement = hostElement;
        this.cdRef = cdRef;
    }
    /**
     * @param {?} $event
     * @return {?}
     */
    GtColumnWidthDirective.prototype.onResize = /**
     * @param {?} $event
     * @return {?}
     */
    function ($event) {
        this.checkSize();
    };
    /**
     * @return {?}
     */
    GtColumnWidthDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.checkSize();
    };
    /**
     * @return {?}
     */
    GtColumnWidthDirective.prototype.checkSize = /**
     * @return {?}
     */
    function () {
        this.widths[this.objectKey] = window
            .getComputedStyle(this.hostElement.nativeElement, null)
            .getPropertyValue('width');
        this.cdRef.detectChanges();
    };
    GtColumnWidthDirective.decorators = [
        { type: Directive, args: [{
                    selector: '[gtColumnWidth]'
                },] },
    ];
    /** @nocollapse */
    GtColumnWidthDirective.ctorParameters = function () { return [
        { type: ElementRef, },
        { type: ChangeDetectorRef, },
    ]; };
    GtColumnWidthDirective.propDecorators = {
        "objectKey": [{ type: Input },],
        "widths": [{ type: Input },],
        "onResize": [{ type: HostListener, args: ['window:resize', ['$event'],] },],
    };
    return GtColumnWidthDirective;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtCheckboxComponent = /** @class */ (function () {
    function GtCheckboxComponent() {
        this.class = 'd-flex justify-content-end';
        this.changed = new EventEmitter();
    }
    Object.defineProperty(GtCheckboxComponent.prototype, "initialValue", {
        get: /**
         * @return {?}
         */
        function () {
            return this._initialValue;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._initialValue = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GtCheckboxComponent.prototype, "checked", {
        get: /**
         * @return {?}
         */
        function () {
            return this._checked;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._checked = value;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    GtCheckboxComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () { };
    /**
     * @param {?} checked
     * @return {?}
     */
    GtCheckboxComponent.prototype.toggle = /**
     * @param {?} checked
     * @return {?}
     */
    function (checked) {
        this.changed.emit(this.checked);
    };
    GtCheckboxComponent.decorators = [
        { type: Component, args: [{
                    selector: 'gt-checkbox',
                    template: "\n    <label class=\"custom-control custom-checkbox p-0\" (click)=\"$event.stopPropagation()\">\n      <input #checkbox type=\"checkbox\" class=\"custom-control-input\" [(checked)]=\"checked\" (change)=\"toggle($event);\">\n      <span class=\"custom-control-label\"></span>\n    </label>\n  ",
                    styles: []
                },] },
    ];
    /** @nocollapse */
    GtCheckboxComponent.ctorParameters = function () { return []; };
    GtCheckboxComponent.propDecorators = {
        "class": [{ type: HostBinding, args: ['class',] },],
        "initialValue": [{ type: Input },],
        "checked": [{ type: Input },],
        "changed": [{ type: Output },],
    };
    return GtCheckboxComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtIsObservablePipe = /** @class */ (function () {
    function GtIsObservablePipe() {
    }
    /**
     * @param {?} input
     * @return {?}
     */
    GtIsObservablePipe.prototype.transform = /**
     * @param {?} input
     * @return {?}
     */
    function (input) {
        return input instanceof Observable;
    };
    GtIsObservablePipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtIsObservable'
                },] },
    ];
    return GtIsObservablePipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GtIsEditablePipe = /** @class */ (function () {
    function GtIsEditablePipe() {
    }
    /**
     * @param {?} property
     * @param {?} row
     * @param {?} refreshPipe
     * @return {?}
     */
    GtIsEditablePipe.prototype.transform = /**
     * @param {?} property
     * @param {?} row
     * @param {?} refreshPipe
     * @return {?}
     */
    function (property, row, refreshPipe) {
        if (typeof property === 'function') {
            return property(row);
        }
        else {
            return false;
        }
    };
    GtIsEditablePipe.decorators = [
        { type: Pipe, args: [{
                    name: 'gtIsEditable'
                },] },
    ];
    return GtIsEditablePipe;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GenericTableModule = /** @class */ (function () {
    function GenericTableModule() {
    }
    GenericTableModule.decorators = [
        { type: NgModule, args: [{
                    declarations: [
                        ComponentAnchorDirective,
                        GenericTableComponent,
                        GtPaginationComponent,
                        GtVisiblePipe,
                        GtRenderPipe,
                        DashCasePipe,
                        GtPropertyPipe,
                        GtChunkPipe,
                        GtFilterPipe,
                        GtOrderByPipe,
                        GtExpandingRowComponent,
                        GtCustomComponentFactory,
                        GtSearchPipe,
                        PaginationPipe,
                        GtTableInfoComponent,
                        TableInfoPipe,
                        GtMetaPipe,
                        GtTotalsPipe,
                        GtTotalsPositionPipe,
                        GtRowClassPipe,
                        GtColumnClassPipe,
                        GtHighlightPipe,
                        GtIsObservablePipe,
                        GtIsEditablePipe,
                        GtDropdownComponent,
                        GtColumnWidthDirective,
                        GtDrilldownComponent,
                        GtCheckboxComponent
                    ],
                    imports: [CommonModule, FormsModule],
                    exports: [
                        GenericTableComponent,
                        GtPaginationComponent,
                        GtTableInfoComponent,
                        GtPropertyPipe,
                        GtHighlightPipe,
                        GtExpandingRowComponent,
                        GtDropdownComponent,
                        GtDrilldownComponent,
                        GtCheckboxComponent
                    ],
                    entryComponents: [GtDrilldownComponent, GtCheckboxComponent],
                    providers: [GtMetaPipe, GtHighlightPipe],
                    bootstrap: []
                },] },
    ];
    return GenericTableModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { GtExpandingRowComponent, GtExpandedRow, GenericTableComponent, GtTableInfoComponent, GtPaginationComponent, GtDrilldownComponent, GenericTableModule, GtCustomComponent, GtHighlightPipe, GtCheckboxComponent as ɵv, GtCustomComponentFactory as ɵc, GtDropdownComponent as ɵt, PaginationPipe as ɵb, TableInfoPipe as ɵa, ComponentAnchorDirective as ɵe, GtColumnWidthDirective as ɵu, DashCasePipe as ɵh, GtChunkPipe as ɵj, GtColumnClassPipe as ɵq, GtFilterPipe as ɵk, GtIsEditablePipe as ɵs, GtIsObservablePipe as ɵr, GtMetaPipe as ɵd, GtOrderByPipe as ɵl, GtPropertyPipe as ɵi, GtRenderPipe as ɵg, GtRowClassPipe as ɵp, GtSearchPipe as ɵm, GtTotalsPositionPipe as ɵo, GtTotalsPipe as ɵn, GtVisiblePipe as ɵf };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1nZW5lcmljLXRhYmxlLWNvcmUuanMubWFwIiwic291cmNlcyI6WyJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9jb21wb25lbnRzL2d0LWV4cGFuZGluZy1yb3cuY29tcG9uZW50LnRzIiwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvcGlwZXMvZ3QtbWV0YS5waXBlLnRzIiwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvY29tcG9uZW50cy9nZW5lcmljLXRhYmxlLmNvbXBvbmVudC50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL2NvbXBvbmVudHMvZ3QtdGFibGUtaW5mby5jb21wb25lbnQudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9jb21wb25lbnRzL2d0LXBhZ2luYXRpb24uY29tcG9uZW50LnRzIiwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvY29tcG9uZW50cy9ndC1kcmlsbGRvd24uY29tcG9uZW50LnRzIiwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvcGlwZXMvZ3QtaGlnaGxpZ2h0LnBpcGUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9waXBlcy9ndC1yZW5kZXIucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2d0LXZpc2libGUucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2Rhc2gtY2FzZS5waXBlLnRzIiwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvcGlwZXMvZ3QtcHJvcGVydHkucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2d0LWNodW5rLnBpcGUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9waXBlcy9ndC1maWx0ZXIucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2d0LW9yZGVyLWJ5LnBpcGUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9waXBlcy9ndC1zZWFyY2gucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL2RpcmVjdGl2ZXMvY29tcG9uZW50LWFuY2hvci5kaXJlY3RpdmUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9jb21wb25lbnRzL2d0LWN1c3RvbS1jb21wb25lbnQtZmFjdG9yeS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL2NvbXBvbmVudHMvZ3QtZHJvcGRvd24uY29tcG9uZW50LnRzIiwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvcGlwZXMvZ3QtdG90YWxzLnBpcGUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9waXBlcy9ndC10b3RhbHMtcG9zaXRpb24ucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2d0LXJvdy1jbGFzcy5waXBlLnRzIiwibmc6Ly9AYW5ndWxhci1nZW5lcmljLXRhYmxlL2NvcmUvcGlwZXMvZ3QtY29sdW1uLWNsYXNzLnBpcGUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9kaXJlY3RpdmVzL2d0LWNvbHVtbi13aWR0aC5kaXJlY3RpdmUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9jb21wb25lbnRzL2d0LWNoZWNrYm94L2d0LWNoZWNrYm94LmNvbXBvbmVudC50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2d0LWlzLW9ic2VydmFibGUucGlwZS50cyIsIm5nOi8vQGFuZ3VsYXItZ2VuZXJpYy10YWJsZS9jb3JlL3BpcGVzL2d0LWlzLWVkaXRhYmxlLnBpcGUudHMiLCJuZzovL0Bhbmd1bGFyLWdlbmVyaWMtdGFibGUvY29yZS9jb3JlLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCwgVHlwZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHdFJvdywgR3RDb25maWdGaWVsZCwgR3RDb25maWdTZXR0aW5nLCBHdEV2ZW50IH0gZnJvbSAnLi4nO1xyXG5cclxuZXhwb3J0IGNsYXNzIEd0RXhwYW5kZWRSb3c8UiBleHRlbmRzIEd0Um93PiB7XHJcblx0cm93OiBSO1xyXG5cdGNvbHVtbldpZHRoOiBPYmplY3Q7XHJcblx0Z3RTZXR0aW5nczogQXJyYXk8R3RDb25maWdTZXR0aW5nPjtcclxuXHRndEZpZWxkczogQXJyYXk8R3RDb25maWdGaWVsZDxSLCBhbnk+PjtcclxuXHRndE9wdGlvbnM6IGFueTtcclxuXHRndEluZm86IGFueTtcclxuXHRkYXRhOiBhbnk7XHJcblx0cmVkcmF3RXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyPFI+KCk7XHJcblx0Z3RFdmVudDogRXZlbnRFbWl0dGVyPEd0RXZlbnQ+O1xyXG5cdHRvZ2dsZVJvd0V2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcjxSPigpO1xyXG5cclxuXHRwdWJsaWMgJGhpZGUoKTogdm9pZCB7XHJcblx0XHR0aGlzLnRvZ2dsZVJvd0V2ZW50LmVtaXQodGhpcy5yb3cpO1xyXG5cdH1cclxuXHJcblx0cHVibGljICRyZWRyYXcoJGV2ZW50PzogYW55KTogdm9pZCB7XHJcblx0XHR0aGlzLnJlZHJhd0V2ZW50LmVtaXQodGhpcy5yb3cpO1xyXG5cdH1cclxuXHRwdWJsaWMgJHJvd0NsaWNrKHJvdzogR3RSb3csICRldmVudDogTW91c2VFdmVudCkge1xyXG5cdFx0dGhpcy5ndEV2ZW50LmVtaXQoe1xyXG5cdFx0XHRuYW1lOiAnZ3Qtcm93LWNsaWNrZWQnLFxyXG5cdFx0XHR2YWx1ZTogeyByb3c6IHJvdywgZXZlbnQ6ICRldmVudCB9XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuXHJcbkBDb21wb25lbnQoe1xyXG5cdHNlbGVjdG9yOiAnZ3QtZXhwYW5kaW5nLXJvdycsXHJcblx0dGVtcGxhdGU6IGBcclxuICAgICAgICA8ZGl2IGd0Q29tcG9uZW50QW5jaG9yXHJcbiAgICAgICAgICAgICBbY3Rvcl09XCJ0eXBlXCIgKGluc3RhbmNlKT1cIm5ld0luc3RhbmNlKCRldmVudClcIj48L2Rpdj5gXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdEV4cGFuZGluZ1Jvd0NvbXBvbmVudDxcclxuXHRSIGV4dGVuZHMgR3RSb3csXHJcblx0QyBleHRlbmRzIEd0RXhwYW5kZWRSb3c8Uj5cclxuPiB7XHJcblx0QElucHV0KCkgdHlwZTogVHlwZTxDPjtcclxuXHRASW5wdXQoKSByb3c6IFI7XHJcblx0QElucHV0KCkgY29sdW1uV2lkdGg6IE9iamVjdDtcclxuXHRASW5wdXQoKSBndFNldHRpbmdzOiBBcnJheTxHdENvbmZpZ1NldHRpbmc+O1xyXG5cdEBJbnB1dCgpIGd0RmllbGRzOiBBcnJheTxHdENvbmZpZ0ZpZWxkPFIsIGFueT4+O1xyXG5cdEBJbnB1dCgpIGd0T3B0aW9uczogYW55O1xyXG5cdEBJbnB1dCgpIGd0SW5mbzogYW55O1xyXG5cdEBJbnB1dCgpIGRhdGE6IGFueTtcclxuXHJcblx0QE91dHB1dCgpIHJlZHJhd0V2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcjxSPigpO1xyXG5cdEBPdXRwdXQoKSB0b2dnbGVSb3dFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8Uj4oKTtcclxuXHRASW5wdXQoKSBndEV2ZW50OiBhbnk7XHJcblxyXG5cdG5ld0luc3RhbmNlKGluc3RhbmNlOiBDKTogdm9pZCB7XHJcblx0XHRpbnN0YW5jZS5yb3cgPSB0aGlzLnJvdztcclxuXHRcdGluc3RhbmNlLmNvbHVtbldpZHRoID0gdGhpcy5jb2x1bW5XaWR0aDtcclxuXHRcdGluc3RhbmNlLmd0U2V0dGluZ3MgPSB0aGlzLmd0U2V0dGluZ3M7XHJcblx0XHRpbnN0YW5jZS5ndEZpZWxkcyA9IHRoaXMuZ3RGaWVsZHM7XHJcblx0XHRpbnN0YW5jZS5ndE9wdGlvbnMgPSB0aGlzLmd0T3B0aW9ucztcclxuXHRcdGluc3RhbmNlLmd0SW5mbyA9IHRoaXMuZ3RJbmZvO1xyXG5cdFx0aW5zdGFuY2UuZGF0YSA9XHJcblx0XHRcdHR5cGVvZiB0aGlzLmRhdGEgPT09ICdmdW5jdGlvbicgPyB0aGlzLmRhdGEodGhpcy5yb3cpIDogdGhpcy5kYXRhO1xyXG5cdFx0aW5zdGFuY2UucmVkcmF3RXZlbnQuc3Vic2NyaWJlKHRoaXMucmVkcmF3RXZlbnQpO1xyXG5cdFx0aW5zdGFuY2UudG9nZ2xlUm93RXZlbnQuc3Vic2NyaWJlKHRoaXMudG9nZ2xlUm93RXZlbnQpO1xyXG5cdFx0aW5zdGFuY2UuZ3RFdmVudCA9IHRoaXMuZ3RFdmVudDtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHdFJvdyB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3Qtcm93JztcclxuaW1wb3J0IHsgR3RSb3dNZXRhIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1yb3ctbWV0YSc7XHJcblxyXG5AUGlwZSh7XHJcblx0bmFtZTogJ2d0TWV0YSdcclxufSlcclxuZXhwb3J0IGNsYXNzIEd0TWV0YVBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHR0cmFuc2Zvcm0oXHJcblx0XHRhbGxSb3dzOiBBcnJheTxHdFJvdz4sXHJcblx0XHRyb3dJbmRleD86IHN0cmluZyxcclxuXHRcdHBhZ2U/OiBudW1iZXIsXHJcblx0XHRyZWNvcmRMZW5ndGg/OiBudW1iZXJcclxuXHQpOiBBcnJheTxHdFJvdz4ge1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhbGxSb3dzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmICghYWxsUm93c1tpXS4kJGd0Um93SWQpIHtcclxuXHRcdFx0XHRhbGxSb3dzW2ldLiQkZ3RSb3dJZCA9IHJvd0luZGV4XHJcblx0XHRcdFx0XHQ/IGFsbFJvd3NbaV1bcm93SW5kZXhdXHJcblx0XHRcdFx0XHQ6IHBhZ2VcclxuXHRcdFx0XHRcdFx0PyBwYWdlICogcmVjb3JkTGVuZ3RoICtcclxuXHRcdFx0XHRcdFx0ICBpICtcclxuXHRcdFx0XHRcdFx0ICAnXycgK1xyXG5cdFx0XHRcdFx0XHQgIE1hdGgucmFuZG9tKClcclxuXHRcdFx0XHRcdFx0XHRcdC50b1N0cmluZygzNilcclxuXHRcdFx0XHRcdFx0XHRcdC5zdWJzdHIoMiwgMTYpXHJcblx0XHRcdFx0XHRcdDogaSArXHJcblx0XHRcdFx0XHRcdCAgJ18nICtcclxuXHRcdFx0XHRcdFx0ICBNYXRoLnJhbmRvbSgpXHJcblx0XHRcdFx0XHRcdFx0XHQudG9TdHJpbmcoMzYpXHJcblx0XHRcdFx0XHRcdFx0XHQuc3Vic3RyKDIsIDE2KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIWFsbFJvd3NbaV0uJCRndEluaXRpYWxSb3dJbmRleCkge1xyXG5cdFx0XHRcdGFsbFJvd3NbaV0uJCRndEluaXRpYWxSb3dJbmRleCA9IGk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBhbGxSb3dzO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG5cdENvbXBvbmVudCxcclxuXHRPbkluaXQsXHJcblx0T25DaGFuZ2VzLFxyXG5cdE91dHB1dCxcclxuXHRJbnB1dCxcclxuXHRFdmVudEVtaXR0ZXIsXHJcblx0VHlwZSxcclxuXHRTaW1wbGVDaGFuZ2VzLFxyXG5cdFJlbmRlcmVyMixcclxuXHRPbkRlc3Ryb3lcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHtcclxuXHRHdENvbmZpZyxcclxuXHRHdENvbmZpZ0ZpZWxkLFxyXG5cdEd0Q29uZmlnU2V0dGluZyxcclxuXHRHdFRleHRzLFxyXG5cdEd0SW5mb3JtYXRpb24sXHJcblx0R3RFeHBhbmRlZFJvdyxcclxuXHRHdFJvdyxcclxuXHRHdE9wdGlvbnMsXHJcblx0R3RSb3dNZXRhLFxyXG5cdEd0UmVuZGVyRmllbGQsXHJcblx0R3RFdmVudFxyXG59IGZyb20gJy4uJztcclxuaW1wb3J0IHsgR3RNZXRhUGlwZSB9IGZyb20gJy4uL3BpcGVzL2d0LW1ldGEucGlwZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuXHRzZWxlY3RvcjogJ2dlbmVyaWMtdGFibGUnLFxyXG5cdHRlbXBsYXRlOiBgPHRhYmxlIGNsYXNzPVwidGFibGVcIiBuZ0NsYXNzPVwie3tndENsYXNzZXN9fSB7e2d0T3B0aW9ucy5zdGFjayA/ICd0YWJsZS1zdGFja2VkJzonJ319XCJcclxuICAgICAgICpuZ0lmPVwiZ3RGaWVsZHMgJiYgZ3RTZXR0aW5ncyAmJiAoZ3RGaWVsZHMgfCBndFZpc2libGU6Z3RTZXR0aW5nczpyZWZyZXNoUGlwZSkubGVuZ3RoID4gMFwiPlxyXG4gIDx0aGVhZD5cclxuICA8dHI+XHJcbiAgICA8dGggY2xhc3M9XCJndC1zb3J0LWxhYmVsXCIgKm5nSWY9XCJndE9wdGlvbnMuc3RhY2tcIj57e2d0VGV4dHMuc29ydExhYmVsfX08L3RoPlxyXG4gICAgPHRoICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgZ3RTZXR0aW5ncyB8IGd0VmlzaWJsZTpndFNldHRpbmdzOnJlZnJlc2hQaXBlXCJcclxuICAgICAgICBuZ0NsYXNzPVwie3tjb2x1bW4ub2JqZWN0S2V5ICsnLWNvbHVtbicgfCBkYXNoQ2FzZX19IHt7Z3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2NsYXNzTmFtZXMnfX0ge3tjb2x1bW4uc29ydEVuYWJsZWQgPyAnc29ydC0nK2NvbHVtbi5zb3J0OicnfX0ge3tjb2x1bW4uc29ydEVuYWJsZWQgJiYgY29sdW1uLnNvcnRPcmRlciA+PSAwICA/ICdzb3J0LW9yZGVyLScrY29sdW1uLnNvcnRPcmRlcjonJ319IHt7IGd0RmllbGRzIHwgZ3RDb2x1bW5DbGFzczpjb2x1bW4gfX1cIlxyXG4gICAgICAgIChjbGljayk9XCJjb2x1bW4uc29ydEVuYWJsZWQgPyBndFNvcnQoY29sdW1uLm9iamVjdEtleSwkZXZlbnQpOicnO1wiPlxyXG4gICAgICA8c3BhbiAqbmdJZj1cIiEoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2hlYWRlcicpXCI+e3tndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonbmFtZSd9fTwvc3Bhbj5cclxuICAgICAgPGd0LWN1c3RvbS1jb21wb25lbnQtZmFjdG9yeSAqbmdJZj1cIihndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaGVhZGVyJylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt0eXBlXT1cIihndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaGVhZGVyJyk/LnR5cGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtpbmplY3Rvcl09XCIoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2hlYWRlcicpPy5pbmplY3RvclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NvbHVtbl09XCJndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonbmFtZSdcIj48L2d0LWN1c3RvbS1jb21wb25lbnQtZmFjdG9yeT5cclxuICAgICAgPGd0LWNoZWNrYm94ICpuZ0lmPVwiKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5Oidjb2x1bW5Db21wb25lbnQnKT8udHlwZSA9PT0gJ2NoZWNrYm94J1wiIFtjaGVja2VkXT1cIihndE9wdGlvbnMubGF6eUxvYWQgPyBsYXp5QWxsU2VsZWN0ZWQ6c2VsZWN0ZWRSb3dzLmxlbmd0aCA9PT0gZ3REYXRhLmxlbmd0aClcIiAoY2hhbmdlZCk9XCJ0b2dnbGVBbGxSb3dzKClcIj48L2d0LWNoZWNrYm94PlxyXG4gICAgPC90aD5cclxuICA8L3RyPlxyXG4gIDwvdGhlYWQ+XHJcbiAgPG5nLXRlbXBsYXRlXHJcbiAgICBbbmdJZl09XCJndFRvdGFscyAmJiAoZ3RPcHRpb25zLmxhenlMb2FkID09PSBmYWxzZSA/IChndERhdGEgfCBndEZpbHRlcjpndEluZm8uZmlsdGVyOmd0SW5mbzpyZWZyZXNoRmlsdGVyOmd0RGF0YS5sZW5ndGggfCBndFNlYXJjaDpndEluZm8uc2VhcmNoVGVybXM6Z3RJbmZvOmd0U2V0dGluZ3M6Z3RGaWVsZHM6Z3REYXRhLmxlbmd0aCkubGVuZ3RoID4gMCA6IGd0RGF0YS5sZW5ndGggPiAwKVwiPlxyXG4gICAgPHRoZWFkIGNsYXNzPVwiZ3QtdG90YWxzXCI+XHJcbiAgICA8dHIgKm5nRm9yPVwibGV0IHRvdGFsIG9mIGd0VG90YWxzIHwgZ3RUb3RhbHNQb3NpdGlvblwiPlxyXG4gICAgICA8dGQgKm5nRm9yPVwibGV0IGNvbHVtbiBvZiBndFNldHRpbmdzIHwgZ3RWaXNpYmxlOmd0U2V0dGluZ3M6cmVmcmVzaFBpcGU7bGV0IGkgPSBpbmRleDtcIlxyXG4gICAgICAgICAgbmdDbGFzcz1cInt7Y29sdW1uLm9iamVjdEtleSArJy10b3RhbHMtY29sdW1uJyB8IGRhc2hDYXNlfX0ge3tndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonY2xhc3NOYW1lcyd9fSB7eyBndEZpZWxkcyB8IGd0Q29sdW1uQ2xhc3M6Y29sdW1uIH19XCI+XHJcbiAgICAgICAgPHNwYW4gKm5nSWY9XCJpID09PSAwXCIgY2xhc3M9XCJmbG9hdC1sZWZ0XCI+e3t0b3RhbC5uYW1lfX08L3NwYW4+PHNwYW5cclxuICAgICAgICBbaW5uZXJIVE1MXT1cInRvdGFsLmZpZWxkc1tjb2x1bW4ub2JqZWN0S2V5XSB8IGd0VG90YWxzOih0b3RhbC51cGRhdGUgPT09IGZhbHNlIHx8IGd0T3B0aW9ucy5sYXp5TG9hZCA9PT0gdHJ1ZSkgPyBndERhdGE6KGd0RGF0YSB8IGd0RmlsdGVyOmd0SW5mby5maWx0ZXI6Z3RJbmZvOnJlZnJlc2hGaWx0ZXI6Z3REYXRhLmxlbmd0aCB8IGd0U2VhcmNoOmd0SW5mby5zZWFyY2hUZXJtczpndEluZm86Z3RTZXR0aW5nczpndEZpZWxkczpndERhdGEubGVuZ3RoKTpjb2x1bW4ub2JqZWN0S2V5OnJlZnJlc2hUb3RhbHNcIj48L3NwYW4+XHJcbiAgICAgIDwvdGQ+XHJcbiAgICA8L3RyPlxyXG4gICAgPC90aGVhZD5cclxuICAgIDx0Zm9vdCBjbGFzcz1cImd0LXRvdGFsc1wiPlxyXG4gICAgPHRyICpuZ0Zvcj1cImxldCB0b3RhbCBvZiBndFRvdGFscyB8IGd0VG90YWxzUG9zaXRpb246J2Zvb3RlcidcIj5cclxuICAgICAgPHRkICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgZ3RTZXR0aW5ncyB8IGd0VmlzaWJsZTpndFNldHRpbmdzOnJlZnJlc2hQaXBlO2xldCBpID0gaW5kZXg7XCJcclxuICAgICAgICAgIG5nQ2xhc3M9XCJ7e2NvbHVtbi5vYmplY3RLZXkgKyctdG90YWxzLWNvbHVtbicgfCBkYXNoQ2FzZX19IHt7Z3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2NsYXNzTmFtZXMnfX0ge3sgZ3RGaWVsZHMgfCBndENvbHVtbkNsYXNzOmNvbHVtbiB9fVwiPlxyXG4gICAgICAgIDxzcGFuICpuZ0lmPVwiaSA9PT0gMFwiIGNsYXNzPVwiZmxvYXQtbGVmdFwiPnt7dG90YWwubmFtZX19PC9zcGFuPjxzcGFuXHJcbiAgICAgICAgW2lubmVySFRNTF09XCJ0b3RhbC5maWVsZHNbY29sdW1uLm9iamVjdEtleV0gfCBndFRvdGFsczoodG90YWwudXBkYXRlID09PSBmYWxzZSB8fCBndE9wdGlvbnMubGF6eUxvYWQgPT09IHRydWUpID8gZ3REYXRhOihndERhdGEgfCBndEZpbHRlcjpndEluZm8uZmlsdGVyOmd0SW5mbzpyZWZyZXNoRmlsdGVyOmd0RGF0YS5sZW5ndGggfCBndFNlYXJjaDpndEluZm8uc2VhcmNoVGVybXM6Z3RJbmZvOmd0U2V0dGluZ3M6Z3RGaWVsZHM6Z3REYXRhLmxlbmd0aCk6Y29sdW1uLm9iamVjdEtleTpyZWZyZXNoVG90YWxzXCI+PC9zcGFuPlxyXG4gICAgICA8L3RkPlxyXG4gICAgPC90cj5cclxuICAgIDwvdGZvb3Q+XHJcbiAgPC9uZy10ZW1wbGF0ZT5cclxuICA8dGJvZHkgKm5nSWY9XCJndERhdGEgJiYgZ3RJbmZvXCI+XHJcbiAgPG5nLXRlbXBsYXRlIGNsYXNzPVwidGFibGUtcm93c1wiIG5nRm9yIGxldC1yb3cgbGV0LWxhc3Q9XCJsYXN0XCIgW25nRm9yVHJhY2tCeV09XCJ0cmFja0J5Rm5cIlxyXG4gICAgICAgICAgICAgICBbbmdGb3JPZl09XCJndE9wdGlvbnMubGF6eUxvYWQgJiYgZ3RJbmZvID8gKGd0RGF0YVtndEluZm8ucGFnZUN1cnJlbnQtMV0pIDogKGd0RGF0YSB8IGd0RmlsdGVyOmd0SW5mby5maWx0ZXI6Z3RJbmZvOnJlZnJlc2hGaWx0ZXI6Z3REYXRhLmxlbmd0aCB8IGd0U2VhcmNoOmd0SW5mby5zZWFyY2hUZXJtczpndEluZm86Z3RTZXR0aW5nczpndEZpZWxkczpndERhdGEubGVuZ3RoIHwgZ3RPcmRlckJ5OnNvcnRPcmRlcjpndEZpZWxkczpyZWZyZXNoU29ydGluZzpndERhdGEubGVuZ3RoIHwgZ3RDaHVuazpndEluZm86Z3RJbmZvLnJlY29yZExlbmd0aDpndEluZm8ucGFnZUN1cnJlbnQ6cmVmcmVzaFBhZ2VBcnJheTpndERhdGEubGVuZ3RoOmd0RXZlbnQ6ZGF0YSB8IGd0Um93Q2xhc3M6Z3RGaWVsZHMpXCI+XHJcbiAgICA8dHIgW25nQ2xhc3NdPVwieydyb3ctc2VsZWN0ZWQnOm1ldGFJbmZvW3Jvdy4kJGd0Um93SWRdPy5pc1NlbGVjdGVkLCAncm93LW9wZW4nOm1ldGFJbmZvW3Jvdy4kJGd0Um93SWRdPy5pc09wZW4sICdyb3ctbG9hZGluZyc6bG9hZGluZywgJ3Jvdy1leHBhbmRhYmxlJzpndFJvd0NvbXBvbmVudH1cIlxyXG4gICAgICAgIGNsYXNzPVwie3tyb3cuJCRndFJvd0NsYXNzfX1cIlxyXG4gICAgICAgIChjbGljayk9XCJndE9wdGlvbnMucm93U2VsZWN0aW9uID8gdG9nZ2xlU2VsZWN0KHJvdyk6cm93Q2xpY2socm93LCAkZXZlbnQpXCI+XHJcbiAgICAgIDx0ZCAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIHJvdyB8IGd0UmVuZGVyOmd0U2V0dGluZ3M6Z3RGaWVsZHM6cmVmcmVzaFBpcGU6bG9hZGluZzpndE9wdGlvbnMuaGlnaGxpZ2h0U2VhcmNoOmd0SW5mby5zZWFyY2hUZXJtczt0cmFja0J5OnRyYWNrQnlDb2x1bW5GblwiXHJcbiAgICAgICAgICBuZ0NsYXNzPVwie3tjb2x1bW4ub2JqZWN0S2V5ICsnLWNvbHVtbicgfCBkYXNoQ2FzZX19IHt7Z3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2NsYXNzTmFtZXMnfX0ge3soZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKSA/ICdndC1pbmxpbmUtZWRpdCc6Jyd9fSB7e2NvbHVtbi5lZGl0ZWQgPyAnZ3QtZWRpdGVkJzonJ319IHt7IGd0RmllbGRzIHwgZ3RDb2x1bW5DbGFzczpjb2x1bW46cm93IH19XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ3Qtcm93LWxhYmVsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJndE9wdGlvbnMuc3RhY2tcIj57eyhndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonc3RhY2tlZEhlYWRpbmcnKSA/IChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonc3RhY2tlZEhlYWRpbmcnKSA6IChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonbmFtZScpfX08L3NwYW4+XHJcbiAgICAgICAgPGd0LWN1c3RvbS1jb21wb25lbnQtZmFjdG9yeSAqbmdJZj1cImNvbHVtbi5jb2x1bW5Db21wb25lbnQgJiYgY29sdW1uLmNvbHVtbkNvbXBvbmVudC50eXBlICE9PSAnY2hlY2tib3gnXCIgY2xhc3M9XCJndC1yb3ctY29udGVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdHlwZV09XCJjb2x1bW4uY29sdW1uQ29tcG9uZW50LnR5cGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2luamVjdG9yXT1cImNvbHVtbi5jb2x1bW5Db21wb25lbnQuaW5qZWN0b3JcIiBbcm93XT1cInJvd1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY29sdW1uXT1cImNvbHVtblwiIChyZWRyYXdFdmVudCk9XCJyZWRyYXcoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc2VhcmNoVGVybXNdPVwiZ3RJbmZvLnNlYXJjaFRlcm1zXCIgIChzZWFyY2hFdmVudCk9XCJyZWRyYXcoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiY29sdW1uLmNsaWNrID8gY29sdW1uLmNsaWNrKHJvdyxjb2x1bW4sJGV2ZW50KTonJztjb2x1bW4uZXhwYW5kID8gdG9nZ2xlQ29sbGFwc2Uocm93LCBjb2x1bW4uZXhwYW5kKTonJ1wiPjwvZ3QtY3VzdG9tLWNvbXBvbmVudC1mYWN0b3J5PlxyXG4gICAgICAgIDxzcGFuICpuZ0lmPVwiIWNvbHVtbi5jb2x1bW5Db21wb25lbnQgJiYgKCEoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKSB8fCAoKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0Jyk/LmFjdGl2ZSB8IGd0SXNPYnNlcnZhYmxlKSAmJiAhKChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpPy5hY3RpdmUgfCBhc3luYykgfHwgKCEoKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0Jyk/LmFjdGl2ZSB8IGd0SXNPYnNlcnZhYmxlKSAmJiAhKChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpPy5hY3RpdmUgfCBndElzRWRpdGFibGU6cm93OnJlZnJlc2hQaXBlKSkpXCJcclxuICAgICAgICAgICAgICBjbGFzcz1cImd0LXJvdy1jb250ZW50XCIgW2lubmVySFRNTF09XCJjb2x1bW4ucmVuZGVyVmFsdWVcIlxyXG4gICAgICAgICAgICAgIChjbGljayk9XCJjb2x1bW4uY2xpY2sgPyBjb2x1bW4uY2xpY2socm93LGNvbHVtbiwkZXZlbnQpOicnO2NvbHVtbi5leHBhbmQgPyB0b2dnbGVDb2xsYXBzZShyb3csIGNvbHVtbi5leHBhbmQpOicnXCI+PC9zcGFuPlxyXG4gICAgICAgIDxuZy10ZW1wbGF0ZVxyXG4gICAgICAgICAgW25nSWZdPVwiIWNvbHVtbi5jb2x1bW5Db21wb25lbnQgJiYgKCgoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKT8uYWN0aXZlIHwgZ3RJc09ic2VydmFibGUpICYmICgoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKT8uYWN0aXZlIHwgYXN5bmMpIHx8ICgoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKT8uYWN0aXZlIHwgZ3RJc0VkaXRhYmxlOnJvdzpyZWZyZXNoUGlwZSkpXCI+XHJcbiAgICAgICAgICA8bmctdGVtcGxhdGUgW25nSWZdPVwiKFt0cnVlLCdlbWFpbCcsJ251bWJlcicsJ3Bhc3N3b3JkJywgJ3RleHQnXS5pbmRleE9mKChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpLnR5cGUpICE9PSAtMSkgfHwgIShndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpLnR5cGVcIj5cclxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiaW5saW5lLWVkaXRcIiBbYXR0ci50eXBlXT1cIiEoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKS50eXBlID8gJ3RleHQnIDogISgoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKS50eXBlIHwgZ3RJc09ic2VydmFibGUpID8gKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykudHlwZTooZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKS50eXBlIHwgYXN5bmNcIiBbKG5nTW9kZWwpXT1cImNvbHVtbi5yZW5kZXJWYWx1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAoaW5wdXQpPVwiZ3RVcGRhdGVDb2x1bW4oJGV2ZW50LHJvdywgY29sdW1uKVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImd0LWlubGluZS1lZGl0LW5vdGljZVwiPnt7Z3RUZXh0cy5pbmxpbmVFZGl0RWRpdGVkfX08L3NwYW4+XHJcbiAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgPGd0LWRyb3Bkb3duXHJcbiAgICAgICAgICAgICpuZ0lmPVwiKCgoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKS50eXBlKSAmJiAoKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykudHlwZSkubGVuZ3RoID4gMCkgfHwgKChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpLnR5cGUgfCBndElzT2JzZXJ2YWJsZSlcIlxyXG4gICAgICAgICAgICBbb3B0aW9uc109XCIhKChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpLnR5cGUgfCBndElzT2JzZXJ2YWJsZSkgPyAoZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnKS50eXBlIDogKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykudHlwZSB8IGFzeW5jXCJcclxuICAgICAgICAgICAgW2lkXT1cIidfJyArIHJvdy4kJGd0Um93SWQgKyAnXycgKyBjb2x1bW4ub2JqZWN0S2V5XCJcclxuICAgICAgICAgICAgWyhzZWxlY3RlZCldPVwiY29sdW1uLnJlbmRlclZhbHVlXCIgKHNlbGVjdGVkQ2hhbmdlKT1cImd0RHJvcGRvd25TZWxlY3Qocm93LCBjb2x1bW4pXCI+QWRkXHJcbiAgICAgICAgICAgIGlubGluZSBlZGl0aW5nIG1vZHVsZVxyXG4gICAgICAgICAgPC9ndC1kcm9wZG93bj5cclxuICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdJZl09XCIhY29sdW1uLmNvbHVtbkNvbXBvbmVudCAmJiAhKChndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpPy5hY3RpdmUpIFwiPlxyXG4gICAgICAgICAgPG5nLXRlbXBsYXRlXHJcbiAgICAgICAgICAgIFtuZ0lmXT1cIlt0cnVlLCdlbWFpbCcsJ251bWJlcicsJ3Bhc3N3b3JkJ10uaW5kZXhPZihndEZpZWxkcyB8IGd0UHJvcGVydHk6Y29sdW1uLm9iamVjdEtleTonaW5saW5lRWRpdCcpICE9PSAtMVwiPlxyXG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJpbmxpbmUtZWRpdFwiIFthdHRyLnR5cGVdPVwiKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykgPT09IHRydWUgPyAndGV4dCc6KGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JylcIiBbKG5nTW9kZWwpXT1cImNvbHVtbi5yZW5kZXJWYWx1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAoaW5wdXQpPVwiZ3RVcGRhdGVDb2x1bW4oJGV2ZW50LHJvdywgY29sdW1uKVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImd0LWlubGluZS1lZGl0LW5vdGljZVwiPnt7Z3RUZXh0cy5pbmxpbmVFZGl0RWRpdGVkfX08L3NwYW4+XHJcbiAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgPGd0LWRyb3Bkb3duXHJcbiAgICAgICAgICAgICpuZ0lmPVwiKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykgJiYgW3RydWUsJ2VtYWlsJywnbnVtYmVyJywncGFzc3dvcmQnXS5pbmRleE9mKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykgPT09IC0xXCJcclxuICAgICAgICAgICAgW29wdGlvbnNdPVwiZ3RGaWVsZHMgfCBndFByb3BlcnR5OmNvbHVtbi5vYmplY3RLZXk6J2lubGluZUVkaXQnXCJcclxuICAgICAgICAgICAgW2lkXT1cIidfJyArIHJvdy4kJGd0Um93SWQgKyAnXycgKyBjb2x1bW4ub2JqZWN0S2V5XCJcclxuICAgICAgICAgICAgWyhzZWxlY3RlZCldPVwiY29sdW1uLnJlbmRlclZhbHVlXCIgKHNlbGVjdGVkQ2hhbmdlKT1cImd0RHJvcGRvd25TZWxlY3Qocm93LCBjb2x1bW4pXCI+QWRkXHJcbiAgICAgICAgICAgIGlubGluZSBlZGl0aW5nIG1vZHVsZVxyXG4gICAgICAgICAgPC9ndC1kcm9wZG93bj5cclxuICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgIDxndC1jaGVja2JveCAqbmdJZj1cImNvbHVtbi5jb2x1bW5Db21wb25lbnQgJiYgY29sdW1uLmNvbHVtbkNvbXBvbmVudC50eXBlID09PSAnY2hlY2tib3gnXCIgW2NoZWNrZWRdPVwibWV0YUluZm9bcm93LiQkZ3RSb3dJZF0/LmlzU2VsZWN0ZWRcIiAoY2hhbmdlZCk9XCJ0b2dnbGVTZWxlY3Qocm93KVwiPjwvZ3QtY2hlY2tib3g+XHJcbiAgICAgIDwvdGQ+XHJcbiAgICA8L3RyPlxyXG4gICAgPHRyIGNsYXNzPVwicm93LWV4cGFuZGVkXCIgKm5nSWY9XCJtZXRhSW5mb1tyb3cuJCRndFJvd0lkXT8uaXNPcGVuXCI+XHJcbiAgICAgIDx0ZCBbYXR0ci5jb2xzcGFuXT1cIihndEZpZWxkcyB8IGd0VmlzaWJsZTpndFNldHRpbmdzOnJlZnJlc2hQaXBlKS5sZW5ndGhcIj5cclxuICAgICAgICA8Z3QtZXhwYW5kaW5nLXJvdyBbcm93XT1cInJvd1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW3R5cGVdPVwiZXhwYW5kZWRSb3cuY29tcG9uZW50ID8gZXhwYW5kZWRSb3cuY29tcG9uZW50Omd0Um93Q29tcG9uZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBbY29sdW1uV2lkdGhdPVwiY29sdW1uV2lkdGhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtndEZpZWxkc109XCJndEZpZWxkc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW2d0T3B0aW9uc109XCJndE9wdGlvbnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtndEV2ZW50XT1cImd0RXZlbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtndEluZm9dPVwiZ3RJbmZvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBbZ3RTZXR0aW5nc109XCJndFNldHRpbmdzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBbZGF0YV09XCJleHBhbmRlZFJvdy5kYXRhID8gZXhwYW5kZWRSb3cuZGF0YTpyb3dcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChyZWRyYXdFdmVudCk9XCJyZWRyYXcoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKHRvZ2dsZVJvd0V2ZW50KT1cInRvZ2dsZUNvbGxhcHNlKCRldmVudClcIj48L2d0LWV4cGFuZGluZy1yb3c+XHJcbiAgICAgIDwvdGQ+XHJcbiAgICA8L3RyPlxyXG4gICAgPHRyICpuZ0lmPVwiZ3RPcHRpb25zLnJlcG9ydENvbHVtbldpZHRoICYmIGxhc3RcIj5cclxuICAgICAgPHRkIHN0eWxlPVwicGFkZGluZzogMDsgYm9yZGVyOm5vbmU7XCJcclxuICAgICAgICAgICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgZ3RTZXR0aW5ncyB8IGd0VmlzaWJsZTpndFNldHRpbmdzOnJlZnJlc2hQaXBlXCIgZ3RDb2x1bW5XaWR0aFxyXG4gICAgICAgICAgW29iamVjdEtleV09XCJjb2x1bW4ub2JqZWN0S2V5XCIgW3dpZHRoc109XCJjb2x1bW5XaWR0aFwiPjwvdGQ+XHJcbiAgICA8L3RyPlxyXG4gIDwvbmctdGVtcGxhdGU+XHJcbiAgPHRyICpuZ0lmPVwiZ3RJbmZvLnBhZ2VUb3RhbCA9PT0gMCAmJiAoZ3RJbmZvLnNlYXJjaFRlcm1zIHx8IGd0SW5mby5maWx0ZXIpICYmICFsb2FkaW5nXCI+XHJcbiAgICA8dGQgY2xhc3M9XCJndC1uby1tYXRjaGluZy1yZXN1bHRzXCIgW2F0dHIuY29sc3Bhbl09XCIoZ3RGaWVsZHMgfCBndFZpc2libGU6Z3RTZXR0aW5ncykubGVuZ3RoXCI+XHJcbiAgICAgIHt7Z3RUZXh0cy5ub01hdGNoaW5nRGF0YX19XHJcbiAgICA8L3RkPlxyXG4gIDwvdHI+XHJcbiAgPHRyICpuZ0lmPVwiZ3RJbmZvLnBhZ2VUb3RhbCA9PT0gMCAmJiAhKGd0SW5mby5zZWFyY2hUZXJtcyB8fCBndEluZm8uZmlsdGVyKSAmJiAhbG9hZGluZ1wiPlxyXG4gICAgPHRkIGNsYXNzPVwiZ3Qtbm8tcmVzdWx0c1wiIFthdHRyLmNvbHNwYW5dPVwiKGd0RmllbGRzIHwgZ3RWaXNpYmxlOmd0U2V0dGluZ3MpLmxlbmd0aFwiPnt7Z3RUZXh0cy5ub0RhdGF9fVxyXG4gICAgPC90ZD5cclxuICA8L3RyPlxyXG4gIDx0ciAqbmdJZj1cImd0SW5mby5wYWdlVG90YWwgPT09IDAgJiYgbG9hZGluZ1wiPlxyXG4gICAgPHRkIGNsYXNzPVwiZ3QtbG9hZGluZy1kYXRhXCIgW2F0dHIuY29sc3Bhbl09XCIoZ3RGaWVsZHMgfCBndFZpc2libGU6Z3RTZXR0aW5ncykubGVuZ3RoXCI+e3tndFRleHRzLmxvYWRpbmd9fTwvdGQ+XHJcbiAgPC90cj5cclxuICA8L3Rib2R5PlxyXG48L3RhYmxlPlxyXG48dGFibGUgY2xhc3M9XCJ0YWJsZVwiIG5nQ2xhc3M9XCJ7e2d0Q2xhc3Nlc319IHt7Z3RPcHRpb25zLnN0YWNrID8gJ3RhYmxlLXN0YWNrZWQnOicnfX1cIlxyXG4gICAgICAgKm5nSWY9XCJndEZpZWxkcyAmJiBndFNldHRpbmdzICYmIChndEZpZWxkcyB8IGd0VmlzaWJsZTpndFNldHRpbmdzOnJlZnJlc2hQaXBlKS5sZW5ndGggPT09IDBcIj5cclxuICA8dGhlYWQ+XHJcbiAgPHRyPlxyXG4gICAgPHRoIGNsYXNzPVwiZ3Qtbm8tdmlzaWJsZS1jb2x1bW5zXCI+e3tndFRleHRzLm5vVmlzaWJsZUNvbHVtbnNIZWFkaW5nfX08L3RoPlxyXG4gIDwvdHI+XHJcbiAgPC90aGVhZD5cclxuICA8dGJvZHk+XHJcbiAgPHRyPlxyXG4gICAgPHRkIGNsYXNzPVwiZ3Qtbm8tdmlzaWJsZS1jb2x1bW5zXCI+e3tndFRleHRzLm5vVmlzaWJsZUNvbHVtbnN9fTwvdGQ+XHJcbiAgPC90cj5cclxuICA8L3Rib2R5PlxyXG48L3RhYmxlPlxyXG48dGFibGUgY2xhc3M9XCJ0YWJsZVwiIG5nQ2xhc3M9XCJ7e2d0Q2xhc3Nlc319IHt7Z3RPcHRpb25zLnN0YWNrID8gJ3RhYmxlLXN0YWNrZWQnOicnfX1cIlxyXG4gICAgICAgKm5nSWY9XCIhZ3RGaWVsZHMgfHwgIWd0U2V0dGluZ3NcIj5cclxuICA8dGhlYWQ+XHJcbiAgPHRyPlxyXG4gICAgPHRoIGNsYXNzPVwiZ3QtbG9hZGluZy1jb25maWdcIj4mbmJzcDs8L3RoPlxyXG4gIDwvdHI+XHJcbiAgPC90aGVhZD5cclxuICA8dGJvZHk+XHJcbiAgPHRyPlxyXG4gICAgPHRkIGNsYXNzPVwiZ3QtbG9hZGluZy1jb25maWdcIj4mbmJzcDs8L3RkPlxyXG4gIDwvdHI+XHJcbiAgPC90Ym9keT5cclxuPC90YWJsZT5cclxuYFxyXG59KVxyXG5leHBvcnQgY2xhc3MgR2VuZXJpY1RhYmxlQ29tcG9uZW50PFIgZXh0ZW5kcyBHdFJvdywgQyBleHRlbmRzIEd0RXhwYW5kZWRSb3c8Uj4+XHJcblx0aW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95IHtcclxuXHRnZXQgZ3RSb3dDb21wb25lbnQoKTogVHlwZTxDPiB7XHJcblx0XHRyZXR1cm4gdGhpcy5fZ3RSb3dDb21wb25lbnQ7XHJcblx0fVxyXG5cclxuXHRnZXQgaGFzRWRpdHMoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gT2JqZWN0LmtleXModGhpcy5lZGl0ZWRSb3dzKS5sZW5ndGggPiAwO1xyXG5cdH1cclxuXHJcblx0Z2V0IGd0T3B0aW9ucygpOiBHdE9wdGlvbnMge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2d0T3B0aW9ucztcclxuXHR9XHJcblxyXG5cdGdldCBndFRvdGFscygpOiBhbnkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2d0VG90YWxzO1xyXG5cdH1cclxuXHJcblx0Z2V0IGd0RmllbGRzKCk6IEd0Q29uZmlnRmllbGQ8UiwgYW55PltdIHtcclxuXHRcdHJldHVybiB0aGlzLl9ndEZpZWxkcztcclxuXHR9XHJcblxyXG5cdGdldCBndFNldHRpbmdzKCk6IEd0Q29uZmlnU2V0dGluZ1tdIHtcclxuXHRcdHJldHVybiB0aGlzLl9ndFNldHRpbmdzO1xyXG5cdH1cclxuXHJcblx0Z2V0IGd0RGF0YSgpOiBBcnJheTxhbnk+IHtcclxuXHRcdHJldHVybiB0aGlzLl9ndERhdGE7XHJcblx0fVxyXG5cclxuXHRASW5wdXQoKVxyXG5cdHNldCBndE9wdGlvbnModmFsdWU6IEd0T3B0aW9ucykge1xyXG5cdFx0dGhpcy5fZ3RPcHRpb25zID0gdmFsdWU7XHJcblxyXG5cdFx0Ly8gaWYgbnVtYmVyIG9mIHJvd3MgaXMgcGFzc2VkIGFuZCBpZiBudW1iZXIgb2Ygcm93cyBkaWZmZXJzIGZyb20gY3VycmVudCByZWNvcmQgbGVuZ3RoLi4uXHJcblx0XHRpZiAoXHJcblx0XHRcdHRoaXMuZ3RPcHRpb25zLm51bWJlck9mUm93cyAmJlxyXG5cdFx0XHR0aGlzLmd0SW5mby5yZWNvcmRMZW5ndGggIT09IHRoaXMuZ3RPcHRpb25zLm51bWJlck9mUm93c1xyXG5cdFx0KSB7XHJcblx0XHRcdC8vIC4uLnVwZGF0ZSByZWNvcmQgbGVuZ3RoIGFuZCByZWRyYXcgdGFibGVcclxuXHRcdFx0dGhpcy5ndEluZm8ucmVjb3JkTGVuZ3RoID0gdGhpcy5ndE9wdGlvbnMubnVtYmVyT2ZSb3dzO1xyXG5cdFx0XHR0aGlzLnJlZHJhdygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIC4uLmV4dGVuZCBndE9wdGlvbnMgZGVmYXVsdCB2YWx1ZXMgd2l0aCB2YWx1ZXMgcGFzc2VkIGludG8gY29tcG9uZW50XHJcblx0XHR0aGlzLl9ndE9wdGlvbnMgPSA8R3RPcHRpb25zPnRoaXMuZXh0ZW5kKFxyXG5cdFx0XHR0aGlzLmd0RGVmYXVsdE9wdGlvbnMsXHJcblx0XHRcdHRoaXMuX2d0T3B0aW9uc1xyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdEBJbnB1dCgpXHJcblx0c2V0IGd0VG90YWxzKHZhbHVlOiBhbnkpIHtcclxuXHRcdHRoaXMuX2d0VG90YWxzID0gdmFsdWU7XHJcblx0fVxyXG5cdEBJbnB1dCgpXHJcblx0c2V0IGd0RmllbGRzKHZhbHVlOiBHdENvbmZpZ0ZpZWxkPFIsIGFueT5bXSkge1xyXG5cdFx0dGhpcy5fZ3RGaWVsZHMgPSB2YWx1ZTtcclxuXHRcdGNvbnN0IENPTFVNTlNfV0lUSF9DTEFTU19OQU1FUyA9IHRoaXMuX2d0RmllbGRzXHJcblx0XHRcdC5tYXAoY29sdW1uID0+IGNvbHVtbilcclxuXHRcdFx0LmZpbHRlcihjb2x1bW4gPT4gY29sdW1uLmNsYXNzTmFtZXMpO1xyXG5cdFx0Ly8gVE9ETzogcmVtb3ZlIGRlcHJlY2F0ZWQgd2FybmluZyB3aGVuIHNldHRpbmcgaGFzIGJlZW4gcmVtb3ZlZFxyXG5cdFx0aWYgKENPTFVNTlNfV0lUSF9DTEFTU19OQU1FUy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGNvbnNvbGUud2FybihcclxuXHRcdFx0XHQnRmllbGQgc2V0dGluZyBcImNsYXNzTmFtZXNcIiBoYXZlIGJlZW4gZGVwcmVjYXRlZCBpbiBmYXZvciBmb3IgXCJjb2x1bW5DbGFzc1wiIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgcGxlYXNlIHVwZGF0ZSBmaWVsZCBzZXR0aW5ncyBmb3IgY29sdW1uIHdpdGggb2JqZWN0IGtleTogJyArXHJcblx0XHRcdFx0XHRDT0xVTU5TX1dJVEhfQ0xBU1NfTkFNRVNbMF0ub2JqZWN0S2V5XHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdEBJbnB1dCgpXHJcblx0c2V0IGd0U2V0dGluZ3ModmFsdWU6IEd0Q29uZmlnU2V0dGluZ1tdKSB7XHJcblx0XHR0aGlzLl9ndFNldHRpbmdzID0gdmFsdWU7XHJcblxyXG5cdFx0Ly8gbG9vcCB0aHJvdWdoIGN1cnJlbnQgc2V0dGluZ3NcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZ3RTZXR0aW5ncy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHQvLyBzZXQgc29ydCBlbmFibGVkL2Rpc2FibGVkIHNldHRpbmdcclxuXHRcdFx0dGhpcy5fZ3RTZXR0aW5nc1tpXS5zb3J0RW5hYmxlZCA9XHJcblx0XHRcdFx0dGhpcy5fZ3RTZXR0aW5nc1tpXS5zb3J0RW5hYmxlZCAhPT0gZmFsc2VcclxuXHRcdFx0XHRcdD8gKHRoaXMuX2d0U2V0dGluZ3NbaV0uc29ydEVuYWJsZWQgPSAhKFxyXG5cdFx0XHRcdFx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0uc29ydCAmJlxyXG5cdFx0XHRcdFx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0uc29ydC5pbmRleE9mKCdkaXNhYmxlJykgIT09IC0xXHJcblx0XHRcdFx0XHQgICkpXHJcblx0XHRcdFx0XHQ6IGZhbHNlO1xyXG5cclxuXHRcdFx0Ly8gY2hlY2sgaWYgc29ydGluZyBpcyB1bmRlZmluZWQuLi5cclxuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0Ly8gLi4uaXMgc28sIHNldCBzb3J0aW5nIHByb3BlcnR5IHRvIGVuYWJsZVxyXG5cdFx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0uc29ydCA9ICdlbmFibGUnO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBjaGVjayBpZiBjb2x1bW4gb3JkZXIgaXMgdW5kZWZpbmVkLi4uXHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHR0eXBlb2YgdGhpcy5fZ3RTZXR0aW5nc1tpXS5jb2x1bW5PcmRlciA9PT0gJ3VuZGVmaW5lZCcgJiZcclxuXHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLmVuYWJsZWQgIT09IGZhbHNlXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdC8vIC4uLmlzIHNvLCBzZXQgc29ydGluZyBwcm9wZXJ0eSB0byBlbmFibGVcclxuXHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLmNvbHVtbk9yZGVyID0gdGhpcy5fZ3RTZXR0aW5nc1tpIC0gMV1cclxuXHRcdFx0XHRcdD8gdGhpcy5fZ3RTZXR0aW5nc1tpIC0gMV0uY29sdW1uT3JkZXIgKyAxXHJcblx0XHRcdFx0XHQ6IDA7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNoZWNrIGlmIGNvbHVtbiBsb2NrIHNldHRpbmdzIGFyZSB1bmRlZmluZWQuLi5cclxuXHRcdFx0aWYgKHR5cGVvZiB0aGlzLl9ndFNldHRpbmdzW2ldLmxvY2tTZXR0aW5ncyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHQvLyAuLi5pZiBzbywgc2V0IGxvY2sgc2V0dGluZ3MgdG8gZmFsc2UgdW5sZXNzIGZpZWxkIGlzIGRpc2FibGVkIChlbmFibGUgPT09IGZhbHNlKVxyXG5cdFx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0ubG9ja1NldHRpbmdzID1cclxuXHRcdFx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0uZW5hYmxlZCA9PT0gZmFsc2UgfHwgZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHRoaXMucmVzdHJ1Y3R1cmVTb3J0aW5nKCk7XHJcblx0fVxyXG5cdEBJbnB1dCgpXHJcblx0c2V0IGd0RGF0YShpbml0aWFsRGF0YTogQXJyYXk8YW55Pikge1xyXG5cdFx0Y29uc3QgZGF0YSA9IHRoaXMuX2d0T3B0aW9ucy5tdXRhdGVEYXRhXHJcblx0XHRcdD8gWy4uLmluaXRpYWxEYXRhXVxyXG5cdFx0XHQ6IHRoaXMuY2xvbmVEZWVwKGluaXRpYWxEYXRhKTtcclxuXHRcdGlmICh0aGlzLmd0T3B0aW9ucy5sYXp5TG9hZCAmJiB0aGlzLmd0SW5mbykge1xyXG5cdFx0XHR0aGlzLmd0TWV0YVBpcGUudHJhbnNmb3JtKFxyXG5cdFx0XHRcdGRhdGEsXHJcblx0XHRcdFx0dGhpcy5ndE9wdGlvbnMucm93SW5kZXgsXHJcblx0XHRcdFx0dGhpcy5ndEluZm8ucGFnZUN1cnJlbnQgLSAxLFxyXG5cdFx0XHRcdHRoaXMuZ3RJbmZvLnJlY29yZExlbmd0aFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRpZiAodGhpcy5sYXp5QWxsU2VsZWN0ZWQpIHtcclxuXHRcdFx0XHRjb25zdCBVTklRVUVfUk9XUyA9IHRoaXMuc2VsZWN0ZWRSb3dzLm1hcChyb3cgPT4gcm93LiQkZ3RSb3dJZCk7XHJcblx0XHRcdFx0ZGF0YS5tYXAocm93ID0+IHtcclxuXHRcdFx0XHRcdGlmIChVTklRVUVfUk9XUy5pbmRleE9mKHJvdy4kJGd0Um93SWQpID09PSAtMSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkUm93cy5wdXNoKHJvdyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0dGhpcy5fdXBkYXRlTWV0YUluZm8odGhpcy5zZWxlY3RlZFJvd3MsICdpc1NlbGVjdGVkJywgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuZ3RNZXRhUGlwZS50cmFuc2Zvcm0oZGF0YSwgdGhpcy5ndE9wdGlvbnMucm93SW5kZXgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuZ3RPcHRpb25zLnJvd1NlbGVjdGlvbkluaXRpYWxTdGF0ZSkge1xyXG5cdFx0XHRkYXRhLm1hcChyb3cgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHNlbGVjdGVkID1cclxuXHRcdFx0XHRcdHR5cGVvZiB0aGlzLmd0T3B0aW9ucy5yb3dTZWxlY3Rpb25Jbml0aWFsU3RhdGUgPT09ICdmdW5jdGlvbidcclxuXHRcdFx0XHRcdFx0PyB0aGlzLmd0T3B0aW9ucy5yb3dTZWxlY3Rpb25Jbml0aWFsU3RhdGUocm93KVxyXG5cdFx0XHRcdFx0XHQ6IHRoaXMuZ3RPcHRpb25zLnJvd1NlbGVjdGlvbkluaXRpYWxTdGF0ZTtcclxuXHRcdFx0XHRpZiAoc2VsZWN0ZWQpIHtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgdGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXSA9IHsgaXNTZWxlY3RlZDogdHJ1ZSB9O1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXS5pc1NlbGVjdGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuc2VsZWN0ZWRSb3dzLnB1c2gocm93KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0aWYgKFxyXG5cdFx0XHR0aGlzLmd0T3B0aW9ucy5yb3dFeHBhbmRJbml0aWFsU3RhdGUgJiZcclxuXHRcdFx0dGhpcy5ndE9wdGlvbnMucm93RXhwYW5kSW5pdGlhbENvbXBvbmVudFxyXG5cdFx0KSB7XHJcblx0XHRcdGRhdGEubWFwKHJvdyA9PiB7XHJcblx0XHRcdFx0Y29uc3QgZXhwYW5kZWQgPVxyXG5cdFx0XHRcdFx0dHlwZW9mIHRoaXMuZ3RPcHRpb25zLnJvd0V4cGFuZEluaXRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJ1xyXG5cdFx0XHRcdFx0XHQ/IHRoaXMuZ3RPcHRpb25zLnJvd0V4cGFuZEluaXRpYWxTdGF0ZShyb3cpXHJcblx0XHRcdFx0XHRcdDogdGhpcy5ndE9wdGlvbnMucm93RXhwYW5kSW5pdGlhbFN0YXRlO1xyXG5cdFx0XHRcdHRoaXMuZXhwYW5kZWRSb3cgPSB0aGlzLmd0T3B0aW9ucy5yb3dFeHBhbmRJbml0aWFsQ29tcG9uZW50O1xyXG5cclxuXHRcdFx0XHRpZiAoZXhwYW5kZWQpIHtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgdGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXSA9IHsgaXNPcGVuOiB0cnVlIH07XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR0aGlzLm1ldGFJbmZvW3Jvdy4kJGd0Um93SWRdLmlzT3BlbiA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdHRoaXMuX2d0RGF0YSA9IGRhdGE7XHJcblx0fVxyXG5cclxuXHRASW5wdXQoKVxyXG5cdHNldCBndFJvd0NvbXBvbmVudCh2YWx1ZTogVHlwZTxDPikge1xyXG5cdFx0Y29uc29sZS53YXJuKFxyXG5cdFx0XHQnR3RSb3dDb21wb25lbnQgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgc3VwcG9ydCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgcmVsZWFzZSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9oamFsbWVycy9hbmd1bGFyLWdlbmVyaWMtdGFibGUvaXNzdWVzLzM0J1xyXG5cdFx0KTtcclxuXHRcdHRoaXMuX2d0Um93Q29tcG9uZW50ID0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY29sdW1uV2lkdGg6IE9iamVjdCA9IHt9O1xyXG5cdHB1YmxpYyBjb25maWdPYmplY3Q6IEd0Q29uZmlnPFI+O1xyXG5cdHB1YmxpYyBzb3J0T3JkZXI6IEFycmF5PGFueT4gPSBbXTtcclxuXHRwdWJsaWMgbWV0YUluZm86IHsgW2d0Um93SWQ6IHN0cmluZ106IEd0Um93TWV0YSB9ID0ge307XHJcblx0cHVibGljIHNlbGVjdGVkUm93czogQXJyYXk8R3RSb3c+ID0gW107XHJcblx0cHVibGljIG9wZW5Sb3dzOiBBcnJheTxHdFJvdz4gPSBbXTtcclxuXHRwcml2YXRlIF9ndFNldHRpbmdzOiBHdENvbmZpZ1NldHRpbmdbXSA9IFtdO1xyXG5cdHByaXZhdGUgX2d0RmllbGRzOiBHdENvbmZpZ0ZpZWxkPFIsIGFueT5bXSA9IFtdO1xyXG5cdHByaXZhdGUgX2d0RGF0YTogQXJyYXk8YW55PjtcclxuXHRwcml2YXRlIF9ndFRvdGFsczogYW55O1xyXG5cdHByaXZhdGUgX2d0Um93Q29tcG9uZW50OiBUeXBlPEM+O1xyXG5cdHB1YmxpYyBleHBhbmRlZFJvdzoge1xyXG5cdFx0Y29tcG9uZW50OiBUeXBlPEM+O1xyXG5cdFx0ZGF0YT86IEFycmF5PGFueT47XHJcblx0fTtcclxuXHRwdWJsaWMgZ3REZWZhdWx0VGV4dHM6IEd0VGV4dHMgPSB7XHJcblx0XHRsb2FkaW5nOiAnTG9hZGluZy4uLicsXHJcblx0XHRub0RhdGE6ICdObyBkYXRhJyxcclxuXHRcdG5vTWF0Y2hpbmdEYXRhOiAnTm8gZGF0YSBtYXRjaGluZyByZXN1bHRzIGZvdW5kJyxcclxuXHRcdG5vVmlzaWJsZUNvbHVtbnNIZWFkaW5nOiAnTm8gdmlzaWJsZSBjb2x1bW5zJyxcclxuXHRcdG5vVmlzaWJsZUNvbHVtbnM6ICdQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSBjb2x1bW4gdG8gYmUgdmlzaWJsZS4nLFxyXG5cdFx0dGFibGVJbmZvOlxyXG5cdFx0XHQnU2hvd2luZyAjcmVjb3JkRnJvbSB0byAjcmVjb3JkVG8gb2YgI3JlY29yZHNBZnRlclNlYXJjaCBlbnRyaWVzLicsXHJcblx0XHR0YWJsZUluZm9BZnRlclNlYXJjaDpcclxuXHRcdFx0J1Nob3dpbmcgICNyZWNvcmRGcm9tIHRvICNyZWNvcmRUbyBvZiAjcmVjb3Jkc0FmdGVyU2VhcmNoIGVudHJpZXMgKGZpbHRlcmVkIGZyb20gYSB0b3RhbCBvZiAjcmVjb3Jkc0FsbCBlbnRyaWVzKS4nLFxyXG5cdFx0Y3N2RG93bmxvYWQ6ICdkb3dubG9hZCcsXHJcblx0XHRzb3J0TGFiZWw6ICdTb3J0OicsXHJcblx0XHRwYWdpbmF0ZU5leHQ6ICdOZXh0IHBhZ2UnLFxyXG5cdFx0cGFnaW5hdGVQcmV2aW91czogJ1ByZXZpb3VzIHBhZ2UnLFxyXG5cdFx0aW5saW5lRWRpdEVkaXRlZDogJ1ByZXNzIGVudGVyIHRvIHNhdmUnXHJcblx0fTtcclxuXHRASW5wdXQoKSBndFRleHRzOiBHdFRleHRzID0gdGhpcy5ndERlZmF1bHRUZXh0cztcclxuXHRASW5wdXQoKSBndENsYXNzZXM6IHN0cmluZztcclxuXHRAT3V0cHV0KCkgZ3RFdmVudDogRXZlbnRFbWl0dGVyPEd0RXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cdHB1YmxpYyBndERlZmF1bHRPcHRpb25zOiBHdE9wdGlvbnMgPSB7XHJcblx0XHRjc3ZEZWxpbWl0ZXI6ICc7JyxcclxuXHRcdHN0YWNrOiBmYWxzZSxcclxuXHRcdGxhenlMb2FkOiBmYWxzZSxcclxuXHRcdGNhY2hlOiBmYWxzZSxcclxuXHRcdGRlYm91bmNlVGltZTogMjAwLFxyXG5cdFx0aGlnaGxpZ2h0U2VhcmNoOiBmYWxzZSxcclxuXHRcdHJvd1NlbGVjdGlvbjogZmFsc2UsXHJcblx0XHRyb3dTZWxlY3Rpb25BbGxvd011bHRpcGxlOiB0cnVlLFxyXG5cdFx0cm93RXhwYW5kQWxsb3dNdWx0aXBsZTogdHJ1ZSxcclxuXHRcdG51bWJlck9mUm93czogMTAsXHJcblx0XHRyZXBvcnRDb2x1bW5XaWR0aDogZmFsc2UsXHJcblx0XHRhbGxvd1Vuc29ydGVkOiB0cnVlLFxyXG5cdFx0bXV0YXRlRGF0YTogdHJ1ZVxyXG5cdH07XHJcblx0cHJpdmF0ZSBfZ3RPcHRpb25zOiBHdE9wdGlvbnMgPSB0aGlzLmd0RGVmYXVsdE9wdGlvbnM7XHJcblx0cHVibGljIHN0b3JlOiBBcnJheTxhbnk+ID0gW107XHJcblx0cHVibGljIGxvYWRpbmcgPSB0cnVlO1xyXG5cdHByaXZhdGUgZGVib3VuY2VUaW1lcjogdm9pZCA9IG51bGw7XHJcblx0cHVibGljIGxvYWRpbmdQcm9wZXJ0eTogc3RyaW5nO1xyXG5cdHB1YmxpYyBsYXp5QWxsU2VsZWN0ZWQgPSBmYWxzZTtcclxuXHJcblx0QElucHV0KClcclxuXHRndEluZm86IEd0SW5mb3JtYXRpb24gPSB7XHJcblx0XHRwYWdlQ3VycmVudDogMSxcclxuXHRcdHBhZ2VUb3RhbDogMCxcclxuXHRcdHJlY29yZEZyb206IDAsXHJcblx0XHRyZWNvcmRUbzogMCxcclxuXHRcdHJlY29yZExlbmd0aDogdGhpcy5ndE9wdGlvbnMubnVtYmVyT2ZSb3dzLFxyXG5cdFx0cmVjb3Jkc0FsbDogMCxcclxuXHRcdHJlY29yZHNBZnRlckZpbHRlcjogMCxcclxuXHRcdHJlY29yZHNBZnRlclNlYXJjaDogMFxyXG5cdH07XHJcblxyXG5cdHB1YmxpYyByZWZyZXNoUGlwZSA9IGZhbHNlO1xyXG5cdHB1YmxpYyByZWZyZXNoVG90YWxzID0gZmFsc2U7XHJcblx0cHVibGljIHJlZnJlc2hTb3J0aW5nID0gZmFsc2U7XHJcblx0cHVibGljIHJlZnJlc2hGaWx0ZXIgPSBmYWxzZTtcclxuXHRwdWJsaWMgcmVmcmVzaFBhZ2VBcnJheSA9IGZhbHNlO1xyXG5cdHByaXZhdGUgZ2xvYmFsSW5saW5lRWRpdExpc3RlbmVyOiBGdW5jdGlvbjtcclxuXHRwdWJsaWMgZWRpdGVkUm93czoge1xyXG5cdFx0W2tleTogc3RyaW5nXToge1xyXG5cdFx0XHRjaGFuZ2VzOiB7IFtrZXk6IHN0cmluZ106IEd0UmVuZGVyRmllbGQ8R3RSb3csIGFueT4gfTtcclxuXHRcdFx0cm93OiBHdFJvdztcclxuXHRcdH07XHJcblx0fSA9IHt9O1xyXG5cclxuXHRwdWJsaWMgZGF0YTogeyBleHBvcnREYXRhOiBBcnJheTxhbnk+IH0gPSB7IGV4cG9ydERhdGE6IFtdIH07IC8vIFN0b3JlIGZpbHRlcmVkIGRhdGEgZm9yIGV4cG9ydFxyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcjIsIHByaXZhdGUgZ3RNZXRhUGlwZTogR3RNZXRhUGlwZSkge1xyXG5cdFx0dGhpcy5ndEV2ZW50LnN1YnNjcmliZSgoJGV2ZW50OiBHdEV2ZW50KSA9PiB7XHJcblx0XHRcdGlmICgkZXZlbnQubmFtZSA9PT0gJ2d0LWluZm8nKSB7XHJcblx0XHRcdFx0dGhpcy51cGRhdGVSZWNvcmRSYW5nZSgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICgkZXZlbnQubmFtZSA9PT0gJ2d0LXJvdy11cGRhdGVkJykge1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlVG90YWxzKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU29ydCB0YWJsZSBieSBvYmplY3Qga2V5LlxyXG5cdCAqIEBwYXJhbSBvYmplY3RLZXkgLSBuYW1lIG9mIGtleSB0byBzb3J0IG9uLlxyXG5cdCAqIEBwYXJhbSBldmVudCAtIHN1Y2ggYXMga2V5IHByZXNzIGR1cmluZyBzb3J0aW5nLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBndFNvcnQgPSBmdW5jdGlvbihvYmplY3RLZXk6IHN0cmluZywgZXZlbnQ6IGFueSkge1xyXG5cdFx0dGhpcy5pbmxpbmVFZGl0Q2FuY2VsKCk7IC8vIGNhbmNlbCBpbmxpbmUgZWRpdGluZ1xyXG5cclxuXHRcdC8vIGxvb3AgdGhyb3VnaCBjdXJyZW50IHNldHRpbmdzXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2d0U2V0dGluZ3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKHRoaXMuX2d0U2V0dGluZ3NbaV0ub2JqZWN0S2V5ID09PSBvYmplY3RLZXkpIHtcclxuXHRcdFx0XHQvLyBjaGVjayBpZiBzb3J0aW5nIGlzIGRpc2FibGVkLi4uXHJcblx0XHRcdFx0aWYgKFxyXG5cdFx0XHRcdFx0dGhpcy5fZ3RTZXR0aW5nc1tpXS5zb3J0ICYmXHJcblx0XHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQuaW5kZXhPZignZGlzYWJsZScpICE9PSAtMVxyXG5cdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0Ly8gLi4uaWYgc28sIGV4aXQgZnVuY3Rpb24gd2l0aG91dCBhcHBseWluZyBhbnkgc29ydGluZ1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoXHJcblx0XHRcdFx0XHQvKiBjaGVjayBpZiBzb3J0aW5nIGlzIHVuZGVmaW5lZC4uLiAqLyB0eXBlb2YgdGhpcy5fZ3RTZXR0aW5nc1tpXVxyXG5cdFx0XHRcdFx0XHQuc29ydCA9PT0gJ3VuZGVmaW5lZCdcclxuXHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdC8vIC4uLmlzIHNvLCBzZXQgc29ydGluZyBwcm9wZXJ0eSB0byBlbmFibGVcclxuXHRcdFx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0uc29ydCA9ICdlbmFibGUnO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNoZWNrIGxlbmd0aFxyXG5cdFx0Y29uc3QgY3RybEtleSA9IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleTtcclxuXHRcdGNvbnN0IHNvcnQgPSB0aGlzLnNvcnRPcmRlci5zbGljZSgwKTtcclxuXHJcblx0XHRsZXQgbWF0Y2ggPSAtMTtcclxuXHRcdGxldCBtYXRjaERlc2MgPSAtMTtcclxuXHRcdGxldCBwb3MgPSAtMTtcclxuXHJcblx0XHQvLyBjaGVjayBpZiBwcm9wZXJ0eSBhbHJlYWR5IGV4aXRzXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHNvcnQubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgaGl0ID0gc29ydFtpXS5pbmRleE9mKG9iamVjdEtleSk7XHJcblx0XHRcdGlmIChoaXQgIT09IC0xKSB7XHJcblx0XHRcdFx0bWF0Y2ggPSB0aGlzLnNvcnRPcmRlci5pbmRleE9mKG9iamVjdEtleSk7XHJcblx0XHRcdFx0bWF0Y2hEZXNjID1cclxuXHRcdFx0XHRcdG1hdGNoID09PSAtMSA/IHRoaXMuc29ydE9yZGVyLmluZGV4T2YoJy0nICsgb2JqZWN0S2V5KSA6IG1hdGNoO1xyXG5cdFx0XHRcdHBvcyA9IE1hdGgubWF4KG1hdGNoLCBtYXRjaERlc2MpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gaWYgY3RybCBrZXkgb3IgbWV0YSBrZXkgaXMgcHJlc3MgdG9nZXRoZXIgd2l0aCBzb3J0Li4uXHJcblx0XHRpZiAoY3RybEtleSkge1xyXG5cdFx0XHRpZiAodGhpcy5zb3J0T3JkZXJbdGhpcy5zb3J0T3JkZXIubGVuZ3RoIC0gMV0gPT09ICckJGd0SW5pdGlhbFJvd0luZGV4Jykge1xyXG5cdFx0XHRcdHRoaXMuc29ydE9yZGVyLnBvcCgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN3aXRjaCAocG9zKSB7XHJcblx0XHRcdFx0Ly8gLi4uYW5kIHByb3BlcnR5IGlzIG5vdCBzb3J0ZWQgYmVmb3JlLi4uXHJcblx0XHRcdFx0Y2FzZSAtMTpcclxuXHRcdFx0XHRcdC8vIC4uLmFkZCBwcm9wZXJ0eSB0byBzb3J0aW5nXHJcblx0XHRcdFx0XHR0aGlzLnNvcnRPcmRlci5wdXNoKG9iamVjdEtleSk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0Ly8gLi4uYW5kIHByb3BlcnR5IGlzIHNvcnRlZCBiZWZvcmUuLi5cclxuXHRcdFx0XHRcdGlmIChtYXRjaCAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdFx0Ly8gLi4uY2hhbmdlIGZyb20gYXNjIHRvIGRlc2MgaWYgc29ydGVkIGFzY1xyXG5cdFx0XHRcdFx0XHR0aGlzLnNvcnRPcmRlcltwb3NdID0gJy0nICsgb2JqZWN0S2V5O1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnNvcnRPcmRlci5sZW5ndGggPiAxKSB7XHJcblx0XHRcdFx0XHRcdC8vIC4uLnJlbW92ZSBzb3J0aW5nIGlmIHNvcnRlZCBkZXNjXHJcblx0XHRcdFx0XHRcdGlmIChjdHJsS2V5KSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5zb3J0T3JkZXJbcG9zXSA9IG9iamVjdEtleTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnNvcnRPcmRlci5zcGxpY2UocG9zLCAxKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIGlmICh0aGlzLnNvcnRPcmRlci5sZW5ndGggPT09IDEpIHtcclxuXHRcdFx0XHRcdFx0Ly8gLi4uc2V0IHNvcnRpbmcgdG8gYXNjIGlmIG9ubHkgc29ydGVkIHByb3BlcnR5XHJcblx0XHRcdFx0XHRcdHRoaXMuc29ydE9yZGVyW3Bvc10gPSBvYmplY3RLZXk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0LyogaWYgY3RybCBrZXkgb3IgbWV0YSBrZXkgaXMgbm90IHByZXNzIHRvZ2V0aGVyIHdpdGggc29ydC4uLiAqL1xyXG5cdFx0XHRzd2l0Y2ggKHBvcykge1xyXG5cdFx0XHRcdC8vIC4uLmFuZCBwcm9wZXJ0eSBpcyBub3Qgc29ydGVkIGJlZm9yZS4uLlxyXG5cdFx0XHRcdGNhc2UgLTE6XHJcblx0XHRcdFx0XHQvLyAuLi5zb3J0IGJ5IHByb3BlcnR5XHJcblx0XHRcdFx0XHR0aGlzLnNvcnRPcmRlciA9IFtvYmplY3RLZXldO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdC8vIC4uLmNoYW5nZSBmcm9tIGRlc2MgdG8gYXNjIGFuZCB2aXNlIHZlcnNhXHJcblx0XHRcdFx0XHR0aGlzLnNvcnRPcmRlciA9XHJcblx0XHRcdFx0XHRcdG1hdGNoICE9PSAtMVxyXG5cdFx0XHRcdFx0XHRcdD8gWyctJyArIG9iamVjdEtleV1cclxuXHRcdFx0XHRcdFx0XHQ6IGN0cmxLZXkgfHwgIXRoaXMuZ3RPcHRpb25zLmFsbG93VW5zb3J0ZWRcclxuXHRcdFx0XHRcdFx0XHRcdD8gW29iamVjdEtleV1cclxuXHRcdFx0XHRcdFx0XHRcdDogW107XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHVwZGF0ZSBzZXR0aW5ncyBvYmplY3Qgd2l0aCBuZXcgc29ydGluZyBpbmZvcm1hdGlvblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9ndFNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmICh0aGlzLl9ndFNldHRpbmdzW2ldLm9iamVjdEtleSA9PT0gb2JqZWN0S2V5KSB7XHJcblx0XHRcdFx0c3dpdGNoICh0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQpIHtcclxuXHRcdFx0XHRcdC8vIGlmIHNvcnRlZCBhc2MuLi5cclxuXHRcdFx0XHRcdGNhc2UgJ2FzYyc6XHJcblx0XHRcdFx0XHRcdC8vIC4uLmNoYW5nZSB0byBkZXNjXHJcblx0XHRcdFx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0uc29ydCA9ICdkZXNjJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHQvLyBpZiBzb3J0ZWQgZGVzYy4uLlxyXG5cdFx0XHRcdFx0Y2FzZSAnZGVzYyc6XHJcblx0XHRcdFx0XHRcdC8vIC4uLmNoYW5nZSB0byBhc2MgaWYgaXQncyB0aGUgb25seSBzb3J0ZWQgcHJvcGVydHkgb3RoZXJ3aXNlIHJlbW92ZSBzb3J0aW5nXHJcblx0XHRcdFx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0uc29ydCA9XHJcblx0XHRcdFx0XHRcdFx0KHRoaXMuc29ydE9yZGVyLmxlbmd0aCA9PT0gMSAmJiBzb3J0Lmxlbmd0aCA8IDIpIHx8XHJcblx0XHRcdFx0XHRcdFx0Y3RybEtleSB8fFxyXG5cdFx0XHRcdFx0XHRcdCF0aGlzLmd0T3B0aW9ucy5hbGxvd1Vuc29ydGVkXHJcblx0XHRcdFx0XHRcdFx0XHQ/ICdhc2MnXHJcblx0XHRcdFx0XHRcdFx0XHQ6ICdlbmFibGUnO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdC8vIGlmIHNvcnRpbmcgZW5hYmxlZC4uLlxyXG5cdFx0XHRcdFx0Y2FzZSAnZW5hYmxlJzpcclxuXHRcdFx0XHRcdFx0Ly8gLi4uY2hhbmdlIHRvIGFzY1xyXG5cdFx0XHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQgPSAnYXNjJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0uc29ydE9yZGVyID1cclxuXHRcdFx0XHRcdHRoaXMuX2d0U2V0dGluZ3NbaV0uc29ydCA9PT0gJ2VuYWJsZSdcclxuXHRcdFx0XHRcdFx0PyB0aGlzLl9ndFNldHRpbmdzLmxlbmd0aCAtIDFcclxuXHRcdFx0XHRcdFx0OiB0aGlzLnNvcnRPcmRlci5pbmRleE9mKG9iamVjdEtleSkgPT09IC0xXHJcblx0XHRcdFx0XHRcdFx0PyB0aGlzLnNvcnRPcmRlci5pbmRleE9mKCctJyArIG9iamVjdEtleSlcclxuXHRcdFx0XHRcdFx0XHQ6IHRoaXMuc29ydE9yZGVyLmluZGV4T2Yob2JqZWN0S2V5KTtcclxuXHRcdFx0fSBlbHNlIGlmIChcclxuXHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQgJiZcclxuXHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQuaW5kZXhPZignZGlzYWJsZScpID09PSAtMSAmJlxyXG5cdFx0XHRcdHRoaXMuc29ydE9yZGVyLmluZGV4T2YodGhpcy5fZ3RTZXR0aW5nc1tpXS5vYmplY3RLZXkpID09PSAtMSAmJlxyXG5cdFx0XHRcdHRoaXMuc29ydE9yZGVyLmluZGV4T2YoJy0nICsgdGhpcy5fZ3RTZXR0aW5nc1tpXS5vYmplY3RLZXkpID09PSAtMVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnQgPSAnZW5hYmxlJztcclxuXHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzW2ldLnNvcnRPcmRlciA9IHRoaXMuX2d0U2V0dGluZ3MubGVuZ3RoIC0gMTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHJlZnJlc2ggc29ydGluZyBwaXBlXHJcblx0XHR0aGlzLnJlZnJlc2hTb3J0aW5nID0gIXRoaXMucmVmcmVzaFNvcnRpbmc7XHJcblx0XHR0aGlzLnJlZnJlc2hQYWdlQXJyYXkgPSAhdGhpcy5yZWZyZXNoUGFnZUFycmF5O1xyXG5cclxuXHRcdC8vIHNvcnQgYnkgaW5pdGlhbCBzb3J0IG9yZGVyIGFzIGxhc3QgcmVzb3J0XHJcblx0XHR0aGlzLnNvcnRPcmRlci5wdXNoKCckJGd0SW5pdGlhbFJvd0luZGV4Jyk7XHJcblxyXG5cdFx0Ly8gZW1pdCBzb3J0IGV2ZW50XHJcblx0XHR0aGlzLmd0RXZlbnQuZW1pdCh7XHJcblx0XHRcdG5hbWU6ICdndC1zb3J0aW5nLWFwcGxpZWQnLFxyXG5cdFx0XHR2YWx1ZTogdGhpcy5zb3J0T3JkZXJcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoYW5nZSBudW1iZXIgb2Ygcm93cyB0byBiZSBkaXNwbGF5ZWQuXHJcblx0ICogQHBhcmFtIHJvd0xlbmd0aCAtIHRvdGFsIG51bWJlciBvZiByb3dzLlxyXG5cdCAqIEBwYXJhbSByZXNldCAtIHNob3VsZCBwYWdlIGJlIHJlc2V0IHRvIGZpcnN0IHBhZ2UuXHJcblx0ICovXHJcblx0cHVibGljIGNoYW5nZVJvd0xlbmd0aCA9IGZ1bmN0aW9uKHJvd0xlbmd0aDogYW55LCByZXNldD86IGJvb2xlYW4pIHtcclxuXHRcdGxldCBsZW5ndGhWYWx1ZSA9IGlzTmFOKHBhcnNlSW50KHJvd0xlbmd0aCwgMTApKVxyXG5cdFx0XHQ/IDBcclxuXHRcdFx0OiBwYXJzZUludChyb3dMZW5ndGgsIDEwKTtcclxuXHRcdGxldCBuZXdQb3NpdGlvbiA9IDE7XHJcblxyXG5cdFx0aWYgKCFsZW5ndGhWYWx1ZSAmJiB0aGlzLmd0RGF0YSkge1xyXG5cdFx0XHRsZW5ndGhWYWx1ZSA9IHRoaXMuZ3REYXRhLmxlbmd0aDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBpZiByZXNldCBpcyBub3QgdHJ1ZSBhbmQgd2UncmUgbm90IGxhenkgbG9hZGluZyBkYXRhLi4uXHJcblx0XHRpZiAocmVzZXQgIT09IHRydWUgJiYgdGhpcy5fZ3RPcHRpb25zLmxhenlMb2FkICE9PSB0cnVlKSB7XHJcblx0XHRcdC8vIC4uLmdldCBjdXJyZW50IHBvc2l0aW9uIGluIHJlY29yZCBzZXRcclxuXHRcdFx0Y29uc3QgY3VycmVudFJlY29yZCA9XHJcblx0XHRcdFx0dGhpcy5ndEluZm8ucmVjb3JkTGVuZ3RoICogKHRoaXMuZ3RJbmZvLnBhZ2VDdXJyZW50IC0gMSk7XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9XHJcblx0XHRcdFx0dGhpcy5fZ3REYXRhLmluZGV4T2YodGhpcy5fZ3REYXRhW2N1cnJlbnRSZWNvcmRdKSArIDE7XHJcblxyXG5cdFx0XHQvLyAuLi5nZXQgbmV3IHBvc2l0aW9uXHJcblx0XHRcdG5ld1Bvc2l0aW9uID0gTWF0aC5jZWlsKGN1cnJlbnRQb3NpdGlvbiAvIGxlbmd0aFZhbHVlKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjaGFuZ2Ugcm93IGxlbmd0aFxyXG5cdFx0dGhpcy5ndEluZm8ucmVjb3JkTGVuZ3RoID0gbGVuZ3RoVmFsdWU7XHJcblxyXG5cdFx0Ly8gZ28gdG8gbmV3IHBvc2l0aW9uXHJcblx0XHR0aGlzLmd0SW5mby5wYWdlQ3VycmVudCA9IG5ld1Bvc2l0aW9uO1xyXG5cclxuXHRcdC8vIGlmIGxhenkgbG9hZGluZyBkYXRhLi4uXHJcblx0XHRpZiAodGhpcy5fZ3RPcHRpb25zLmxhenlMb2FkKSB7XHJcblx0XHRcdC8vIC4uLnJlcGxhY2UgZGF0YSB3aXRoIHBsYWNlIGhvbGRlcnMgZm9yIG5ldyBkYXRhXHJcblx0XHRcdHRoaXMuX2d0RGF0YVswXSA9IHRoaXMubG9hZGluZ0NvbnRlbnQobGVuZ3RoVmFsdWUpO1xyXG5cclxuXHRcdFx0Ly8gLi4uZW1wdHkgY3VycmVudCBzdG9yZVxyXG5cdFx0XHR0aGlzLnN0b3JlID0gW107XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gdGhpcy51cGRhdGVSZWNvcmRSYW5nZSgpO1xyXG5cclxuXHRcdHRoaXMuZ3RFdmVudC5lbWl0KHtcclxuXHRcdFx0bmFtZTogJ2d0LXJvdy1sZW5ndGgtY2hhbmdlZCcsXHJcblx0XHRcdHZhbHVlOiBsZW5ndGhWYWx1ZVxyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRm9yY2UgYSByZWRyYXcgb2YgdGFibGUgcm93cy5cclxuXHQgKiBBcyB0aGUgdGFibGUgdXNlcyBwdXJlIHBpcGVzLCB3ZSBuZWVkIHRvIGZvcmNlIGEgcmVkcmF3IGlmIGFuIG9iamVjdCBpbiB0aGUgYXJyYXkgaXMgY2hhbmdlZCB0byBzZWUgdGhlIGNoYW5nZXMuXHJcblx0ICovXHJcblx0cHVibGljIHJlZHJhdyA9IGZ1bmN0aW9uKCRldmVudD86IGFueSkge1xyXG5cdFx0dGhpcy5yZWZyZXNoU29ydGluZyA9ICF0aGlzLnJlZnJlc2hTb3J0aW5nO1xyXG5cdFx0dGhpcy5yZWZyZXNoUGFnZUFycmF5ID0gIXRoaXMucmVmcmVzaFBhZ2VBcnJheTtcclxuXHRcdHRoaXMucmVmcmVzaFBpcGUgPSAhdGhpcy5yZWZyZXNoUGlwZTtcclxuXHR9O1xyXG5cclxuXHQvKiogVXBkYXRlIHJlY29yZCByYW5nZS4gKi9cclxuXHRwcml2YXRlIHVwZGF0ZVJlY29yZFJhbmdlKCkge1xyXG5cdFx0dGhpcy5ndEluZm8ucmVjb3JkRnJvbSA9XHJcblx0XHRcdHRoaXMuZ3RJbmZvLnJlY29yZHNBZnRlclNlYXJjaCA9PT0gMFxyXG5cdFx0XHRcdD8gMFxyXG5cdFx0XHRcdDogKHRoaXMuZ3RJbmZvLnBhZ2VDdXJyZW50IC0gMSkgKiB0aGlzLmd0SW5mby5yZWNvcmRMZW5ndGggKyAxO1xyXG5cdFx0dGhpcy5ndEluZm8ucmVjb3JkVG8gPVxyXG5cdFx0XHR0aGlzLmd0SW5mby5yZWNvcmRzQWZ0ZXJTZWFyY2ggPFxyXG5cdFx0XHR0aGlzLmd0SW5mby5wYWdlQ3VycmVudCAqIHRoaXMuZ3RJbmZvLnJlY29yZExlbmd0aFxyXG5cdFx0XHRcdD8gdGhpcy5ndEluZm8ucmVjb3Jkc0FmdGVyU2VhcmNoXHJcblx0XHRcdFx0OiB0aGlzLmd0SW5mby5wYWdlQ3VycmVudCAqIHRoaXMuZ3RJbmZvLnJlY29yZExlbmd0aDtcclxuXHR9XHJcblxyXG5cdC8qKiBVcGRhdGUgdG90YWxzLiAqL1xyXG5cdHByaXZhdGUgdXBkYXRlVG90YWxzKCkge1xyXG5cdFx0dGhpcy5yZWZyZXNoVG90YWxzID0gIXRoaXMucmVmcmVzaFRvdGFscztcclxuXHR9XHJcblxyXG5cdC8qKiBHbyB0byBuZXh0IHBhZ2UuICovXHJcblx0cHVibGljIG5leHRQYWdlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRjb25zdCBwYWdlID1cclxuXHRcdFx0dGhpcy5ndEluZm8ucGFnZUN1cnJlbnQgPT09IHRoaXMuZ3RJbmZvLnBhZ2VUb3RhbFxyXG5cdFx0XHRcdD8gdGhpcy5ndEluZm8ucGFnZVRvdGFsXHJcblx0XHRcdFx0OiB0aGlzLmd0SW5mby5wYWdlQ3VycmVudCArIDE7XHJcblx0XHR0aGlzLmdvVG9QYWdlKHBhZ2UpO1xyXG5cdH07XHJcblxyXG5cdC8qKiBHbyB0byBwcmV2aW91cyBwYWdlLiAqL1xyXG5cdHB1YmxpYyBwcmV2aW91c1BhZ2UgPSBmdW5jdGlvbigpIHtcclxuXHRcdGNvbnN0IHBhZ2UgPVxyXG5cdFx0XHR0aGlzLmd0SW5mby5wYWdlQ3VycmVudCA9PT0gMSA/IDEgOiB0aGlzLmd0SW5mby5wYWdlQ3VycmVudCAtIDE7XHJcblx0XHR0aGlzLmdvVG9QYWdlKHBhZ2UpO1xyXG5cdH07XHJcblxyXG5cdC8qKiBSZXF1ZXN0IG1vcmUgZGF0YSAodXNlZCB3aGVuIGxhenkgbG9hZGluZykgKi9cclxuXHRwcml2YXRlIGdldERhdGEgPSBmdW5jdGlvbigpIHtcclxuXHRcdC8vIC4uLmVtaXQgZXZlbnQgcmVxdWVzdGluZyBmb3IgbW9yZSBkYXRhXHJcblx0XHR0aGlzLmd0RXZlbnQuZW1pdCh7XHJcblx0XHRcdG5hbWU6ICdndC1wYWdlLWNoYW5nZWQtbGF6eScsXHJcblx0XHRcdHZhbHVlOiB7XHJcblx0XHRcdFx0cGFnZUN1cnJlbnQ6IHRoaXMuZ3RJbmZvLnBhZ2VDdXJyZW50LFxyXG5cdFx0XHRcdHJlY29yZExlbmd0aDogdGhpcy5ndEluZm8ucmVjb3JkTGVuZ3RoXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdvIHRvIHNwZWNpZmljIHBhZ2UuXHJcblx0ICogQHBhcmFtIHBhZ2UgLSBwYWdlIG51bWJlci5cclxuXHQgKi9cclxuXHRwdWJsaWMgZ29Ub1BhZ2UgPSBmdW5jdGlvbihwYWdlOiBudW1iZXIpIHtcclxuXHRcdGNvbnN0IHByZXZpb3VzUGFnZSA9IHRoaXMuZ3RJbmZvLnBhZ2VDdXJyZW50O1xyXG5cdFx0dGhpcy5ndEluZm8ucGFnZUN1cnJlbnQgPSBwYWdlO1xyXG5cdFx0dGhpcy5pbmxpbmVFZGl0Q2FuY2VsKCk7IC8vIGNhbmNlbCBpbmxpbmUgZWRpdFxyXG5cclxuXHRcdC8vIGlmIGxhenkgbG9hZGluZyBhbmQgaWYgcGFnZSBjb250YWlucyBubyByZWNvcmRzLi4uXHJcblx0XHRpZiAodGhpcy5fZ3RPcHRpb25zLmxhenlMb2FkKSB7XHJcblx0XHRcdC8vIC4uLmlmIGRhdGEgZm9yIGN1cnJlbnQgcGFnZSBjb250YWlucyBubyBlbnRyaWVzLi4uXHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHR0aGlzLl9ndE9wdGlvbnMuY2FjaGUgPT09IGZhbHNlIHx8XHJcblx0XHRcdFx0dGhpcy5fZ3REYXRhW3RoaXMuZ3RJbmZvLnBhZ2VDdXJyZW50IC0gMV0ubGVuZ3RoID09PSAwXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdC8vIC4uLmNyZWF0ZSB0ZW1wb3JhcnkgY29udGVudCB3aGlsZSB3YWl0aW5nIGZvciBkYXRhXHJcblx0XHRcdFx0dGhpcy5fZ3REYXRhW3RoaXMuZ3RJbmZvLnBhZ2VDdXJyZW50IC0gMV0gPSB0aGlzLmxvYWRpbmdDb250ZW50KFxyXG5cdFx0XHRcdFx0dGhpcy5ndEluZm8ucmVjb3JkTGVuZ3RoXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHR0aGlzLmxvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nIHRydWVcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyAuLi5pZiBmaXJzdCBlbnRyeSBpbiBjdXJyZW50IHBhZ2UgZXF1YWxzIG91ciBsb2FkaW5nIHBsYWNlaG9sZGVyLi4uXHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHR0aGlzLl9ndERhdGFbdGhpcy5ndEluZm8ucGFnZUN1cnJlbnQgLSAxXVswXVt0aGlzLmxvYWRpbmdQcm9wZXJ0eV0gPT09XHJcblx0XHRcdFx0dGhpcy5ndFRleHRzLmxvYWRpbmdcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0Ly8gLi4uZ2V0IGRhdGFcclxuXHRcdFx0XHRjbGVhclRpbWVvdXQodGhpcy5kZWJvdW5jZVRpbWVyKTtcclxuXHRcdFx0XHR0aGlzLmRlYm91bmNlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuZ2V0RGF0YSgpO1xyXG5cdFx0XHRcdH0sIHRoaXMuX2d0T3B0aW9ucy5kZWJvdW5jZVRpbWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gdGhpcy51cGRhdGVSZWNvcmRSYW5nZSgpO1xyXG5cclxuXHRcdC8vIC4uLmVtaXQgcGFnZSBjaGFuZ2UgZXZlbnRcclxuXHRcdGlmIChwcmV2aW91c1BhZ2UgIT09IHBhZ2UpIHtcclxuXHRcdFx0dGhpcy5ndEV2ZW50LmVtaXQoe1xyXG5cdFx0XHRcdG5hbWU6ICdndC1wYWdlLWNoYW5nZWQnLFxyXG5cdFx0XHRcdHZhbHVlOiB7XHJcblx0XHRcdFx0XHRwYWdlQ3VycmVudDogdGhpcy5ndEluZm8ucGFnZUN1cnJlbnQsXHJcblx0XHRcdFx0XHRwYWdlUHJldmlvdXM6IHByZXZpb3VzUGFnZSxcclxuXHRcdFx0XHRcdHJlY29yZExlbmd0aDogdGhpcy5ndEluZm8ucmVjb3JkTGVuZ3RoXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgbWV0YSBkYXRhIGZvciByb3cuXHJcblx0ICovXHJcblx0cHVibGljIGdldFJvd1N0YXRlKHJvdzogUik6IEd0Um93TWV0YSB7XHJcblx0XHRyZXR1cm4gdHlwZW9mIHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF0gPT09ICd1bmRlZmluZWQnXHJcblx0XHRcdD8gbnVsbFxyXG5cdFx0XHQ6IHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFeHBhbmQgYWxsIHJvd3MuXHJcblx0ICogQHBhcmFtIGV4cGFuZGVkUm93IC0gY29tcG9uZW50IHRvIHJlbmRlciB3aGVuIHJvd3MgYXJlIGV4cGFuZGVkLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBleHBhbmRBbGxSb3dzKGV4cGFuZGVkUm93OiB7IGNvbXBvbmVudDogVHlwZTxDPjsgZGF0YT86IGFueSB9KTogdm9pZCB7XHJcblx0XHR0aGlzLmV4cGFuZGVkUm93ID0gZXhwYW5kZWRSb3c7XHJcblx0XHR0aGlzLl90b2dnbGVBbGxSb3dQcm9wZXJ0eSgnaXNPcGVuJywgdHJ1ZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb2xsYXBzZSBhbGwgcm93cy5cclxuXHQgKi9cclxuXHRwdWJsaWMgY29sbGFwc2VBbGxSb3dzKCk6IHZvaWQge1xyXG5cdFx0dGhpcy5fdG9nZ2xlQWxsUm93UHJvcGVydHkoJ2lzT3BlbicsIGZhbHNlKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNlbGVjdCBhbGwgcm93cy5cclxuXHQgKi9cclxuXHRwdWJsaWMgc2VsZWN0QWxsUm93cygpOiB2b2lkIHtcclxuXHRcdHRoaXMuX3RvZ2dsZUFsbFJvd1Byb3BlcnR5KCdpc1NlbGVjdGVkJywgdHJ1ZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEZXNlbGVjdCBhbGwgcm93cy5cclxuXHQgKi9cclxuXHRwdWJsaWMgZGVzZWxlY3RBbGxSb3dzKCk6IHZvaWQge1xyXG5cdFx0dGhpcy5fdG9nZ2xlQWxsUm93UHJvcGVydHkoJ2lzU2VsZWN0ZWQnLCBmYWxzZSk7XHJcblx0fVxyXG5cdC8qKlxyXG5cdCAqIFRvZ2dsZSBhbGwgcm93cy5cclxuXHQgKi9cclxuXHRwdWJsaWMgdG9nZ2xlQWxsUm93cygpOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLl9ndE9wdGlvbnMubGF6eUxvYWQpIHtcclxuXHRcdFx0aWYgKCF0aGlzLmxhenlBbGxTZWxlY3RlZCB8fCB0aGlzLnNlbGVjdGVkUm93cy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHR0aGlzLnNlbGVjdEFsbFJvd3MoKTtcclxuXHRcdFx0XHR0aGlzLmxhenlBbGxTZWxlY3RlZCA9IHRydWU7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5kZXNlbGVjdEFsbFJvd3MoKTtcclxuXHRcdFx0XHR0aGlzLmxhenlBbGxTZWxlY3RlZCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAodGhpcy5zZWxlY3RlZFJvd3MubGVuZ3RoICE9PSB0aGlzLmd0RGF0YS5sZW5ndGgpIHtcclxuXHRcdFx0XHR0aGlzLnNlbGVjdEFsbFJvd3MoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmRlc2VsZWN0QWxsUm93cygpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUb2dnbGUgcm93IGNvbGxhcHNlZCBzdGF0ZSBpZS4gZXhwYW5kZWQvb3BlbiBvciBjb2xsYXBzZWQvY2xvc2VkLlxyXG5cdCAqIEBwYXJhbSByb3cgLSByb3cgb2JqZWN0IHRoYXQgc2hvdWxkIGJlIGV4cGFuZGVkL2NvbGxhcHNlZC5cclxuXHQgKiBAcGFyYW0gZXhwYW5kZWRSb3cgLSBjb21wb25lbnQgdG8gcmVuZGVyIHdoZW4gcm93IGlzIGV4cGFuZGVkLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyB0b2dnbGVDb2xsYXBzZShcclxuXHRcdHJvdzogR3RSb3csXHJcblx0XHRleHBhbmRlZFJvdz86IHsgY29tcG9uZW50OiBUeXBlPEM+OyBkYXRhPzogYW55IH1cclxuXHQpIHtcclxuXHRcdGlmIChleHBhbmRlZFJvdykge1xyXG5cdFx0XHR0aGlzLmV4cGFuZGVkUm93ID0gZXhwYW5kZWRSb3c7XHJcblx0XHR9XHJcblx0XHR0aGlzLl90b2dnbGVSb3dQcm9wZXJ0eShyb3csICdpc09wZW4nKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRvZ2dsZSByb3cgc2VsZWN0ZWQgc3RhdGUgaWUuIHNlbGVjdGVkIG9yIG5vdC5cclxuXHQgKiBAcGFyYW0gcm93IC0gcm93IG9iamVjdCB0aGF0IHNob3VsZCBiZSBzZWxlY3RlZC9kZXNlbGVjdGVkLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyB0b2dnbGVTZWxlY3Qocm93OiBHdFJvdykge1xyXG5cdFx0dGhpcy5fdG9nZ2xlUm93UHJvcGVydHkocm93LCAnaXNTZWxlY3RlZCcpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHJvd0NsaWNrKHJvdzogR3RSb3csICRldmVudDogTW91c2VFdmVudCkge1xyXG5cdFx0dGhpcy5ndEV2ZW50LmVtaXQoe1xyXG5cdFx0XHRuYW1lOiAnZ3Qtcm93LWNsaWNrZWQnLFxyXG5cdFx0XHR2YWx1ZTogeyByb3c6IHJvdywgZXZlbnQ6ICRldmVudCB9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSByb3cgZGF0YS5cclxuXHQgKiBAcGFyYW0gcm93IC0gcm93IG9iamVjdCB0aGF0IGhhcyBiZWVuIGVkaXRlZC5cclxuXHQgKiBAcGFyYW0gb2xkVmFsdWUgLSByb3cgb2JqZWN0IGJlZm9yZSBlZGl0LlxyXG5cdCAqL1xyXG5cdHB1YmxpYyB1cGRhdGVSb3cocm93OiBHdFJvdywgb2xkVmFsdWU6IEd0Um93KSB7XHJcblx0XHR0aGlzLl90b2dnbGVSb3dQcm9wZXJ0eShyb3csICdpc1VwZGF0ZWQnLCBvbGRWYWx1ZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiByZW1vdmVzIGEgcm93IGZyb20gdGhlIHRhYmxlXHJcblx0ICogQHBhcmFtIHJvdyAtIHRoZSByb3cgb2JqZWN0IHRvIHJlbW92ZVxyXG5cdCAqL1xyXG5cdHB1YmxpYyByZW1vdmVSb3cocm93OiBHdFJvdykge1xyXG5cdFx0aWYgKHRoaXMuaXNSb3dTZWxlY3RlZChyb3cpKSB7XHJcblx0XHRcdHRoaXMudG9nZ2xlU2VsZWN0KHJvdyk7XHJcblx0XHR9XHJcblx0XHRjb25zdCBpbmRleCA9IHRoaXMuX2d0RGF0YS5pbmRleE9mKHJvdyk7XHJcblx0XHR0aGlzLl9ndERhdGEuc3BsaWNlKGluZGV4LCAxKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIGNoZWNrIGlmIGEgcm93IGlzIHNlbGVjdGVkXHJcblx0ICogQHBhcmFtIHJvdyAtIHJvdyBvYmplY3RcclxuXHQgKi9cclxuXHRwdWJsaWMgaXNSb3dTZWxlY3RlZChyb3c6IEd0Um93KTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHR0aGlzLm1ldGFJbmZvW3Jvdy4kJGd0Um93SWRdICYmIHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF0uaXNTZWxlY3RlZFxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVwZGF0ZSBtZXRhIGluZm8gZm9yIGFsbCByb3dzLCBpZS4gaXNTZWxlY3RlZCwgaXNPcGVuLlxyXG5cdCAqIEBwYXJhbSBhcnJheSAtIGFycmF5IHRoYXQgaG9sZHMgcm93cyB0aGF0IG5lZWQgdG8gYmUgdXBkYXRlZC5cclxuXHQgKiBAcGFyYW0gcHJvcGVydHkgLSBuYW1lIG9mIHByb3BlcnR5IHRoYXQgc2hvdWxkIGJlIGNoYW5nZWQvdG9nZ2xlZC5cclxuXHQgKiBAcGFyYW0gYWN0aXZlIC0gc2hvdWxkIHJvd3MgYmUgZXhwYW5kZWQvb3Blbiwgc2VsZWN0ZWQuXHJcblx0ICogQHBhcmFtIGV4Y2VwdGlvbiAtIHVwZGF0ZSBhbGwgcm93cyBleGNlcHQgdGhpcyBvbmUuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBfdXBkYXRlTWV0YUluZm8oXHJcblx0XHRhcnJheTogQXJyYXk8R3RSb3c+LFxyXG5cdFx0cHJvcGVydHk6IHN0cmluZyxcclxuXHRcdGFjdGl2ZTogYm9vbGVhbixcclxuXHRcdGV4Y2VwdGlvbj86IEd0Um93XHJcblx0KSB7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmICghdGhpcy5tZXRhSW5mb1thcnJheVtpXS4kJGd0Um93SWRdKSB7XHJcblx0XHRcdFx0dGhpcy5tZXRhSW5mb1thcnJheVtpXS4kJGd0Um93SWRdID0ge307XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGV4Y2VwdGlvbiAmJiBhcnJheVtpXS4kJGd0Um93SWQgPT09IGV4Y2VwdGlvbi4kJGd0Um93SWQpIHtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLm1ldGFJbmZvW2FycmF5W2ldLiQkZ3RSb3dJZF1bcHJvcGVydHldID0gYWN0aXZlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBQdXNoIHNlbGVjdGVkL2V4cGFuZGVkIGxhenkgbG9hZGVkIHJvd3MgdG8gYXJyYXkgd2l0aCBtZXRhIGRhdGEuXHJcblx0ICogQHBhcmFtIHRhcmdldCAtIGFycmF5IHRvIHdoaWNoIHJvd3Mgc2hvdWxkIGJlIGFkZGVkLlxyXG5cdCAqIEBwYXJhbSBzb3VyY2UgLSBhcnJheSB0aGF0IGhvbGRzIHJvd3MgdGhhdCBzaG91bGQgYmUgYWRkZWQuXHJcblx0ICogQHJldHVybnMgYXJyYXkgd2l0aCBhZGRlZCByb3dzLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgX3B1c2hMYXp5Um93cyhcclxuXHRcdHRhcmdldDogQXJyYXk8R3RSb3c+LFxyXG5cdFx0c291cmNlOiBBcnJheTxHdFJvdz5cclxuXHQpOiBBcnJheTxHdFJvdz4ge1xyXG5cdFx0Y29uc3QgVU5JUVVFX1JPV1MgPSB0YXJnZXQubWFwKHJvdyA9PiByb3cuJCRndFJvd0lkKTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdC8vIG9ubHkgYWRkIGlmIG5vdCBhbHJlYWR5IGluIGxpc3RcclxuXHRcdFx0aWYgKFVOSVFVRV9ST1dTLmluZGV4T2Yoc291cmNlW2ldLiQkZ3RSb3dJZCkgPT09IC0xKSB7XHJcblx0XHRcdFx0dGFyZ2V0LnB1c2goc291cmNlW2ldKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRhcmdldDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRvZ2dsZSBtZXRhIGluZm8gZm9yIGFsbCByb3dzLCBpZS4gaXNTZWxlY3RlZCwgaXNPcGVuLlxyXG5cdCAqIEBwYXJhbSBwcm9wZXJ0eSAtIG5hbWUgb2YgcHJvcGVydHkgdGhhdCBzaG91bGQgYmUgY2hhbmdlZC90b2dnbGVkLlxyXG5cdCAqIEBwYXJhbSBhY3RpdmUgLSBzaG91bGQgcm93cyBiZSBleHBhbmRlZC9vcGVuLCBzZWxlY3RlZC5cclxuXHQgKi9cclxuXHRwcml2YXRlIF90b2dnbGVBbGxSb3dQcm9wZXJ0eShwcm9wZXJ0eTogc3RyaW5nLCBhY3RpdmU6IGJvb2xlYW4pIHtcclxuXHRcdGxldCBldmVudE5hbWU6IHN0cmluZztcclxuXHRcdGxldCBldmVudFZhbHVlOiBhbnk7XHJcblx0XHRzd2l0Y2ggKHByb3BlcnR5KSB7XHJcblx0XHRcdGNhc2UgJ2lzT3Blbic6XHJcblx0XHRcdFx0Ly8gY2hlY2sgaWYgbXVsdGlwbGUgZXhwYW5kZWQgcm93cyBhcmUgYWxsb3dlZC4uLlxyXG5cdFx0XHRcdGlmICh0aGlzLl9ndE9wdGlvbnMucm93RXhwYW5kQWxsb3dNdWx0aXBsZSA9PT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdC8vIC4uLmlmIG5vdCwgZXhpdCBmdW5jdGlvblxyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdFx0XHRcdCdmZWF0dXJlIGRpc2FibGVkOiBlbmFibGUgYnkgc2V0dGluZyBcInJvd0V4cGFuZEFsbG93TXVsdGlwbGUgPSB0cnVlXCInXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoYWN0aXZlKSB7XHJcblx0XHRcdFx0XHRldmVudE5hbWUgPSAnZXhwYW5kLWFsbCc7XHJcblx0XHRcdFx0XHR0aGlzLm9wZW5Sb3dzID0gdGhpcy5fZ3RPcHRpb25zLmxhenlMb2FkXHJcblx0XHRcdFx0XHRcdD8gdGhpcy5fcHVzaExhenlSb3dzKFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5vcGVuUm93cyxcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuX2d0RGF0YVt0aGlzLmd0SW5mby5wYWdlQ3VycmVudCAtIDFdLnNsaWNlKClcclxuXHRcdFx0XHRcdFx0ICApXHJcblx0XHRcdFx0XHRcdDogdGhpcy5fZ3REYXRhLnNsaWNlKCk7XHJcblx0XHRcdFx0XHR0aGlzLl91cGRhdGVNZXRhSW5mbyh0aGlzLm9wZW5Sb3dzLCBwcm9wZXJ0eSwgYWN0aXZlKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0ZXZlbnROYW1lID0gJ2NvbGxhcHNlLWFsbCc7XHJcblx0XHRcdFx0XHR0aGlzLl91cGRhdGVNZXRhSW5mbyh0aGlzLm9wZW5Sb3dzLCBwcm9wZXJ0eSwgYWN0aXZlKTtcclxuXHRcdFx0XHRcdHRoaXMub3BlblJvd3MgPSBbXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZXZlbnRWYWx1ZSA9IHtcclxuXHRcdFx0XHRcdGV4cGFuZGVkUm93czogdGhpcy5vcGVuUm93cyxcclxuXHRcdFx0XHRcdGNoYW5nZWRSb3c6ICdhbGwnXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnaXNTZWxlY3RlZCc6XHJcblx0XHRcdFx0Ly8gY2hlY2sgaWYgbXVsdGkgcm93IHNlbGVjdGlvbiBpcyBhbGxvd2VkLi4uXHJcblx0XHRcdFx0aWYgKHRoaXMuX2d0T3B0aW9ucy5yb3dTZWxlY3Rpb25BbGxvd011bHRpcGxlID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0Ly8gLi4uaWYgbm90LCBleGl0IGZ1bmN0aW9uXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcclxuXHRcdFx0XHRcdFx0J2ZlYXR1cmUgZGlzYWJsZWQ6IGVuYWJsZSBieSBzZXR0aW5nIFwicm93U2VsZWN0aW9uQWxsb3dNdWx0aXBsZSA9IHRydWVcIidcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChhY3RpdmUpIHtcclxuXHRcdFx0XHRcdGV2ZW50TmFtZSA9ICdzZWxlY3QtYWxsJztcclxuXHRcdFx0XHRcdHRoaXMuc2VsZWN0ZWRSb3dzID0gdGhpcy5fZ3RPcHRpb25zLmxhenlMb2FkXHJcblx0XHRcdFx0XHRcdD8gdGhpcy5fcHVzaExhenlSb3dzKFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zZWxlY3RlZFJvd3MsXHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLl9ndERhdGFbdGhpcy5ndEluZm8ucGFnZUN1cnJlbnQgLSAxXS5zbGljZSgpXHJcblx0XHRcdFx0XHRcdCAgKVxyXG5cdFx0XHRcdFx0XHQ6IHRoaXMuX2d0RGF0YS5zbGljZSgpO1xyXG5cdFx0XHRcdFx0dGhpcy5fdXBkYXRlTWV0YUluZm8odGhpcy5zZWxlY3RlZFJvd3MsIHByb3BlcnR5LCBhY3RpdmUpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRldmVudE5hbWUgPSAnZGVzZWxlY3QtYWxsJztcclxuXHRcdFx0XHRcdHRoaXMuX3VwZGF0ZU1ldGFJbmZvKHRoaXMuc2VsZWN0ZWRSb3dzLCBwcm9wZXJ0eSwgYWN0aXZlKTtcclxuXHRcdFx0XHRcdHRoaXMuc2VsZWN0ZWRSb3dzID0gW107XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGV2ZW50VmFsdWUgPSB7XHJcblx0XHRcdFx0XHRzZWxlY3RlZFJvd3M6IHRoaXMuc2VsZWN0ZWRSb3dzLFxyXG5cdFx0XHRcdFx0Y2hhbmdlZFJvdzogJ2FsbCdcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHRcdHRoaXMuZ3RFdmVudC5lbWl0KHtcclxuXHRcdFx0bmFtZTogJ2d0LXJvdy0nICsgZXZlbnROYW1lLFxyXG5cdFx0XHR2YWx1ZTogZXZlbnRWYWx1ZVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBUb2dnbGUgbWV0YSBpbmZvIGZvciByb3csIGllLiBpc1NlbGVjdGVkLCBpc09wZW4uXHJcblx0ICogQHBhcmFtIHJvdyAtIHJvdyBvYmplY3QuXHJcblx0ICogQHBhcmFtIHByb3BlcnR5IC0gbmFtZSBvZiBwcm9wZXJ0eSB0aGF0IHNob3VsZCBiZSBjaGFuZ2VkL3RvZ2dsZWQuXHJcblx0ICogQHBhcmFtIHByb3BlcnR5VmFsdWVzIC0gb3B0aW9uYWwgcHJvcGVydHkgdmFsdWVzIHRoYXQgY2FuIGJlIHBhc3NlZC5cclxuXHQgKi9cclxuXHRwcml2YXRlIF90b2dnbGVSb3dQcm9wZXJ0eShcclxuXHRcdHJvdzogR3RSb3csXHJcblx0XHRwcm9wZXJ0eTogc3RyaW5nLFxyXG5cdFx0cHJvcGVydHlWYWx1ZXM/OiBhbnlcclxuXHQpIHtcclxuXHRcdGxldCBldmVudE5hbWU6IHN0cmluZztcclxuXHRcdGxldCBldmVudFZhbHVlOiBhbnk7XHJcblx0XHQvLyBtYWtlIHN1cmUgZ3RSb3dJZCBleGlzdHMgb24gcm93IG9iamVjdFxyXG5cdFx0aWYgKHR5cGVvZiByb3cuJCRndFJvd0lkICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHQvLyBjaGVjayBpZiBtZXRhIGluZm8gZXhpc3RzIGZvciByb3dcclxuXHRcdFx0aWYgKCF0aGlzLm1ldGFJbmZvW3Jvdy4kJGd0Um93SWRdKSB7XHJcblx0XHRcdFx0Ly8gaWYgbm90LCBhZGQgb2JqZWN0IHRvIHN0b3JlIG1ldGEgaW5mb1xyXG5cdFx0XHRcdHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF0gPSB7fTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c3dpdGNoIChwcm9wZXJ0eSkge1xyXG5cdFx0XHRcdGNhc2UgJ2lzT3Blbic6XHJcblx0XHRcdFx0XHRjb25zdCBvcGVuZWQgPSB0aGlzLm1ldGFJbmZvW3Jvdy4kJGd0Um93SWRdW3Byb3BlcnR5XTtcclxuXHJcblx0XHRcdFx0XHQvLyBjaGVjayBpZiBtdWx0aXBsZSBleHBhbmRlZCByb3dzIGFyZSBhbGxvd2VkLi4uXHJcblx0XHRcdFx0XHRpZiAodGhpcy5fZ3RPcHRpb25zLnJvd0V4cGFuZEFsbG93TXVsdGlwbGUgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRcdC8vIC4uLmlmIG5vdCwgY29sbGFwc2UgYWxsIHJvd3MgZXhjZXB0IGN1cnJlbnQgcm93XHJcblx0XHRcdFx0XHRcdHRoaXMuX3VwZGF0ZU1ldGFJbmZvKHRoaXMub3BlblJvd3MsIHByb3BlcnR5LCBmYWxzZSwgcm93KTtcclxuXHRcdFx0XHRcdFx0dGhpcy5vcGVuUm93cyA9IFtdO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIGNoZWNrIGlmIHJvdyBpcyBleHBhbmRlZFxyXG5cdFx0XHRcdFx0aWYgKCFvcGVuZWQpIHtcclxuXHRcdFx0XHRcdFx0ZXZlbnROYW1lID0gJ2V4cGFuZCc7XHJcblx0XHRcdFx0XHRcdC8vIGFkZCByb3cgdG8gZXhwYW5kZWQgcm93c1xyXG5cdFx0XHRcdFx0XHR0aGlzLm9wZW5Sb3dzLnB1c2gocm93KTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGV2ZW50TmFtZSA9ICdjb2xsYXBzZSc7XHJcblx0XHRcdFx0XHRcdC8vIGxvb3AgdGhyb3VnaCBleHBhbmRlZCByb3dzLi4uXHJcblx0XHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vcGVuUm93cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRcdC8vIGlmIGV4cGFuZGVkIHJvdyBlcXVhbHMgcGFzc2VkIHJvdy4uLlxyXG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm9wZW5Sb3dzW2ldLiQkZ3RSb3dJZCA9PT0gcm93LiQkZ3RSb3dJZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gLi4ucmVtb3ZlIHJvdyBmcm9tIGV4cGFuZGVkIHJvd3MuLi5cclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMub3BlblJvd3Muc3BsaWNlKGksIDEpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBleGl0IGxvb3BcclxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZXZlbnRWYWx1ZSA9IHtcclxuXHRcdFx0XHRcdFx0ZXhwYW5kZWRSb3dzOiB0aGlzLm9wZW5Sb3dzLFxyXG5cdFx0XHRcdFx0XHRjaGFuZ2VkUm93OiByb3dcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICdpc1NlbGVjdGVkJzpcclxuXHRcdFx0XHRcdGNvbnN0IHNlbGVjdGVkID0gdGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXVtwcm9wZXJ0eV07XHJcblxyXG5cdFx0XHRcdFx0Ly8gY2hlY2sgaWYgbXVsdGkgcm93IHNlbGVjdGlvbiBpcyBhbGxvd2VkLi4uXHJcblx0XHRcdFx0XHRpZiAodGhpcy5fZ3RPcHRpb25zLnJvd1NlbGVjdGlvbkFsbG93TXVsdGlwbGUgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRcdC8vIC4uLmlmIG5vdCwgZGVzZWxlY3QgYWxsIHJvd3MgZXhjZXB0IGN1cnJlbnQgcm93XHJcblx0XHRcdFx0XHRcdHRoaXMuX3VwZGF0ZU1ldGFJbmZvKHRoaXMuc2VsZWN0ZWRSb3dzLCBwcm9wZXJ0eSwgZmFsc2UsIHJvdyk7XHJcblx0XHRcdFx0XHRcdHRoaXMuc2VsZWN0ZWRSb3dzID0gW107XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gY2hlY2sgaWYgcm93IGlzIHNlbGVjdGVkXHJcblx0XHRcdFx0XHRpZiAoIXNlbGVjdGVkKSB7XHJcblx0XHRcdFx0XHRcdGV2ZW50TmFtZSA9ICdzZWxlY3QnO1xyXG5cdFx0XHRcdFx0XHQvLyBhZGQgcm93IHRvIHNlbGVjdGVkIHJvd3NcclxuXHRcdFx0XHRcdFx0dGhpcy5zZWxlY3RlZFJvd3MucHVzaChyb3cpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0aWYgKHRoaXMuZ3RPcHRpb25zLmxhenlMb2FkICYmIHRoaXMubGF6eUFsbFNlbGVjdGVkKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5sYXp5QWxsU2VsZWN0ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRldmVudE5hbWUgPSAnZGVzZWxlY3QnO1xyXG5cdFx0XHRcdFx0XHQvLyBsb29wIHRocm91Z2ggc2VsZWN0ZWQgcm93cy4uLlxyXG5cdFx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VsZWN0ZWRSb3dzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gaWYgc2VsZWN0ZWQgcm93IGVxdWFscyBwYXNzZWQgcm93Li4uXHJcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuc2VsZWN0ZWRSb3dzW2ldLiQkZ3RSb3dJZCA9PT0gcm93LiQkZ3RSb3dJZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gLi4ucmVtb3ZlIHJvdyBmcm9tIHNlbGVjdGVkIHJvd3MuLi5cclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2VsZWN0ZWRSb3dzLnNwbGljZShpLCAxKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgZXhpdCBsb29wXHJcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGV2ZW50VmFsdWUgPSB7XHJcblx0XHRcdFx0XHRcdHNlbGVjdGVkUm93czogdGhpcy5zZWxlY3RlZFJvd3MsXHJcblx0XHRcdFx0XHRcdGNoYW5nZWRSb3c6IHJvd1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlICdpc1VwZGF0ZWQnOlxyXG5cdFx0XHRcdFx0ZXZlbnROYW1lID0gJ3VwZGF0ZWQnO1xyXG5cdFx0XHRcdFx0Y29uc3Qgb2xkVmFsdWUgPSBwcm9wZXJ0eVZhbHVlcztcclxuXHRcdFx0XHRcdC8vIGNoZWNrIGlmIGVkaXQgb2JqZWN0IGV4aXN0cyBmb3Igcm93XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHRoaXMubWV0YUluZm9bcm93LiQkZ3RSb3dJZF1bcHJvcGVydHldID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0XHR0aGlzLm1ldGFJbmZvW3Jvdy4kJGd0Um93SWRdW3Byb3BlcnR5XSA9IHtcclxuXHRcdFx0XHRcdFx0XHRvcmlnaW5hbFZhbHVlOiBvbGRWYWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRvbGRWYWx1ZTogb2xkVmFsdWUsXHJcblx0XHRcdFx0XHRcdFx0bmV3VmFsdWU6IHJvd1xyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXVtwcm9wZXJ0eV0ub2xkVmFsdWUgPSBvbGRWYWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXVtwcm9wZXJ0eV0ubmV3VmFsdWUgPSByb3c7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRldmVudFZhbHVlID0gdGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXVtwcm9wZXJ0eV07XHJcblx0XHRcdFx0XHR0aGlzLnJlZHJhdygpO1xyXG5cdFx0XHRcdFx0dGhpcy5pbmxpbmVFZGl0Q2FuY2VsKHJvdyk7XHJcblx0XHRcdFx0XHQvLyB0aGlzLmd0RGF0YSA9IFsuLi50aGlzLmd0RGF0YS5tYXAoKHIpID0+IHsgcmV0dXJuey4uLnJ9OyB9KV07XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLmd0RXZlbnQuZW1pdCh7XHJcblx0XHRcdFx0bmFtZTogJ2d0LXJvdy0nICsgZXZlbnROYW1lLFxyXG5cdFx0XHRcdHZhbHVlOiBldmVudFZhbHVlXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRpZiAocHJvcGVydHkgIT09ICdpc1VwZGF0ZWQnKSB7XHJcblx0XHRcdFx0dGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXVtwcm9wZXJ0eV0gPSAhdGhpcy5tZXRhSW5mb1tyb3cuJCRndFJvd0lkXVtcclxuXHRcdFx0XHRcdHByb3BlcnR5XHJcblx0XHRcdFx0XTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXBkYXRlIGNvbHVtbi5cclxuXHQgKiBAcGFyYW0gJGV2ZW50IC0ga2V5IHVwIGV2ZW50LlxyXG5cdCAqIEBwYXJhbSByb3cgLSByb3cgb2JqZWN0LlxyXG5cdCAqIEBwYXJhbSBjb2x1bW4gLSBjb2x1bW4gb2JqZWN0LlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBndFVwZGF0ZUNvbHVtbihcclxuXHRcdCRldmVudDogS2V5Ym9hcmRFdmVudCxcclxuXHRcdHJvdzogR3RSb3csXHJcblx0XHRjb2x1bW46IEd0UmVuZGVyRmllbGQ8YW55LCBhbnk+XHJcblx0KSB7XHJcblx0XHR0aGlzLl9lZGl0Um93KHJvdywgY29sdW1uKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERyb3Bkb3duIHNlbGVjdC5cclxuXHQgKiBAcGFyYW0gcm93IC0gcm93IG9iamVjdC5cclxuXHQgKiBAcGFyYW0gY29sdW1uIC0gY29sdW1uIG9iamVjdC5cclxuXHQgKi9cclxuXHRwdWJsaWMgZ3REcm9wZG93blNlbGVjdChyb3c6IEd0Um93LCBjb2x1bW46IEd0UmVuZGVyRmllbGQ8YW55LCBhbnk+KSB7XHJcblx0XHRjb25zdCBvbGRWYWx1ZSA9IHsgLi4ucm93IH07XHJcblx0XHRyb3dbY29sdW1uLm9iamVjdEtleV0gPSBjb2x1bW4ucmVuZGVyVmFsdWU7XHJcblx0XHR0aGlzLnVwZGF0ZVJvdyhyb3csIG9sZFZhbHVlKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgX2VkaXRSb3cocm93OiBHdFJvdywgY29sdW1uOiBHdFJlbmRlckZpZWxkPGFueSwgYW55Pikge1xyXG5cdFx0Y29uc3QgT0JKRUNUX0tFWSA9IGNvbHVtbi5vYmplY3RLZXk7IC8vIGRlY2xhcmUgb2JqZWN0IGtleSB3aGljaCBjb250YWlucyBjaGFuZ2VzXHJcblxyXG5cdFx0Ly8gY2hlY2sgaWYgY2VsbCBoYXMgY2hhbmdlZCB2YWx1ZVxyXG5cdFx0Y29sdW1uLmVkaXRlZCA9IHJvd1tjb2x1bW4ub2JqZWN0S2V5XSAhPT0gY29sdW1uLnJlbmRlclZhbHVlO1xyXG5cdFx0Ly8gY2hlY2sgaWYgcm93IGNvbnRhaW5zIGNoYW5nZXMuLi5cclxuXHRcdGlmICghdGhpcy5lZGl0ZWRSb3dzW3Jvdy4kJGd0Um93SWRdKSB7XHJcblx0XHRcdC8vIGlmIG5vdCwgY3JlYXRlIGFuIG9iamVjdCBmb3IgdGhlIGNoYW5nZWQgcm93XHJcblx0XHRcdHRoaXMuZWRpdGVkUm93c1tyb3cuJCRndFJvd0lkXSA9IHtcclxuXHRcdFx0XHRjaGFuZ2VzOiB7fSwgLy8gY3JlYXRlIHBsYWNlaG9sZGVyIGZvciBjaGFuZ2VzXHJcblx0XHRcdFx0cm93OiByb3cgLy8gc3RvcmUgcmVmZXJlbmNlIHRvIHRoZSByb3cgdGhhdCBzaG91bGQgYmUgdXBkYXRlZFxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHN0b3JlIGNoYW5nZWQgY29sdW1uIHVuZGVyIGNoYW5nZXMgaWYgaXQgaGFzIGJlZW4gZWRpdGVkXHJcblx0XHRpZiAoY29sdW1uLmVkaXRlZCkge1xyXG5cdFx0XHR0aGlzLmVkaXRlZFJvd3Nbcm93LiQkZ3RSb3dJZF0uY2hhbmdlc1tPQkpFQ1RfS0VZXSA9IGNvbHVtbjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIGRlbGV0ZSBjaGFuZ2Ugb2JqZWN0IGlmIGNvbHVtbiBpcyB1bmNoYW5nZWRcclxuXHRcdFx0ZGVsZXRlIHRoaXMuZWRpdGVkUm93c1tyb3cuJCRndFJvd0lkXS5jaGFuZ2VzW09CSkVDVF9LRVldO1xyXG5cdFx0XHQvLyBjaGVjayBob3cgbWFueSBjb2x1bW5zIGhhdmUgYmVlbiBjaGFuZ2VkXHJcblx0XHRcdGNvbnN0IENIQU5HRURfQ09MVU1OUyA9IE9iamVjdC5rZXlzKFxyXG5cdFx0XHRcdHRoaXMuZWRpdGVkUm93c1tyb3cuJCRndFJvd0lkXS5jaGFuZ2VzXHJcblx0XHRcdCkubGVuZ3RoO1xyXG5cdFx0XHRpZiAoQ0hBTkdFRF9DT0xVTU5TID09PSAwKSB7XHJcblx0XHRcdFx0Ly8gZGVsZXRlIHJvdyBmcm9tIGVkaXRlZCByb3dzIGlmIG5vIGNvbHVtbnMgaGF2ZSBiZWVuIGVkaXRlZFxyXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmVkaXRlZFJvd3Nbcm93LiQkZ3RSb3dJZF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdC8vIGlmIG5vIGxpc3RlbmVyIGlzIHByZXNlbnQuLi5cclxuXHRcdGlmICghdGhpcy5nbG9iYWxJbmxpbmVFZGl0TGlzdGVuZXIpIHtcclxuXHRcdFx0Ly8gLi4ubGlzdGVuIGZvciB1cGRhdGUgZXZlbnRcclxuXHRcdFx0dGhpcy5fbGlzdGVuRm9yS2V5ZG93bkV2ZW50KCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdC8qKlxyXG5cdCAqIExpc3RlbiBmb3Iga2V5IGRvd24gZXZlbnQgLSBsaXN0ZW4gZm9yIGtleSBkb3duIGV2ZW50IGR1cmluZyBpbmxpbmUgZWRpdC5cclxuXHQgKi9cclxuXHRwcml2YXRlIF9saXN0ZW5Gb3JLZXlkb3duRXZlbnQoKSB7XHJcblx0XHQvLyBhZGQgZ2xvYmFsIGxpc3RlbmVyIGZvciBrZXkgZG93biBldmVudHNcclxuXHRcdHRoaXMuZ2xvYmFsSW5saW5lRWRpdExpc3RlbmVyID0gdGhpcy5yZW5kZXJlci5saXN0ZW4oXHJcblx0XHRcdCdkb2N1bWVudCcsXHJcblx0XHRcdCdrZXlkb3duJyxcclxuXHRcdFx0JGV2ZW50ID0+IHtcclxuXHRcdFx0XHRzd2l0Y2ggKCRldmVudC5rZXkpIHtcclxuXHRcdFx0XHRcdGNhc2UgJ0VudGVyJzogLy8gdXBkYXRlIGRhdGEgb2JqZWN0XHJcblx0XHRcdFx0XHRcdHRoaXMuaW5saW5lRWRpdFVwZGF0ZSgpO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ0VzY2FwZSc6IC8vIGNhbmNlbFxyXG5cdFx0XHRcdFx0XHR0aGlzLmlubGluZUVkaXRDYW5jZWwoKTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH1cclxuXHQvKipcclxuXHQgKiBJbmxpbmUgZWRpdCB1cGRhdGUgLSBhY2NlcHQgY2hhbmdlcyBhbmQgdXBkYXRlIHJvdyB2YWx1ZXMuXHJcblx0ICovXHJcblx0cHVibGljIGlubGluZUVkaXRVcGRhdGUoKSB7XHJcblx0XHQvLyBsb29wIHRocm91Z2ggcm93cyB0aGF0IGhhdmUgYmVlbiBlZGl0ZWRcclxuXHRcdE9iamVjdC5rZXlzKHRoaXMuZWRpdGVkUm93cykubWFwKGtleSA9PiB7XHJcblx0XHRcdGNvbnN0IFJPVyA9IHRoaXMuZWRpdGVkUm93c1trZXldLnJvdzsgLy8gcm93IHRvIHVwZGF0ZVxyXG5cdFx0XHRjb25zdCBDSEFOR0VTID0gdGhpcy5lZGl0ZWRSb3dzW2tleV0uY2hhbmdlczsgLy8gY2hhbmdlcyB0byB0aGUgcm93XHJcblxyXG5cdFx0XHQvLyBsb29wIHRocm91Z2ggY2hhbmdlcyBpbiByb3dcclxuXHRcdFx0T2JqZWN0LmtleXMoQ0hBTkdFUykubWFwKG9iamVjdEtleSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgb2xkVmFsdWUgPSB7IC4uLlJPVyB9O1xyXG5cdFx0XHRcdFJPV1tvYmplY3RLZXldID0gQ0hBTkdFU1tvYmplY3RLZXldLnJlbmRlclZhbHVlOyAvLyB1cGRhdGUgZGF0YSB2YWx1ZVxyXG5cdFx0XHRcdHRoaXMudXBkYXRlUm93KFJPVywgb2xkVmFsdWUpOyAvLyB1cGRhdGUgbWV0YSBpbmZvIGZvciByb3cgYW5kIHNlbmQgZXZlbnRcclxuXHRcdFx0XHRDSEFOR0VTW29iamVjdEtleV0uZWRpdGVkID0gZmFsc2U7IC8vIGRpc2FibGUgZWRpdCBtb2RlXHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0XHQvLyBjbGVhciByb3dzIG1hcmtlZCBhcyBlZGl0ZWQgYXMgdGhlIHJvd3MgaGF2ZSBiZWVuIHVwZGF0ZWRcclxuXHRcdHRoaXMuZWRpdGVkUm93cyA9IHt9O1xyXG5cdFx0Ly8gcmVtb3ZlIGxpc3RlbmVyXHJcblx0XHR0aGlzLl9zdG9wTGlzdGVuaW5nRm9yS2V5ZG93bkV2ZW50KCk7XHJcblx0fVxyXG5cdC8qKlxyXG5cdCAqIElubGluZSBlZGl0IGNhbmNlbCAtIGNhbmNlbCBhbmQgcmVzZXQgaW5saW5lIGVkaXRzLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBpbmxpbmVFZGl0Q2FuY2VsKHJvdz86IEd0Um93KSB7XHJcblx0XHRpZiAocm93KSB7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLmVkaXRlZFJvd3Nbcm93LiQkZ3RSb3dJZF07XHJcblx0XHRcdC8vIHJlbW92ZSBsaXN0ZW5lclxyXG5cdFx0XHR0aGlzLl9zdG9wTGlzdGVuaW5nRm9yS2V5ZG93bkV2ZW50KCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBsb29wIHRocm91Z2ggcm93cyB0aGF0IGhhdmUgYmVlbiBlZGl0ZWRcclxuXHRcdE9iamVjdC5rZXlzKHRoaXMuZWRpdGVkUm93cykubWFwKGtleSA9PiB7XHJcblx0XHRcdGNvbnN0IFJPVyA9IHRoaXMuZWRpdGVkUm93c1trZXldLnJvdzsgLy8gcm93IHRvIHVwZGF0ZVxyXG5cdFx0XHRjb25zdCBDSEFOR0VTID0gdGhpcy5lZGl0ZWRSb3dzW2tleV0uY2hhbmdlczsgLy8gY2hhbmdlcyB0byB0aGUgcm93XHJcblxyXG5cdFx0XHQvLyBsb29wIHRocm91Z2ggY2hhbmdlcyBpbiByb3dcclxuXHRcdFx0T2JqZWN0LmtleXMoQ0hBTkdFUykubWFwKG9iamVjdEtleSA9PiB7XHJcblx0XHRcdFx0Q0hBTkdFU1tvYmplY3RLZXldLnJlbmRlclZhbHVlID0gUk9XW29iamVjdEtleV07IC8vIHJlc2V0IHJlbmRlcmVkIHZhbHVlXHJcblx0XHRcdFx0Q0hBTkdFU1tvYmplY3RLZXldLmVkaXRlZCA9IGZhbHNlOyAvLyBkaXNhYmxlIGVkaXQgbW9kZVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0Ly8gY2xlYXIgcm93cyBtYXJrZWQgYXMgZWRpdGVkIGFzIHRoZSByb3dzIGhhdmUgYmVlbiB1cGRhdGVkXHJcblx0XHR0aGlzLmVkaXRlZFJvd3MgPSB7fTtcclxuXHRcdC8vIHJlbW92ZSBsaXN0ZW5lclxyXG5cdFx0dGhpcy5fc3RvcExpc3RlbmluZ0ZvcktleWRvd25FdmVudCgpO1xyXG5cdH1cclxuXHQvKipcclxuXHQgKiBTdG9wIGxpc3RlbmluZyBmb3Iga2V5IGRvd24gZXZlbnQgLSBzdG9wIGxpc3RlbmluZyBmb3Iga2V5IGRvd24gZXZlbnRzIHBhc3NlZCBkdXJpbmcgaW5saW5lIGVkaXQuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBfc3RvcExpc3RlbmluZ0ZvcktleWRvd25FdmVudCgpIHtcclxuXHRcdGlmICh0aGlzLmdsb2JhbElubGluZUVkaXRMaXN0ZW5lcikge1xyXG5cdFx0XHR0aGlzLmdsb2JhbElubGluZUVkaXRMaXN0ZW5lcigpO1xyXG5cdFx0XHR0aGlzLmdsb2JhbElubGluZUVkaXRMaXN0ZW5lciA9IG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBcHBseSBmaWx0ZXIocykuXHJcblx0ICogQHBhcmFtIGZpbHRlciAtIG9iamVjdCBjb250YWluaW5nIGtleSB2YWx1ZSBwYWlycywgd2hlcmUgdmFsdWUgc2hvdWxkIGJlIGFycmF5IG9mIHZhbHVlcy5cclxuXHQgKi9cclxuXHRwdWJsaWMgZ3RBcHBseUZpbHRlcihmaWx0ZXI6IE9iamVjdCkge1xyXG5cdFx0dGhpcy5ndEluZm8uZmlsdGVyID0gZmlsdGVyO1xyXG5cdFx0Ly8gZ28gdG8gZmlyc3QgcGFnZVxyXG5cdFx0dGhpcy5nb1RvUGFnZSgxKTtcclxuXHRcdHRoaXMudXBkYXRlVG90YWxzKCk7XHJcblx0fVxyXG5cclxuXHQvKiogQ2xlYXIvcmVtb3ZlIGFwcGxpZWQgZmlsdGVyKHMpLiAqL1xyXG5cdHB1YmxpYyBndENsZWFyRmlsdGVyKCkge1xyXG5cdFx0dGhpcy5ndEluZm8uZmlsdGVyID0gZmFsc2U7XHJcblx0XHR0aGlzLnVwZGF0ZVRvdGFscygpO1xyXG5cdFx0Ly8gdGhpcy51cGRhdGVSZWNvcmRSYW5nZSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2VhcmNoXHJcblx0ICogQHBhcmFtIHZhbHVlIC0gc3RyaW5nIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgd29yZHNcclxuXHQgKi9cclxuXHRwdWJsaWMgZ3RTZWFyY2godmFsdWU6IHN0cmluZykge1xyXG5cdFx0dGhpcy5ndEluZm8uc2VhcmNoVGVybXMgPSB2YWx1ZTtcclxuXHRcdC8vIGFsd2F5cyBnbyB0byBmaXJzdCBwYWdlIHdoZW4gc2VhcmNoaW5nXHJcblx0XHR0aGlzLmdvVG9QYWdlKDEpO1xyXG5cdFx0dGhpcy51cGRhdGVUb3RhbHMoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCByb3dzXHJcblx0ICogQHBhcmFtIHJvd3MgLSByb3dzIHRvIGFkZFxyXG5cdCAqIEByZXR1cm5zIG5ldyBkYXRhIGFycmF5LlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBndEFkZChyb3dzOiBBcnJheTxSPik6IFJlYWRvbmx5QXJyYXk8Uj4ge1xyXG5cdFx0dGhpcy5ndERhdGEgPSBbLi4udGhpcy5ndERhdGEsIC4uLnJvd3NdO1xyXG5cdFx0cmV0dXJuIFsuLi50aGlzLmd0RGF0YV07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEZWxldGUgcm93XHJcblx0ICogQHBhcmFtIG9iamVjdEtleSAtIG9iamVjdCBrZXkgeW91IHdhbnQgdG8gZmluZCBtYXRjaCB3aXRoXHJcblx0ICogQHBhcmFtIHZhbHVlIC0gdGhlIHZhbHVlIHRoYXQgc2hvdWxkIGJlIGRlbGV0ZWRcclxuXHQgKiBAcGFyYW0gbWF0Y2ggLSBhbGw6IGRlbGV0ZSBhbGwgbWF0Y2hlcywgZmlyc3Q6IGRlbGV0ZSBmaXJzdCBtYXRjaCAoZGVmYXVsdClcclxuXHQgKiBAcmV0dXJucyBuZXcgZGF0YSBhcnJheS5cclxuXHQgKi9cclxuXHRwdWJsaWMgZ3REZWxldGUoXHJcblx0XHRvYmplY3RLZXk6IHN0cmluZyxcclxuXHRcdHZhbHVlOiBzdHJpbmcgfCBudW1iZXIsXHJcblx0XHRtYXRjaDogJ2ZpcnN0JyB8ICdhbGwnID0gJ2ZpcnN0J1xyXG5cdCk6IFJlYWRvbmx5QXJyYXk8Uj4ge1xyXG5cdFx0aWYgKG1hdGNoID09PSAnZmlyc3QnKSB7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ndERhdGEubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRpZiAodGhpcy5ndERhdGFbaV1bb2JqZWN0S2V5XSA9PT0gdmFsdWUpIHtcclxuXHRcdFx0XHRcdGlmICh0aGlzLmlzUm93U2VsZWN0ZWQodGhpcy5ndERhdGFbaV0pKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMudG9nZ2xlU2VsZWN0KHRoaXMuZ3REYXRhW2ldKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuZ3REYXRhLnNwbGljZShpLCAxKTtcclxuXHRcdFx0XHRcdHRoaXMuZ3REYXRhID0gWy4uLnRoaXMuZ3REYXRhXTtcclxuXHRcdFx0XHRcdGlmIChtYXRjaCA9PT0gJ2ZpcnN0Jykge1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGZvciAobGV0IGkgPSB0aGlzLmd0RGF0YS5sZW5ndGg7IGkgPiAwOyBpLS0pIHtcclxuXHRcdFx0XHRpZiAodGhpcy5ndERhdGFbaSAtIDFdW29iamVjdEtleV0gPT09IHZhbHVlKSB7XHJcblx0XHRcdFx0XHRpZiAodGhpcy5pc1Jvd1NlbGVjdGVkKHRoaXMuZ3REYXRhW2kgLSAxXSkpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy50b2dnbGVTZWxlY3QodGhpcy5ndERhdGFbaSAtIDFdKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuZ3REYXRhLnNwbGljZShpIC0gMSwgMSk7XHJcblx0XHRcdFx0XHR0aGlzLmd0RGF0YSA9IFsuLi50aGlzLmd0RGF0YV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gWy4uLnRoaXMuZ3REYXRhXTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBzdG9yZSB0byBob2xkIHByZXZpb3VzbHkgbG9hZGVkIHJlY29yZHMuXHJcblx0ICogQHBhcmFtIHJlY29yZHMgLSB0b3RhbCBudW1iZXIgb2YgcmVjb3JkcyBpbiBzdG9yZS5cclxuXHQgKiBAcGFyYW0gcGVyUGFnZSAtIGhvdyBtYW55IHJlY29yZHMgdG8gc2hvdyBwZXIgcGFnZS5cclxuXHQgKiBAcmV0dXJucyBhIG5lc3RlZCBhcnJheSB0byBob2xkIHJlY29yZHMgcGVyIHBhZ2UuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBjcmVhdGVTdG9yZShyZWNvcmRzOiBudW1iZXIsIHBlclBhZ2U6IG51bWJlcik6IEFycmF5PEFycmF5PGFueT4+IHtcclxuXHRcdGNvbnN0IHN0b3JlcyA9IE1hdGguY2VpbChyZWNvcmRzIC8gcGVyUGFnZSk7XHJcblx0XHRjb25zdCBzdG9yZTogQXJyYXk8QXJyYXk8YW55Pj4gPSBbXTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc3RvcmVzOyBpKyspIHtcclxuXHRcdFx0c3RvcmVbaV0gPSBbXTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBzdG9yZTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZSBwbGFjZWhvbGRlcnMgZm9yIHJvd3Mgd2hpbGUgbG9hZGluZyBkYXRhIGZyb20gYmFjay1lbmQuXHJcblx0ICogQHBhcmFtIHBlclBhZ2UgLSBob3cgbWFueSByZWNvcmRzIHRvIHNob3cgcGVyIHBhZ2UuXHJcblx0ICogQHJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyBlbXB0eSByZWNvcmRzIHRvIGJlIHByZXNlbnRlZCB3aGlsZSBmZXRjaGluZyByZWFsIGRhdGEuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBsb2FkaW5nQ29udGVudChwZXJQYWdlOiBudW1iZXIpIHtcclxuXHRcdC8vIGNyZWF0ZSByb3cgb2JqZWN0XHJcblx0XHRjb25zdCByb3dPYmplY3Q6IE9iamVjdCA9IHtcclxuXHRcdFx0JCRsb2FkaW5nOiB0cnVlXHJcblx0XHR9O1xyXG5cdFx0bGV0IG9yZGVyID0gMDtcclxuXHJcblx0XHQvLyBzb3J0IHNldHRpbmdzIGJ5IGNvbHVtbiBvcmRlclxyXG5cdFx0dGhpcy5fZ3RTZXR0aW5ncy5zb3J0KHRoaXMuZ2V0Q29sdW1uT3JkZXIpO1xyXG5cclxuXHRcdC8vIGxvb3AgdGhyb3VnaCBhbGwgc2V0dGluZ3Mgb2JqZWN0cy4uLlxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9ndFNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGNvbnN0IHNldHRpbmcgPSB0aGlzLl9ndFNldHRpbmdzW2ldO1xyXG5cclxuXHRcdFx0Ly8gLi4uaWYgY29sdW1uIGlzIHZpc2libGUgYW5kIGVuYWJsZWQuLi5cclxuXHRcdFx0aWYgKHNldHRpbmcudmlzaWJsZSAhPT0gZmFsc2UgJiYgc2V0dGluZy5lbmFibGVkICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdC8vIC4uLmlmIGZpcnN0IGNvbHVtbiwgc2V0IHZhbHVlIHRvIGxvYWRpbmcgdGV4dCBvdGhlcndpc2UgbGVhdmUgaXQgZW1wdHlcclxuXHRcdFx0XHRpZiAob3JkZXIgPT09IDApIHtcclxuXHRcdFx0XHRcdHJvd09iamVjdFtzZXR0aW5nLm9iamVjdEtleV0gPSB0aGlzLmd0VGV4dHMubG9hZGluZztcclxuXHRcdFx0XHRcdHRoaXMubG9hZGluZ1Byb3BlcnR5ID0gc2V0dGluZy5vYmplY3RLZXk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJvd09iamVjdFtzZXR0aW5nLm9iamVjdEtleV0gPSAnJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0b3JkZXIrKztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyb3dPYmplY3Rbc2V0dGluZy5vYmplY3RLZXldID0gJyc7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBjcmVhdGUgY29udGVudCBwbGFjZWhvbGRlclxyXG5cdFx0Y29uc3QgY29udGVudFBsYWNlaG9sZGVyOiBBcnJheTxhbnk+ID0gW107XHJcblxyXG5cdFx0Ly8gY3JlYXRlIGVxdWFsIG51bWJlciBvZiByb3dzIGFzIHJvd3MgcGVyIHBhZ2VcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGVyUGFnZTsgaSsrKSB7XHJcblx0XHRcdC8vIC4uLmFkZCB0ZW1wb3Jhcnkgcm93IG9iamVjdFxyXG5cdFx0XHRjb250ZW50UGxhY2Vob2xkZXIucHVzaChyb3dPYmplY3QpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGNvbnRlbnRQbGFjZWhvbGRlcjtcclxuXHR9XHJcblxyXG5cdC8vIFRPRE86IG1vdmUgdG8gaGVscGVyIGZ1bmN0aW9uc1xyXG5cdC8qKiBTb3J0IGJ5IHNvcnQgb3JkZXIgKi9cclxuXHRwcml2YXRlIGdldFNvcnRPcmRlciA9IGZ1bmN0aW9uKGE6IEd0Q29uZmlnU2V0dGluZywgYjogR3RDb25maWdTZXR0aW5nKSB7XHJcblx0XHRpZiAoYS5zb3J0T3JkZXIgPCBiLnNvcnRPcmRlcikge1xyXG5cdFx0XHRyZXR1cm4gLTE7XHJcblx0XHR9XHJcblx0XHRpZiAoYS5zb3J0T3JkZXIgPiBiLnNvcnRPcmRlciB8fCB0eXBlb2YgYS5zb3J0T3JkZXIgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdHJldHVybiAxO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIDA7XHJcblx0fTtcclxuXHJcblx0Ly8gVE9ETzogbW92ZSB0byBoZWxwZXIgZnVuY3Rpb25zXHJcblx0LyoqIFNvcnQgYnkgY29sdW1uIG9yZGVyICovXHJcblx0cHJpdmF0ZSBnZXRDb2x1bW5PcmRlciA9IGZ1bmN0aW9uKGE6IEd0Q29uZmlnU2V0dGluZywgYjogR3RDb25maWdTZXR0aW5nKSB7XHJcblx0XHRpZiAoYS5jb2x1bW5PcmRlciA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiAtMTtcclxuXHRcdH1cclxuXHRcdGlmIChhLmNvbHVtbk9yZGVyIDwgYi5jb2x1bW5PcmRlcikge1xyXG5cdFx0XHRyZXR1cm4gLTE7XHJcblx0XHR9XHJcblx0XHRpZiAoYS5jb2x1bW5PcmRlciA+IGIuY29sdW1uT3JkZXIpIHtcclxuXHRcdFx0cmV0dXJuIDE7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gMDtcclxuXHR9O1xyXG5cclxuXHQvLyBUT0RPOiBtb3ZlIHRvIGhlbHBlciBmdW5jdGlvbnNcclxuXHQvKiogQ3JlYXRlIGEgZGVlcCBjb3B5IG9mIGRhdGEgKi9cclxuXHRwcml2YXRlIGNsb25lRGVlcCA9IGZ1bmN0aW9uKG86IGFueSkge1xyXG5cdFx0cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobykpO1xyXG5cdH07XHJcblxyXG5cdC8qKiBFeHBvcnQgZGF0YSBhcyBDU1ZcclxuXHQgKiBAcGFyYW0gZmlsZU5hbWUgLSBvcHRpb25hbCBmaWxlIG5hbWUgKG92ZXJyaWRlcyBkZWZhdWx0IGZpbGUgbmFtZSkuXHJcblx0ICogQHBhcmFtIHVzZUJPTSAtIHVzZSBCT00gKGJ5dGUgb3JkZXIgbWFya2VyKS5cclxuXHQgKi9cclxuXHRwdWJsaWMgZXhwb3J0Q1NWKGZpbGVOYW1lPzogc3RyaW5nLCB1c2VCT006IGJvb2xlYW4gPSBmYWxzZSkge1xyXG5cdFx0Y29uc3QgZGF0YSA9IHRoaXMuZGF0YS5leHBvcnREYXRhO1xyXG5cdFx0bGV0IGNzdiA9ICcnO1xyXG5cdFx0Y29uc3QgQk9NID0gJ1xcdUZFRkYnO1xyXG5cclxuXHRcdC8vIGNzdiBleHBvcnQgaGVhZGVyc1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9ndFNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmICh0aGlzLl9ndFNldHRpbmdzW2ldLmV4cG9ydCAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRjc3YgKz0gdGhpcy5nZXRQcm9wZXJ0eSh0aGlzLl9ndEZpZWxkcywgdGhpcy5fZ3RTZXR0aW5nc1tpXS5vYmplY3RLZXkpXHJcblx0XHRcdFx0XHQubmFtZTtcclxuXHJcblx0XHRcdFx0aWYgKGkgPCB0aGlzLl9ndFNldHRpbmdzLmxlbmd0aCAtIDEpIHtcclxuXHRcdFx0XHRcdGNzdiArPSB0aGlzLl9ndE9wdGlvbnMuY3N2RGVsaW1pdGVyO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNzdiBleHBvcnQgYm9keVxyXG5cdFx0ZGF0YS5mb3JFYWNoKHJvdyA9PiB7XHJcblx0XHRcdGNzdiArPSAnXFxuJztcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9ndFNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuX2d0U2V0dGluZ3NbaV0uZXhwb3J0ICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0Ly8gZ2V0IGZpZWxkIHNldHRpbmdzXHJcblx0XHRcdFx0XHRjb25zdCBmaWVsZFNldHRpbmcgPSB0aGlzLmdldFByb3BlcnR5KFxyXG5cdFx0XHRcdFx0XHR0aGlzLl9ndEZpZWxkcyxcclxuXHRcdFx0XHRcdFx0dGhpcy5fZ3RTZXR0aW5nc1tpXS5vYmplY3RLZXlcclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gZ2V0IGV4cG9ydCB2YWx1ZSwgaWYgZXhwb3J0IGZ1bmN0aW9uIGlzIGRlZmluZWQgdXNlIGl0IG90aGVyd2lzZSBjaGVjayBmb3IgdmFsdWUgZnVuY3Rpb24gYW5kIGFzIGEgbGFzdCByZXNvcnQgZXhwb3J0IHJhdyBkYXRhXHJcblx0XHRcdFx0XHRsZXQgZXhwb3J0VmFsdWU6IHN0cmluZyA9XHJcblx0XHRcdFx0XHRcdGZpZWxkU2V0dGluZy5leHBvcnQgJiYgdHlwZW9mIGZpZWxkU2V0dGluZy5leHBvcnQgPT09ICdmdW5jdGlvbidcclxuXHRcdFx0XHRcdFx0XHQ/IGZpZWxkU2V0dGluZy5leHBvcnQocm93KVxyXG5cdFx0XHRcdFx0XHRcdDogZmllbGRTZXR0aW5nLnZhbHVlICYmIHR5cGVvZiBmaWVsZFNldHRpbmcudmFsdWUgPT09ICdmdW5jdGlvbidcclxuXHRcdFx0XHRcdFx0XHRcdD8gZmllbGRTZXR0aW5nLnZhbHVlKHJvdylcclxuXHRcdFx0XHRcdFx0XHRcdDogcm93W3RoaXMuX2d0U2V0dGluZ3NbaV0ub2JqZWN0S2V5XTtcclxuXHJcblx0XHRcdFx0XHQvLyBlc2NhcGUgZXhwb3J0IHZhbHVlIHVzaW5nIGRvdWJsZSBxdW90ZXMgKFwiKSBpZiBleHBvcnQgdmFsdWUgY29udGFpbnMgZGVsaW1pdGVyXHJcblx0XHRcdFx0XHRleHBvcnRWYWx1ZSA9XHJcblx0XHRcdFx0XHRcdHR5cGVvZiBleHBvcnRWYWx1ZSA9PT0gJ3N0cmluZycgJiZcclxuXHRcdFx0XHRcdFx0ZXhwb3J0VmFsdWUuaW5kZXhPZih0aGlzLl9ndE9wdGlvbnMuY3N2RGVsaW1pdGVyKSAhPT0gLTFcclxuXHRcdFx0XHRcdFx0XHQ/ICdcIicgKyBleHBvcnRWYWx1ZSArICdcIidcclxuXHRcdFx0XHRcdFx0XHQ6IGV4cG9ydFZhbHVlO1xyXG5cclxuXHRcdFx0XHRcdGNzdiArPSBleHBvcnRWYWx1ZTtcclxuXHRcdFx0XHRcdGlmIChpIDwgdGhpcy5fZ3RTZXR0aW5ncy5sZW5ndGggLSAxKSB7XHJcblx0XHRcdFx0XHRcdGNzdiArPSB0aGlzLl9ndE9wdGlvbnMuY3N2RGVsaW1pdGVyO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3QgYmxvYiA9IG5ldyBCbG9iKFsodXNlQk9NID8gQk9NIDogJycpICsgY3N2XSwge1xyXG5cdFx0XHR0eXBlOiAndGV4dC9jc3Y7Y2hhcnNldD11dGYtOCdcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmICh3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcclxuXHRcdFx0bmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoXHJcblx0XHRcdFx0YmxvYixcclxuXHRcdFx0XHRmaWxlTmFtZSA/IGZpbGVOYW1lICsgJy5jc3YnIDogdGhpcy5ndFRleHRzLmNzdkRvd25sb2FkICsgJy5jc3YnXHJcblx0XHRcdCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG5cdFx0XHRsaW5rLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcblx0XHRcdGlmIChsaW5rLmRvd25sb2FkICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRsaW5rLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XHRcdCdocmVmJyxcclxuXHRcdFx0XHRcdCdkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsJyArXHJcblx0XHRcdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudCgodXNlQk9NID8gQk9NIDogJycpICsgY3N2KVxyXG5cdFx0XHRcdCk7IC8vIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikpO1xyXG5cdFx0XHRcdGxpbmsuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcdFx0J2Rvd25sb2FkJyxcclxuXHRcdFx0XHRcdGZpbGVOYW1lID8gZmlsZU5hbWUgKyAnLmNzdicgOiB0aGlzLmd0VGV4dHMuY3N2RG93bmxvYWQgKyAnLmNzdidcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcblx0XHRcdFx0bGluay5jbGljaygpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGNzdiA9ICdkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsJyArICh1c2VCT00gPyBCT00gOiAnJykgKyBjc3Y7XHJcblx0XHRcdFx0d2luZG93Lm9wZW4oZW5jb2RlVVJJQ29tcG9uZW50KGNzdikpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZW1pdCBleHBvcnQgZXZlbnRcclxuXHRcdHRoaXMuZ3RFdmVudC5lbWl0KHtcclxuXHRcdFx0bmFtZTogJ2d0LWV4cG9ydGVkLWNzdicsXHJcblx0XHRcdHZhbHVlOiBmaWxlTmFtZSA/IGZpbGVOYW1lIDogdGhpcy5ndFRleHRzLmNzdkRvd25sb2FkICsgJy5jc3YnXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKiBSZXR1cm4gcHJvcGVydHkgKi9cclxuXHRwcml2YXRlIGdldFByb3BlcnR5ID0gZnVuY3Rpb24oYXJyYXk6IEFycmF5PGFueT4sIGtleTogc3RyaW5nKSB7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmIChhcnJheVtpXS5vYmplY3RLZXkgPT09IGtleSkge1xyXG5cdFx0XHRcdHJldHVybiBhcnJheVtpXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdHByaXZhdGUgcmVzdHJ1Y3R1cmVTb3J0aW5nID0gZnVuY3Rpb24oKSB7XHJcblx0XHQvKiogQ2hlY2sgYW5kIHN0b3JlIHNvcnQgb3JkZXIgdXBvbiBpbml0aWFsaXphdGlvbi5cclxuXHRcdCAqICBUaGlzIGlzIGRvbmUgYnkgY2hlY2tpbmcgc29ydCBwcm9wZXJ0aWVzIGluIHRoZSBzZXR0aW5ncyBhcnJheSBvZiB0aGUgdGFibGUsIGlmIG5vIHNvcnRpbmcgaXMgZGVmaW5lZFxyXG5cdFx0ICogIHdlJ2xsIHNvcnQgdGhlIGRhdGEgYnkgdGhlIGZpcnN0IHZpc2libGUgYW5kIGVuYWJsZWQgY29sdW1uIGluIHRoZSB0YWJsZShhc2NlbmRpbmcpLiBQbGVhc2Ugbm90ZSB0aGF0IGFjdHVhbGx5XHJcblx0XHQgKiAgc29ydGluZyBoYXZlIHRvIGJlIGRvbmUgc2VydmVyIHNpZGUgd2hlbiBsYXp5IGxvYWRpbmcgZGF0YSBmb3Igb2J2aW91cyByZWFzb25zLiAgKi9cclxuXHRcdC8vIGNyZWF0ZSBzb3J0aW5nIGFycmF5XHJcblx0XHRjb25zdCBzb3J0aW5nID0gW107XHJcblx0XHRpZiAodGhpcy5fZ3RTZXR0aW5ncykge1xyXG5cdFx0XHQvLyAuLi5zb3J0IHNldHRpbmdzIGJ5IHNvcnQgb3JkZXJcclxuXHRcdFx0dGhpcy5fZ3RTZXR0aW5ncy5zb3J0KHRoaXMuZ2V0U29ydE9yZGVyKTtcclxuXHJcblx0XHRcdC8vIC4uLmxvb3AgdGhyb3VnaCBzZXR0aW5nc1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2d0U2V0dGluZ3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRjb25zdCBzZXR0aW5nID0gdGhpcy5fZ3RTZXR0aW5nc1tpXTtcclxuXHJcblx0XHRcdFx0Ly8gLi4uaWYgc29ydGVkIGFzY2VuZGluZy4uLlxyXG5cdFx0XHRcdGlmIChzZXR0aW5nLnNvcnQgPT09ICdhc2MnKSB7XHJcblx0XHRcdFx0XHQvLyAuLi4gYWRkIHRvIHNvcnRpbmdcclxuXHRcdFx0XHRcdHNvcnRpbmcucHVzaChzZXR0aW5nLm9iamVjdEtleSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChzZXR0aW5nLnNvcnQgPT09ICdkZXNjJykge1xyXG5cdFx0XHRcdFx0LyogLi4uZWxzZSBpZiBzb3J0ZWQgZGVzY2VuZGluZy4uLiAqLyAvLyAuLi4gYWRkIHRvIHNvcnRpbmdcclxuXHRcdFx0XHRcdHNvcnRpbmcucHVzaCgnLScgKyBzZXR0aW5nLm9iamVjdEtleSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIC4uLmlmIG5vIHNvcnRpbmcgYXBwbGllZC4uLlxyXG5cdFx0XHRpZiAoc29ydGluZy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRzb3J0aW5nLnB1c2goJyQkZ3RSb3dJZCcpO1xyXG5cdFx0XHRcdC8qLy8gLi4uc29ydCBzZXR0aW5ncyBieSBjb2x1bW4gb3JkZXJcclxuXHRcdFx0XHR0aGlzLl9ndFNldHRpbmdzLnNvcnQodGhpcy5nZXRDb2x1bW5PcmRlcik7XHJcblxyXG5cdFx0XHRcdC8vIC4uLmxvb3AgdGhyb3VnaCBzZXR0aW5nc1xyXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZ3RTZXR0aW5ncy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc2V0dGluZyA9IHRoaXMuX2d0U2V0dGluZ3NbaV07XHJcblxyXG5cdFx0XHRcdFx0Ly8gLi4uaWYgY29sdW1uIGlzIGVuYWJsZWQgYW5kIHZpc2libGUuLi5cclxuXHRcdFx0XHRcdGlmIChzZXR0aW5nLmVuYWJsZWQgIT09IGZhbHNlICYmIHNldHRpbmcudmlzaWJsZSAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdFx0Ly8gLi4uYWRkIGZpcnN0IG1hdGNoIGFuZCBleGl0IGZ1bmN0aW9uXHJcblx0XHRcdFx0XHRcdHRoaXMuc29ydE9yZGVyID0gW3RoaXMuX2d0U2V0dGluZ3NbaV0ub2JqZWN0S2V5XTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0qL1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuc29ydE9yZGVyLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHR0aGlzLnNvcnRPcmRlciA9IHNvcnRpbmc7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0bmdPbkluaXQoKSB7XHJcblx0XHQvLyBpZiBudW1iZXIgb2Ygcm93IHRvIGRpc3BsYXkgZnJvbSBzdGFydCBpcyBzZXQgdG8gbnVsbCBvciAwLi4uXHJcblx0XHRpZiAoIXRoaXMuZ3RPcHRpb25zLm51bWJlck9mUm93cykge1xyXG5cdFx0XHQvLyAuLi5jaGFuZ2Ugcm93IGxlbmd0aFxyXG5cdFx0XHR0aGlzLmNoYW5nZVJvd0xlbmd0aCh0aGlzLmd0T3B0aW9ucy5udW1iZXJPZlJvd3MpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5yZXN0cnVjdHVyZVNvcnRpbmcoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqICBFeHRlbmQgb2JqZWN0IGZ1bmN0aW9uLlxyXG5cdCAqL1xyXG5cdHByaXZhdGUgZXh0ZW5kID0gZnVuY3Rpb24oYTogT2JqZWN0LCBiOiBPYmplY3QpIHtcclxuXHRcdGZvciAoY29uc3Qga2V5IGluIGIpIHtcclxuXHRcdFx0aWYgKGIuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGFba2V5XSA9IGJba2V5XTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGE7XHJcblx0fTtcclxuXHJcblx0bmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xyXG5cdFx0Ly8gaWYgZ3QgdGV4dHMgaGF2ZSBjaGFuZ2VkLi4uXHJcblx0XHRpZiAoY2hhbmdlc1snZ3RUZXh0cyddKSB7XHJcblx0XHRcdC8vIC4uLmV4dGVuZCBndE9wdGlvbnMgZGVmYXVsdCB2YWx1ZXMgd2l0aCB2YWx1ZXMgcGFzc2VkIGludG8gY29tcG9uZW50XHJcblx0XHRcdHRoaXMuZ3RUZXh0cyA9IDxHdFRleHRzPnRoaXMuZXh0ZW5kKHRoaXMuZ3REZWZhdWx0VGV4dHMsIHRoaXMuZ3RUZXh0cyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gaWYgbGF6eSBsb2FkaW5nIGRhdGEgYW5kIHBhZ2luZyBpbmZvcm1hdGlvbiBpcyBhdmFpbGFibGUuLi5cclxuXHRcdGlmICh0aGlzLmd0T3B0aW9ucy5sYXp5TG9hZCAmJiB0aGlzLmd0SW5mbykge1xyXG5cdFx0XHQvLyAuLi5jYWxjdWxhdGUgdG90YWwgbnVtYmVyIG9mIHBhZ2VzXHJcblx0XHRcdHRoaXMuZ3RJbmZvLnBhZ2VUb3RhbCA9IE1hdGguY2VpbChcclxuXHRcdFx0XHR0aGlzLmd0SW5mby5yZWNvcmRzQWZ0ZXJTZWFyY2ggLyB0aGlzLmd0SW5mby5yZWNvcmRMZW5ndGhcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIC4uLmRlY2xhcmUgc3RvcmUgcG9zaXRpb25cclxuXHRcdFx0Y29uc3Qgc3RvcmVQb3NpdGlvbiA9IHRoaXMuZ3RJbmZvLnBhZ2VDdXJyZW50IC0gMTtcclxuXHJcblx0XHRcdC8vIC4uLmFuZCBpZiBzdG9yZSBpcyBlbXB0eSBvciBwYWdlIGxlbmd0aCBoYXMgY2hhbmdlZC4uLlxyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0dGhpcy5zdG9yZS5sZW5ndGggPT09IDAgfHxcclxuXHRcdFx0XHR0aGlzLnN0b3JlWzBdLmxlbmd0aCAhPT0gdGhpcy5ndEluZm8ucmVjb3JkTGVuZ3RoXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdC8vIC4uLmNyZWF0ZSBzdG9yZVxyXG5cdFx0XHRcdHRoaXMuc3RvcmUgPSB0aGlzLmNyZWF0ZVN0b3JlKFxyXG5cdFx0XHRcdFx0dGhpcy5ndEluZm8ucmVjb3Jkc0FmdGVyU2VhcmNoLFxyXG5cdFx0XHRcdFx0dGhpcy5ndEluZm8ucmVjb3JkTGVuZ3RoXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gLi4uc3RvcmUgcmV0cmlldmVkIGRhdGEgaW4gc3RvcmUgYXQgc3RvcmUgcG9zaXRpb25cclxuXHRcdFx0dGhpcy5zdG9yZVtzdG9yZVBvc2l0aW9uXSA9IHRoaXMuZ3REYXRhO1xyXG5cdFx0XHR0aGlzLmd0SW5mby52aXNpYmxlUmVjb3JkcyA9IFsuLi50aGlzLmd0RGF0YV07IC8vIGFkZCB2aXNpYmxlIHJvd3NcclxuXHJcblx0XHRcdC8vIHJlcGxhY2UgZGF0YSB3aXRoIHN0b3JlXHJcblx0XHRcdHRoaXMuX2d0RGF0YSA9IHRoaXMuc3RvcmU7XHJcblx0XHRcdHRoaXMubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZVJlY29yZFJhbmdlKCk7XHJcblx0XHRcdHRoaXMuZ3RFdmVudC5lbWl0KHtcclxuXHRcdFx0XHRuYW1lOiAnZ3QtaW5mbycsXHJcblx0XHRcdFx0dmFsdWU6IHRoaXMuZ3RJbmZvXHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIGlmIChcclxuXHRcdFx0dGhpcy5fZ3REYXRhICYmXHJcblx0XHRcdHRoaXMuX2d0RGF0YS5sZW5ndGggPj0gMCAmJlxyXG5cdFx0XHRjaGFuZ2VzWydndERhdGEnXSAmJlxyXG5cdFx0XHRjaGFuZ2VzWydndERhdGEnXS5wcmV2aW91c1ZhbHVlXHJcblx0XHQpIHtcclxuXHRcdFx0dGhpcy5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR9IGVsc2UgaWYgKFxyXG5cdFx0XHRjaGFuZ2VzWydndERhdGEnXSAmJlxyXG5cdFx0XHRjaGFuZ2VzWydndERhdGEnXS5maXJzdENoYW5nZSAmJlxyXG5cdFx0XHR0aGlzLl9ndERhdGEgJiZcclxuXHRcdFx0dGhpcy5fZ3REYXRhLmxlbmd0aCA+IDBcclxuXHRcdCkge1xyXG5cdFx0XHR0aGlzLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHRyYWNrQnlGbihpbmRleDogbnVtYmVyLCBpdGVtOiBHdFJvdykge1xyXG5cdFx0cmV0dXJuIGl0ZW0uJCRndFJvd0lkO1xyXG5cdH1cclxuXHJcblx0dHJhY2tCeUNvbHVtbkZuKGluZGV4OiBudW1iZXIsIGl0ZW06IEd0Q29uZmlnRmllbGQ8YW55LCBhbnk+KSB7XHJcblx0XHRyZXR1cm4gaXRlbS5vYmplY3RLZXk7XHJcblx0fVxyXG5cclxuXHRuZ09uRGVzdHJveSgpIHtcclxuXHRcdC8vIHJlbW92ZSBsaXN0ZW5lclxyXG5cdFx0dGhpcy5fc3RvcExpc3RlbmluZ0ZvcktleWRvd25FdmVudCgpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG5cdENvbXBvbmVudCxcclxuXHRDaGFuZ2VEZXRlY3RvclJlZixcclxuXHRBZnRlclZpZXdDaGVja2VkLFxyXG5cdElucHV0XHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEdlbmVyaWNUYWJsZUNvbXBvbmVudCB9IGZyb20gJy4vZ2VuZXJpYy10YWJsZS5jb21wb25lbnQnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcblx0c2VsZWN0b3I6ICdndC10YWJsZS1pbmZvJyxcclxuXHR0ZW1wbGF0ZTogYDxzcGFuICpuZ0lmPVwiZ2VuZXJpY1RhYmxlLmd0SW5mb1wiPnt7KGN1c3RvbVRleHQ/IGN1c3RvbVRleHQ6Z2VuZXJpY1RhYmxlLmd0VGV4dHMpIHwgZ3RUYWJsZUluZm86XHJcblx0XHRnZW5lcmljVGFibGUuZ3RJbmZvOlxyXG5cdFx0Z2VuZXJpY1RhYmxlLmd0SW5mby5yZWNvcmRzQWZ0ZXJTZWFyY2g6XHJcblx0XHRnZW5lcmljVGFibGUuZ3RJbmZvLnJlY29yZEZyb206XHJcblx0XHRnZW5lcmljVGFibGUuZ3RJbmZvLnJlY29yZFRvOlxyXG5cdFx0Z2VuZXJpY1RhYmxlLmd0SW5mby5yZWNvcmRzQWxsOlxyXG5cdFx0Z2VuZXJpY1RhYmxlLmd0VGV4dHMubG9hZGluZzpcclxuXHRcdGdlbmVyaWNUYWJsZS5ndFRleHRzLnRhYmxlSW5mb0FmdGVyU2VhcmNofX08L3NwYW4+YFxyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RUYWJsZUluZm9Db21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdDaGVja2VkIHtcclxuXHRASW5wdXQoKSBnZW5lcmljVGFibGU6IEdlbmVyaWNUYWJsZUNvbXBvbmVudDxhbnksIGFueT47XHJcblx0QElucHV0KCkgY3VzdG9tVGV4dDogc3RyaW5nO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIF9jaGFuZ2VEZXRlY3Rpb25SZWY6IENoYW5nZURldGVjdG9yUmVmKSB7fVxyXG5cclxuXHRuZ0FmdGVyVmlld0NoZWNrZWQoKSB7XHJcblx0XHR0aGlzLl9jaGFuZ2VEZXRlY3Rpb25SZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG5cdH1cclxufVxyXG5pbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEd0SW5mb3JtYXRpb24gfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LWluZm9ybWF0aW9uJztcclxuaW1wb3J0IHsgR3RUZXh0cyB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3QtdGV4dHMnO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndFRhYmxlSW5mbydcclxufSlcclxuZXhwb3J0IGNsYXNzIFRhYmxlSW5mb1BpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHR0cmFuc2Zvcm0oXHJcblx0XHR0ZXh0czogR3RUZXh0cyB8IHN0cmluZyxcclxuXHRcdGtleXM6IEd0SW5mb3JtYXRpb24sXHJcblx0XHRyZWNvcmRzQWZ0ZXJTZWFyY2g6IG51bWJlcixcclxuXHRcdHJlY29yZEZyb206IG51bWJlcixcclxuXHRcdHJlY29yZFRvOiBudW1iZXIsXHJcblx0XHRyZWNvcmRzQWxsOiBudW1iZXIsXHJcblx0XHRsb2FkaW5nOiBzdHJpbmcsXHJcblx0XHR0YWJsZUluZm9BZnRlclNlYXJjaDogc3RyaW5nXHJcblx0KTogc3RyaW5nIHtcclxuXHRcdGxldCB0ZXh0ID0gdHlwZW9mIHRleHRzID09PSAnb2JqZWN0JyA/IHRleHRzLnRhYmxlSW5mbyA6ICcnO1xyXG5cdFx0aWYgKGtleXMucmVjb3Jkc0FmdGVyU2VhcmNoICE9PSBrZXlzLnJlY29yZHNBbGwpIHtcclxuXHRcdFx0dGV4dCA9IHR5cGVvZiB0ZXh0cyA9PT0gJ29iamVjdCcgPyB0ZXh0cy50YWJsZUluZm9BZnRlclNlYXJjaCA6ICcnO1xyXG5cdFx0fVxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4ga2V5cykge1xyXG5cdFx0XHRpZiAoa2V5cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3Qgc2VhcmNoU3RyaW5nID0gbmV3IFJlZ0V4cCgnIycgKyBrZXksICdnJyk7XHJcblx0XHRcdFx0dGV4dCA9IHRleHQucmVwbGFjZShzZWFyY2hTdHJpbmcsIGtleXNba2V5XSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiB0ZXh0O1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEdlbmVyaWNUYWJsZUNvbXBvbmVudCB9IGZyb20gJy4vZ2VuZXJpYy10YWJsZS5jb21wb25lbnQnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcblx0c2VsZWN0b3I6ICdndC1wYWdpbmF0aW9uJyxcclxuXHR0ZW1wbGF0ZTogYDxuYXYgY2xhc3M9XCJndC1wYWdpbmF0aW9uXCIgYXJpYS1sYWJlbD1cIlRhYmxlIG5hdmlnYXRpb25cIiAqbmdJZj1cImdlbmVyaWNUYWJsZSAmJiBnZW5lcmljVGFibGUuZ3RJbmZvICYmIHJlYWR5ICYmIGdlbmVyaWNUYWJsZS5ndERhdGE/Lmxlbmd0aCA+IDBcIiBbbmdDbGFzc109XCJ7J25vLWRhdGEnOmdlbmVyaWNUYWJsZS5ndEluZm8ucGFnZVRvdGFsID09PSAwfVwiPlxyXG4gIDx1bCBjbGFzcz1cInBhZ2luYXRpb25cIiBbbmdDbGFzc109XCJndENsYXNzZXNcIj5cclxuICAgIDxsaSBjbGFzcz1cInBhZ2UtaXRlbVwiIFtuZ0NsYXNzXT1cInsnZGlzYWJsZWQnIDogZ2VuZXJpY1RhYmxlLmd0SW5mby5wYWdlQ3VycmVudCA9PT0gMSB8fCBnZW5lcmljVGFibGUubG9hZGluZyB9XCI+PGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiIChjbGljayk9XCJnZW5lcmljVGFibGUuZ3RJbmZvLnBhZ2VDdXJyZW50ID4gMSAmJiBnZW5lcmljVGFibGUucHJldmlvdXNQYWdlKClcIiBbYXR0ci5hcmlhLWxhYmVsXT1cImdlbmVyaWNUYWJsZS5ndFRleHRzLnBhZ2luYXRlUHJldmlvdXNcIj48c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mbGFxdW87PC9zcGFuPjxzcGFuIGNsYXNzPVwic3Itb25seVwiPnt7Z2VuZXJpY1RhYmxlLmd0VGV4dHMucGFnaW5hdGVQcmV2aW91c319PC9zcGFuPjwvYT48L2xpPlxyXG4gICAgPGxpIGNsYXNzPVwicGFnZS1pdGVtXCIgW25nQ2xhc3NdPVwieydkaXNhYmxlZCcgOiBnZW5lcmljVGFibGUubG9hZGluZyAmJiBnZW5lcmljVGFibGUuZ3RJbmZvLnBhZ2VDdXJyZW50ICE9PSBwYWdlLCAnYWN0aXZlJyA6IGdlbmVyaWNUYWJsZS5ndEluZm8ucGFnZUN1cnJlbnQgPT09IHBhZ2UgfVwiICpuZ0Zvcj1cImxldCBwYWdlIG9mIGdlbmVyaWNUYWJsZS5ndEluZm8ucGFnZVRvdGFsIHwgZ3RQYWdpbmF0aW9uUGlwZTpnZW5lcmljVGFibGUuZ3RJbmZvLnBhZ2VDdXJyZW50XCI+PGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBbdGFiaW5kZXhdPVwicGFnZSA9PT0gdHJ1ZSA/IC0xOjBcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiIChjbGljayk9XCJwYWdlID09PSB0cnVlID8gJyc6Z2VuZXJpY1RhYmxlLmdvVG9QYWdlKHBhZ2UpXCI+e3twYWdlID09PSB0cnVlID8gJyZoZWxsaXA7JzpwYWdlfX08L2E+PC9saT5cclxuICAgIDxsaSBjbGFzcz1cInBhZ2UtaXRlbVwiIFtuZ0NsYXNzXT1cInsnZGlzYWJsZWQnIDogZ2VuZXJpY1RhYmxlLmd0SW5mby5wYWdlQ3VycmVudCA9PT0gZ2VuZXJpY1RhYmxlLmd0SW5mby5wYWdlVG90YWwgfHwgZ2VuZXJpY1RhYmxlLmxvYWRpbmcgfVwiPjxhIGNsYXNzPVwicGFnZS1saW5rIGd0LWxpbmtcIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiIChjbGljayk9XCJnZW5lcmljVGFibGUuZ3RJbmZvLnBhZ2VDdXJyZW50ICE9PSBnZW5lcmljVGFibGUuZ3RJbmZvLnBhZ2VUb3RhbCAmJiBnZW5lcmljVGFibGUubmV4dFBhZ2UoKVwiIFthdHRyLmFyaWEtbGFiZWxdPVwiZ2VuZXJpY1RhYmxlLmd0VGV4dHMucGFnaW5hdGVOZXh0XCI+PHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnJhcXVvOzwvc3Bhbj48c3BhbiBjbGFzcz1cInNyLW9ubHlcIj57e2dlbmVyaWNUYWJsZS5ndFRleHRzLnBhZ2luYXRlTmV4dH19PC9zcGFuPjwvYT48L2xpPlxyXG4gIDwvdWw+XHJcbiAgPC9uYXY+XHJcbiAgICBgLFxyXG5cdHN0eWxlczogWycuZ3QtbGluayB7Y3Vyc29yOiBwb2ludGVyO30nXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RQYWdpbmF0aW9uQ29tcG9uZW50IHtcclxuXHRnZXQgZ2VuZXJpY1RhYmxlKCk6IEdlbmVyaWNUYWJsZUNvbXBvbmVudDxhbnksIGFueT4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2dlbmVyaWNUYWJsZTtcclxuXHR9XHJcblxyXG5cdEBJbnB1dCgpXHJcblx0c2V0IGdlbmVyaWNUYWJsZSh2YWx1ZTogR2VuZXJpY1RhYmxlQ29tcG9uZW50PGFueSwgYW55Pikge1xyXG5cdFx0aWYgKHZhbHVlKSB7XHJcblx0XHRcdHZhbHVlLmd0RXZlbnQuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG5cdFx0XHRcdGlmIChyZXMubmFtZSA9PT0gJ2d0LWluZm8nICYmIHJlcy52YWx1ZS5wYWdlVG90YWwgPiAwKSB7XHJcblx0XHRcdFx0XHR0aGlzLnJlYWR5ID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fZ2VuZXJpY1RhYmxlID0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIF9nZW5lcmljVGFibGU6IEdlbmVyaWNUYWJsZUNvbXBvbmVudDxhbnksIGFueT47XHJcblx0QElucHV0KCkgZ3RDbGFzc2VzOiBzdHJpbmc7XHJcblx0cHVibGljIHJlYWR5ID0gZmFsc2U7XHJcbn1cclxuaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndFBhZ2luYXRpb25QaXBlJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgUGFnaW5hdGlvblBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHR0cmFuc2Zvcm0odG90YWxQYWdlczogbnVtYmVyLCBjdXJyZW50UGFnZTogbnVtYmVyKTogQXJyYXk8YW55PiB7XHJcblx0XHRpZiAodG90YWxQYWdlcyA9PT0gMCkge1xyXG5cdFx0XHRyZXR1cm4gWzFdO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgcGFnaW5hdGlvbjogQXJyYXk8YW55PiA9IFtdOyAvLyBjcmVhdGUgbmV3IGVtcHR5IGFycmF5IGZvciBwYWdpbmF0aW9uXHJcblx0XHRjb25zdCBzaWJsaW5ncyA9IDI7IC8vIHNpYmxpbmcgZWxlbWVudHMgaWUuIG51bWJlciBvZiBlbGVtZW50cyBvbiBlYWNoIHNpZGUgb2YgY3VycmVudCBwYWdlXHJcblx0XHRjb25zdCBwYWdpbmF0aW9uTGVuZ3RoID1cclxuXHRcdFx0dG90YWxQYWdlcyA8IHNpYmxpbmdzICogMiArIDEgPyB0b3RhbFBhZ2VzIDogc2libGluZ3MgKiAyICsgMTsgLy8gbnVtYmVyIG9mIGVsZW1lbnRzIGluIHBhZ2luYXRpb24gYXJyYXlcclxuXHRcdGNvbnN0IHN0YXJ0ID0gY3VycmVudFBhZ2UgPD0gc2libGluZ3MgPyAxIDogY3VycmVudFBhZ2UgLSBzaWJsaW5nczsgLy8gc3RhcnRpbmcgcG9zaXRpb24gZm9yIGFycmF5XHJcblx0XHRjb25zdCBtb2RpZmllciA9XHJcblx0XHRcdHRvdGFsUGFnZXMgLSAoY3VycmVudFBhZ2UgKyBzaWJsaW5ncykgPD0gMFxyXG5cdFx0XHRcdD8gdG90YWxQYWdlcyAtIChjdXJyZW50UGFnZSArIHNpYmxpbmdzKVxyXG5cdFx0XHRcdDogMDsgLy8gbW9kaWZpZXIgZm9yIHBhZ2luYXRpb24gdmFsdWVzXHJcblx0XHRjb25zdCBtb2RpZmllZFBvc2l0aW9uID0gc3RhcnQgKyBtb2RpZmllciA8PSAwID8gMSA6IHN0YXJ0ICsgbW9kaWZpZXI7XHJcblxyXG5cdFx0Ly8gcHVzaCBwYWdlcyB0byBwYWdpbmF0aW9uIGFycmF5XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2luYXRpb25MZW5ndGg7IGkrKykge1xyXG5cdFx0XHRwYWdpbmF0aW9uLnB1c2gobW9kaWZpZWRQb3NpdGlvbiArIGkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGlmIGZpcnN0IHBhZ2UgaXMgbm90IGluY2x1ZGVkIGluIHBhZ2luYXRpb24uLi5cclxuXHRcdGlmIChwYWdpbmF0aW9uLmluZGV4T2YoMSkgPT09IC0xKSB7XHJcblx0XHRcdC8vIC4uLmNoZWNrIGlmIHNlY29uZCBwYWdlIGlzIGluIHBhZ2luYXRpb24uLi5cclxuXHRcdFx0aWYgKHBhZ2luYXRpb24uaW5kZXhPZigyKSA9PT0gLTEpIHtcclxuXHRcdFx0XHQvLyAuLi5pZiBub3QgY2hlY2sgaWYgdG90YWwgbnVtYmVyIG9mIHBhZ2VzIGVxdWFscyBzZXZlbiBhbmQgbnVtYmVyIG9mIHNpYmxpbmdzIGFyZSB0d28uLi5cclxuXHRcdFx0XHRpZiAodG90YWxQYWdlcyA9PT0gNyAmJiBzaWJsaW5ncyA9PT0gMikge1xyXG5cdFx0XHRcdFx0Ly8gLi4uYWRkIHNlY29uZCBwYWdlIGFuZCBkb24ndCBjb252ZXJ0IHBhZ2UgbnVtYmVyIHRvIGVsbGlwc2lzXHJcblx0XHRcdFx0XHRwYWdpbmF0aW9uLnVuc2hpZnQoMik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vIC4uLmlmIG5vdCwgdXNlIHRoaXMgcGxhY2Vob2xkZXIgZm9yIGVsbGlwc2lzIGluc3RlYWQgb2YgYWN0dWFsIHBhZ2UgbnVtYmVyXHJcblx0XHRcdFx0XHRwYWdpbmF0aW9uWzBdID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gLi4uYWRkIGZpcnN0IHBhZ2UgYXMgZmlyc3QgYXJyYXkgaXRlbVxyXG5cdFx0XHRwYWdpbmF0aW9uLnVuc2hpZnQoMSk7XHJcblx0XHR9IGVsc2UgaWYgKHRvdGFsUGFnZXMgPiBwYWdpbmF0aW9uTGVuZ3RoKSB7XHJcblx0XHRcdC8vIGlmIGZpcnN0IHBhZ2UgaXMgaW5jbHVkZWQgYWRkIGV4dHJhIHBhZ2UgdG8ga2VlcCBudW1iZXIgb2YgaXRlbXMgY29uc2lzdGVudFxyXG5cdFx0XHRwYWdpbmF0aW9uLnNwbGljZShwYWdpbmF0aW9uTGVuZ3RoLCAwLCBwYWdpbmF0aW9uTGVuZ3RoICsgMSk7XHJcblx0XHR9XHJcblx0XHQvLyBjaGVjayBpZiBsYXN0IHBhZ2UgaXMgaW5jbHVkZWQgaW4gcGFnaW5hdGlvbi4uLlxyXG5cdFx0aWYgKHBhZ2luYXRpb24uaW5kZXhPZih0b3RhbFBhZ2VzKSA9PT0gLTEpIHtcclxuXHRcdFx0Ly8gLi4uaWYgbm90LCBwYWdlIG5leHQgdG8gbGFzdCBzaG91bGQgZWl0aGVyIHNob3cgZWxsaXBzaXMgb3IgYWN0dWFsIHBhZ2UgbnVtYmVyIGZvciB0aGUgcGFnZVxyXG5cdFx0XHRwYWdpbmF0aW9uW3BhZ2luYXRpb24ubGVuZ3RoIC0gMV0gPVxyXG5cdFx0XHRcdHBhZ2luYXRpb25bcGFnaW5hdGlvbi5sZW5ndGggLSAxXSA9PT0gdG90YWxQYWdlcyAtIDFcclxuXHRcdFx0XHRcdD8gdG90YWxQYWdlcyAtIDFcclxuXHRcdFx0XHRcdDogdHJ1ZTtcclxuXHJcblx0XHRcdC8vIC4uLmFkZCBsYXN0IHBhZ2UgdG8gcGFnaW5hdGlvblxyXG5cdFx0XHRwYWdpbmF0aW9uLnB1c2godG90YWxQYWdlcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHBhZ2luYXRpb247XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEd0RXhwYW5kZWRSb3cgfSBmcm9tICcuL2d0LWV4cGFuZGluZy1yb3cuY29tcG9uZW50JztcclxuXHJcbkBDb21wb25lbnQoe1xyXG5cdHNlbGVjdG9yOiAnZ3QtZHJpbGxkb3duJyxcclxuXHR0ZW1wbGF0ZTogYFxyXG4gICAgICA8dGFibGUgY2xhc3M9XCJ0YWJsZVwiPlxyXG4gICAgICAgICAgPHRyICpuZ0Zvcj1cImxldCByb3cgb2YgZGF0YVwiIChjbGljayk9XCIkcm93Q2xpY2socm93LCAkZXZlbnQpXCI+XHJcbiAgICAgICAgICAgICAgPCEtLTx0ZCAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGd0U2V0dGluZ3NcIiBbc3R5bGUud2lkdGhdPVwiY29sdW1uV2lkdGhbY29sdW1uLm9iamVjdEtleV1cIj57e2NvbHVtbi5vYmplY3RLZXl9fTwvdGQ+LS0+XHJcbiAgICAgICAgICAgICAgPHRkICpuZ0Zvcj1cImxldCBjb2x1bW4gb2Ygcm93IHwgZ3RSZW5kZXI6Z3RTZXR0aW5nczpndEZpZWxkczpudWxsOm51bGw6Z3RPcHRpb25zLmhpZ2hsaWdodFNlYXJjaDpndEluZm8uc2VhcmNoVGVybXM7XCJcclxuICAgICAgICAgICAgICAgICAgbmdDbGFzcz1cInt7Y29sdW1uLm9iamVjdEtleSArJy1jb2x1bW4nIHwgZGFzaENhc2V9fSB7e2d0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidjbGFzc05hbWVzJ319IHt7KGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidpbmxpbmVFZGl0JykgPyAnZ3QtaW5saW5lLWVkaXQnOicnfX0ge3tjb2x1bW4uZWRpdGVkID8gJ2d0LWVkaXRlZCc6Jyd9fSB7eyBndEZpZWxkcyB8IGd0Q29sdW1uQ2xhc3M6cm93OmNvbHVtbiB9fVwiIFtzdHlsZS53aWR0aF09XCJjb2x1bW5XaWR0aFtjb2x1bW4ub2JqZWN0S2V5XVwiIFtzdHlsZS5tYXgtd2lkdGhdPVwiY29sdW1uV2lkdGhbY29sdW1uLm9iamVjdEtleV1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJndC1yb3ctbGFiZWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImd0T3B0aW9ucy5zdGFja1wiPnt7KGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidzdGFja2VkSGVhZGluZycpID8gKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OidzdGFja2VkSGVhZGluZycpIDogKGd0RmllbGRzIHwgZ3RQcm9wZXJ0eTpjb2x1bW4ub2JqZWN0S2V5OiduYW1lJyl9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPGd0LWN1c3RvbS1jb21wb25lbnQtZmFjdG9yeSAqbmdJZj1cImNvbHVtbi5jb2x1bW5Db21wb25lbnRcIiBjbGFzcz1cImd0LXJvdy1jb250ZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdHlwZV09XCJjb2x1bW4uY29sdW1uQ29tcG9uZW50LnR5cGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtpbmplY3Rvcl09XCJjb2x1bW4uY29sdW1uQ29tcG9uZW50LmluamVjdG9yXCIgW3Jvd109XCJyb3dcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjb2x1bW5dPVwiY29sdW1uXCIgKHJlZHJhd0V2ZW50KT1cIiRyZWRyYXcoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImNvbHVtbi5jbGljayA/IGNvbHVtbi5jbGljayhyb3csY29sdW1uLCRldmVudCk6Jyc7XCI+PC9ndC1jdXN0b20tY29tcG9uZW50LWZhY3Rvcnk+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiIWNvbHVtbi5jb2x1bW5Db21wb25lbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImd0LXJvdy1jb250ZW50XCIgW2lubmVySFRNTF09XCJjb2x1bW4ucmVuZGVyVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiY29sdW1uLmNsaWNrID8gY29sdW1uLmNsaWNrKHJvdyxjb2x1bW4sJGV2ZW50KTonJ1wiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L3RkPlxyXG5cclxuICAgICAgICAgIDwvdHI+XHJcbiAgICAgIDwvdGFibGU+XHJcbiAgYCxcclxuXHRzdHlsZXM6IFtdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdERyaWxsZG93bkNvbXBvbmVudCBleHRlbmRzIEd0RXhwYW5kZWRSb3c8YW55PiBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cdH1cclxuXHJcblx0bmdPbkluaXQoKSB7fVxyXG59XHJcbiIsImltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRG9tU2FuaXRpemVyLCBTYWZlSHRtbCB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndEhpZ2hsaWdodCdcclxufSlcclxuZXhwb3J0IGNsYXNzIEd0SGlnaGxpZ2h0UGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xyXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgc2FuaXRpemVyOiBEb21TYW5pdGl6ZXIpIHt9XHJcblxyXG5cdHRyYW5zZm9ybSh0ZXh0OiBzdHJpbmcsIHNlYXJjaFRlcm06IHN0cmluZyk6IFNhZmVIdG1sIHtcclxuXHRcdGNvbnN0IGhheXN0YWNrQWx3YXlzU3RyaW5nID0gdGV4dCArICcnO1xyXG5cdFx0bGV0IGhpZ2hsaWdodGVkVGV4dCA9IGhheXN0YWNrQWx3YXlzU3RyaW5nOyAvLyBmYWxsYmFja1xyXG5cclxuXHRcdGxldCBzZWFyY2hQYXR0ZXJuO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0c2VhcmNoUGF0dGVybiA9IG5ldyBSZWdFeHAoXHJcblx0XHRcdFx0JygnICtcclxuXHRcdFx0XHRzZWFyY2hUZXJtXHJcblx0XHRcdFx0XHQudG9Mb3dlckNhc2UoKVxyXG5cdFx0XHRcdFx0Lm1hdGNoKC9cIi4qP1wifFteIF0rL2cpIC8vIGV4dHJhY3Qgd29yZHNcclxuXHRcdFx0XHRcdC5tYXAoXHJcblx0XHRcdFx0XHRcdG5lZWRsZSA9PiBuZWVkbGUucmVwbGFjZSgvXCIoLio/KVwiLywgJyQxJykgLy8gc3RyaXAgYXdheSAnXCInXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHQuam9pbignfCcpICsgLy8gY29tYmluZSB3b3Jkc1xyXG5cdFx0XHRcdFx0JyknLFxyXG5cdFx0XHRcdCdpZydcclxuXHRcdFx0KTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0SHRtbChoaWdobGlnaHRlZFRleHQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGNvbnRhaW5zVGFnUGF0dGVybiA9IC8oPC4qPz4pKC4qKSg8XFwvLio/PikvZ2k7XHJcblx0XHRjb25zdCBjb250YWluc1RhZ01hdGNoZXMgPSBjb250YWluc1RhZ1BhdHRlcm4uZXhlYyhoYXlzdGFja0Fsd2F5c1N0cmluZyk7XHJcblxyXG5cdFx0aWYgKGNvbnRhaW5zVGFnTWF0Y2hlcykge1xyXG5cdFx0XHQvLyB0YWcgZXhpc3RzIGluIGhheXN0YWNrXHJcblx0XHRcdGhpZ2hsaWdodGVkVGV4dCA9XHJcblx0XHRcdFx0Y29udGFpbnNUYWdNYXRjaGVzWzFdICtcclxuXHRcdFx0XHRjb250YWluc1RhZ01hdGNoZXNbMl0ucmVwbGFjZShcclxuXHRcdFx0XHRcdHNlYXJjaFBhdHRlcm4sXHJcblx0XHRcdFx0XHQnPHNwYW4gY2xhc3M9XCJndC1oaWdobGlnaHQtc2VhcmNoXCI+JDE8L3NwYW4+J1xyXG5cdFx0XHRcdCkgK1xyXG5cdFx0XHRcdGNvbnRhaW5zVGFnTWF0Y2hlc1szXTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGhpZ2hsaWdodGVkVGV4dCA9IGhheXN0YWNrQWx3YXlzU3RyaW5nLnJlcGxhY2UoXHJcblx0XHRcdFx0c2VhcmNoUGF0dGVybixcclxuXHRcdFx0XHQnPHNwYW4gY2xhc3M9XCJndC1oaWdobGlnaHQtc2VhcmNoXCI+JDE8L3NwYW4+J1xyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLnNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0SHRtbChoaWdobGlnaHRlZFRleHQpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEd0Q29uZmlnU2V0dGluZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3QtY29uZmlnLXNldHRpbmcnO1xyXG5pbXBvcnQgeyBHdENvbmZpZ0ZpZWxkIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1jb25maWctZmllbGQnO1xyXG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcclxuaW1wb3J0IHsgR3RSb3cgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LXJvdyc7XHJcbmltcG9ydCB7IEd0UmVuZGVyRmllbGQgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LXJlbmRlci1maWVsZCc7XHJcbmltcG9ydCB7IEd0SGlnaGxpZ2h0UGlwZSB9IGZyb20gJy4vZ3QtaGlnaGxpZ2h0LnBpcGUnO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndFJlbmRlcidcclxufSlcclxuZXhwb3J0IGNsYXNzIEd0UmVuZGVyUGlwZTxSIGV4dGVuZHMgR3RSb3c+IGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHNhbml0aXplcjogRG9tU2FuaXRpemVyLFxyXG5cdFx0cHJpdmF0ZSBndEhpZ2hsaWdodFBpcGU6IEd0SGlnaGxpZ2h0UGlwZVxyXG5cdCkge31cclxuXHJcblx0Ly8gVE9ETzogbW92ZSB0byBoZWxwZXIgZnVuY3Rpb25zXHJcblx0LyoqIFNvcnQgYnkgY29sdW1uIG9yZGVyICovXHJcblx0cHJpdmF0ZSBnZXRDb2x1bW5PcmRlciA9IGZ1bmN0aW9uKGE6IEd0Q29uZmlnU2V0dGluZywgYjogR3RDb25maWdTZXR0aW5nKSB7XHJcblx0XHRpZiAoYS5jb2x1bW5PcmRlciA8IGIuY29sdW1uT3JkZXIpIHtcclxuXHRcdFx0cmV0dXJuIC0xO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGEuY29sdW1uT3JkZXIgPiBiLmNvbHVtbk9yZGVyIHx8IHR5cGVvZiBhLmNvbHVtbk9yZGVyID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRyZXR1cm4gMTtcclxuXHRcdH1cclxuXHRcdHJldHVybiAwO1xyXG5cdH07XHJcblxyXG5cdC8qKiBTb3J0IGJ5IGxlbmd0aCAqL1xyXG5cdHByaXZhdGUgZ2V0T3JkZXJCeUxlbmd0aCA9IGZ1bmN0aW9uKGE6IGFueSwgYjogYW55KSB7XHJcblx0XHRyZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcclxuXHR9O1xyXG5cclxuXHQvKiogUmV0dXJuIHByb3BlcnR5ICovXHJcblx0cHJpdmF0ZSBnZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uKGFycmF5OiBBcnJheTxhbnk+LCBrZXk6IHN0cmluZykge1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoYXJyYXlbaV0ub2JqZWN0S2V5ID09PSBrZXkpIHtcclxuXHRcdFx0XHRyZXR1cm4gYXJyYXlbaV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHR0cmFuc2Zvcm0oXHJcblx0XHRyb3c6IGFueSxcclxuXHRcdHNldHRpbmdzOiBBcnJheTxHdENvbmZpZ1NldHRpbmc+LFxyXG5cdFx0ZmllbGRzOiBBcnJheTxHdENvbmZpZ0ZpZWxkPFIsIGFueT4+LFxyXG5cdFx0dXBkYXRlZDogYm9vbGVhbixcclxuXHRcdGxvYWRpbmc6IGJvb2xlYW4sXHJcblx0XHRoaWdobGlnaHQ6IGJvb2xlYW4gPSBmYWxzZSxcclxuXHRcdHNlYXJjaFN0cmluZz86IHN0cmluZ1xyXG5cdCk6IEFycmF5PEd0UmVuZGVyRmllbGQ8UiwgYW55Pj4ge1xyXG5cdFx0Ly8gbGV0IGFyciA9IFt7XCJ0ZW1wXCI6MTIzLFwibmFtZVwiOlwiaGFwcHlcIn0se1widGVtcFwiOjQ1NixcIm5hbWVcIjpcImRmZ2RmZ1wifSx7XCJ0ZW1wXCI6Nzg5LFwibmFtZVwiOlwiYXNkYXNkXCJ9XTtcclxuXHRcdC8vIGNvbnNvbGUubG9nKGFycixhcnIubWFwKGZ1bmN0aW9uKGl0ZW0pe3JldHVybiBpdGVtLnRlbXB9KSk7XHJcblx0XHQvLyBjb25zb2xlLmxvZyhzZXR0aW5ncy5tYXAoJ29iamVjdEtleScpKTtcclxuXHJcblx0XHQvLyBjb25zb2xlLmxvZygncmVuZGVyJyk7XHJcblx0XHRjb25zdCBjb2x1bW5zOiBBcnJheTxzdHJpbmc+ID0gW107XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHNldHRpbmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmIChzZXR0aW5nc1tpXS52aXNpYmxlICE9PSBmYWxzZSAmJiBzZXR0aW5nc1tpXS5lbmFibGVkICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdGNvbHVtbnMucHVzaChzZXR0aW5nc1tpXS5vYmplY3RLZXkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Ly8gY29uc29sZS5sb2coIXJvd1tmaWVsZHNbaV0ub2JqZWN0S2V5XSk7XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHRmaWVsZHNbaV0udmFsdWUgJiZcclxuXHRcdFx0XHR0eXBlb2YgZmllbGRzW2ldLnZhbHVlID09PSAnZnVuY3Rpb24nICYmXHJcblx0XHRcdFx0IXJvdy5oYXNPd25Qcm9wZXJ0eShmaWVsZHNbaV0ub2JqZWN0S2V5KVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHRyb3dbZmllbGRzW2ldLm9iamVjdEtleV0gPSBsb2FkaW5nID8gJycgOiBmaWVsZHNbaV0udmFsdWUocm93KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Ly8gY29uc29sZS5sb2cocm93KTtcclxuXHRcdGNvbnN0IGtleXM6IEFycmF5PGFueT4gPSBbXTtcclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHJvdykge1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZyhrZXkpO1xyXG5cdFx0XHRpZiAoY29sdW1ucy5pbmRleE9mKGtleSkgIT09IC0xKSB7XHJcblx0XHRcdFx0bGV0IGZpZWxkU2V0dGluZztcclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKGZpZWxkc1tpXS5vYmplY3RLZXkgPT09IGtleSkge1xyXG5cdFx0XHRcdFx0XHRmaWVsZFNldHRpbmcgPSBmaWVsZHNbaV07XHJcblx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKGZpZWxkU2V0dGluZyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb25zdCBjb2x1bW5PYmplY3Q6IEd0UmVuZGVyRmllbGQ8UiwgYW55PiA9IHtcclxuXHRcdFx0XHRcdG9iamVjdEtleToga2V5LFxyXG5cdFx0XHRcdFx0c29ydFZhbHVlOiByb3dba2V5XVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8vIGFkZCBjb21wb25lbnQgaWYgZGVmaW5lZFxyXG5cdFx0XHRcdGlmIChmaWVsZFNldHRpbmcuY29sdW1uQ29tcG9uZW50KSB7XHJcblx0XHRcdFx0XHRjb2x1bW5PYmplY3QuY29sdW1uQ29tcG9uZW50ID0gZmllbGRTZXR0aW5nLmNvbHVtbkNvbXBvbmVudDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChsb2FkaW5nKSB7XHJcblx0XHRcdFx0XHRjb2x1bW5PYmplY3QucmVuZGVyVmFsdWUgPSByb3dba2V5XSAhPT0gbnVsbCA/IHJvd1trZXldIDogJyc7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChcclxuXHRcdFx0XHRcdGhpZ2hsaWdodCAmJlxyXG5cdFx0XHRcdFx0c2VhcmNoU3RyaW5nICYmXHJcblx0XHRcdFx0XHR0aGlzLmdldFByb3BlcnR5KHNldHRpbmdzLCBrZXkpLnNlYXJjaCAhPT0gZmFsc2VcclxuXHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdGNvbHVtbk9iamVjdC5yZW5kZXJWYWx1ZSA9XHJcblx0XHRcdFx0XHRcdGZpZWxkU2V0dGluZy5yZW5kZXIgJiYgdHlwZW9mIGZpZWxkU2V0dGluZy5yZW5kZXIgPT09ICdmdW5jdGlvbidcclxuXHRcdFx0XHRcdFx0XHQ/IHRoaXMuZ3RIaWdobGlnaHRQaXBlLnRyYW5zZm9ybShcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZmllbGRTZXR0aW5nLnJlbmRlcihyb3cpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWFyY2hTdHJpbmdcclxuXHRcdFx0XHRcdFx0XHQgIClcclxuXHRcdFx0XHRcdFx0XHQ6IHRoaXMuZ3RIaWdobGlnaHRQaXBlLnRyYW5zZm9ybShcclxuXHRcdFx0XHRcdFx0XHRcdFx0cm93W2tleV0gIT09IG51bGwgPyByb3dba2V5XSA6ICcnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWFyY2hTdHJpbmdcclxuXHRcdFx0XHRcdFx0XHQgICk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGNvbHVtbk9iamVjdC5yZW5kZXJWYWx1ZSA9XHJcblx0XHRcdFx0XHRcdGZpZWxkU2V0dGluZy5yZW5kZXIgJiYgdHlwZW9mIGZpZWxkU2V0dGluZy5yZW5kZXIgPT09ICdmdW5jdGlvbidcclxuXHRcdFx0XHRcdFx0XHQ/IHRoaXMuc2FuaXRpemVyLmJ5cGFzc1NlY3VyaXR5VHJ1c3RIdG1sKGZpZWxkU2V0dGluZy5yZW5kZXIocm93KSlcclxuXHRcdFx0XHRcdFx0XHQ6IHJvd1trZXldICE9PSBudWxsXHJcblx0XHRcdFx0XHRcdFx0XHQ/IHJvd1trZXldXHJcblx0XHRcdFx0XHRcdFx0XHQ6ICcnO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGZpZWxkU2V0dGluZy5jbGljayAmJiB0eXBlb2YgZmllbGRTZXR0aW5nLmNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0XHRjb2x1bW5PYmplY3QuY2xpY2sgPSBmaWVsZFNldHRpbmcuY2xpY2s7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChmaWVsZFNldHRpbmcuZXhwYW5kKSB7XHJcblx0XHRcdFx0XHRjb2x1bW5PYmplY3QuZXhwYW5kID0gZmllbGRTZXR0aW5nLmV4cGFuZDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGtleXMucHVzaChjb2x1bW5PYmplY3QpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0a2V5cy5zb3J0KGZ1bmN0aW9uKGE6IGFueSwgYjogYW55KSB7XHJcblx0XHRcdHJldHVybiBjb2x1bW5zLmluZGV4T2YoYS5vYmplY3RLZXkpIDwgY29sdW1ucy5pbmRleE9mKGIub2JqZWN0S2V5KVxyXG5cdFx0XHRcdD8gLTFcclxuXHRcdFx0XHQ6IDE7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBrZXlzO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEd0Q29uZmlnRmllbGQgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LWNvbmZpZy1maWVsZCc7XHJcbmltcG9ydCB7IEd0Q29uZmlnU2V0dGluZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3QtY29uZmlnLXNldHRpbmcnO1xyXG5pbXBvcnQgeyBHdFJvdyB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3Qtcm93JztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZ3RWaXNpYmxlJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RWaXNpYmxlUGlwZTxSIGV4dGVuZHMgR3RSb3c+IGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcblx0Ly8gVE9ETzogbW92ZSB0byBoZWxwZXIgZnVuY3Rpb25zXHJcblx0LyoqIFNvcnQgYnkgY29sdW1uIG9yZGVyICovXHJcblx0cHJpdmF0ZSBnZXRDb2x1bW5PcmRlciA9IGZ1bmN0aW9uKGE6IGFueSwgYjogYW55KSB7XHJcblx0XHRpZiAoYS5jb2x1bW5PcmRlciA8IGIuY29sdW1uT3JkZXIpIHtcclxuXHRcdFx0cmV0dXJuIC0xO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGEuY29sdW1uT3JkZXIgPiBiLmNvbHVtbk9yZGVyIHx8IHR5cGVvZiBhLmNvbHVtbk9yZGVyID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRyZXR1cm4gMTtcclxuXHRcdH1cclxuXHRcdHJldHVybiAwO1xyXG5cdH07XHJcblxyXG5cdHRyYW5zZm9ybShcclxuXHRcdGFycmF5OiBBcnJheTxhbnk+LFxyXG5cdFx0c2V0dGluZ3M6IEFycmF5PEd0Q29uZmlnU2V0dGluZz4sXHJcblx0XHRyZWZyZXNoUGlwZT86IGJvb2xlYW5cclxuXHQpOiBBcnJheTxHdENvbmZpZ0ZpZWxkPFIsIGFueT4+IHwgQXJyYXk8R3RDb25maWdTZXR0aW5nPiB7XHJcblx0XHRjb25zdCB2aXNpYmxlQ29sdW1ucyA9IHNldHRpbmdzXHJcblx0XHRcdC5zb3J0KHRoaXMuZ2V0Q29sdW1uT3JkZXIpXHJcblx0XHRcdC5tYXAoKHNldHRpbmc6IEd0Q29uZmlnU2V0dGluZykgPT4ge1xyXG5cdFx0XHRcdGlmIChzZXR0aW5nLnZpc2libGUgIT09IGZhbHNlICYmIHNldHRpbmcuZW5hYmxlZCAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdHJldHVybiBzZXR0aW5nLm9iamVjdEtleTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBhcnJheVxyXG5cdFx0XHQuZmlsdGVyKChjb2x1bW46IGFueSkgPT4ge1xyXG5cdFx0XHRcdHJldHVybiB2aXNpYmxlQ29sdW1ucy5pbmRleE9mKGNvbHVtbi5vYmplY3RLZXkpICE9PSAtMTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LnNvcnQoZnVuY3Rpb24oYSwgYikge1xyXG5cdFx0XHRcdHJldHVybiB2aXNpYmxlQ29sdW1ucy5pbmRleE9mKGEub2JqZWN0S2V5KSA8XHJcblx0XHRcdFx0XHR2aXNpYmxlQ29sdW1ucy5pbmRleE9mKGIub2JqZWN0S2V5KVxyXG5cdFx0XHRcdFx0PyAtMVxyXG5cdFx0XHRcdFx0OiAxO1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdkYXNoQ2FzZSdcclxufSlcclxuZXhwb3J0IGNsYXNzIERhc2hDYXNlUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xyXG5cdHRyYW5zZm9ybShzdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgR3RDb25maWdGaWVsZCB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3QtY29uZmlnLWZpZWxkJztcclxuaW1wb3J0IHsgR3RDb25maWdTZXR0aW5nIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1jb25maWctc2V0dGluZyc7XHJcbmltcG9ydCB7IEd0Um93IH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1yb3cnO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndFByb3BlcnR5J1xyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RQcm9wZXJ0eVBpcGU8UiBleHRlbmRzIEd0Um93PiBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xyXG5cdHRyYW5zZm9ybShcclxuXHRcdGNvbmZpZzogR3RDb25maWdGaWVsZDxSLCBhbnk+W10gfCBHdENvbmZpZ1NldHRpbmdbXSxcclxuXHRcdG9iamVjdEtleTogc3RyaW5nLFxyXG5cdFx0cHJvcGVydHk6IHN0cmluZyxcclxuXHRcdHJlZnJlc2g/OiBib29sZWFuXHJcblx0KTogYW55IHtcclxuXHRcdGxldCBvdXRwdXQgPSBudWxsO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjb25maWcubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRpZiAoY29uZmlnW2ldLm9iamVjdEtleSA9PT0gb2JqZWN0S2V5KSB7XHJcblx0XHRcdFx0XHRvdXRwdXQgPSBjb25maWdbaV1bcHJvcGVydHldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdFx0J2Nhbm5vdCByZWFkIHByb3BlcnR5OiBcIicgK1xyXG5cdFx0XHRcdFx0cHJvcGVydHkgK1xyXG5cdFx0XHRcdFx0J1wiIG9uIG1pc3Npbmcga2V5OiBcIicgK1xyXG5cdFx0XHRcdFx0b2JqZWN0S2V5ICtcclxuXHRcdFx0XHRcdCdcIiBpbiBjb25maWcuJyxcclxuXHRcdFx0XHRlcnJvclxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG91dHB1dDtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEd0SW5mb3JtYXRpb24sIEd0RXZlbnQgfSBmcm9tICcuLic7XHJcblxyXG5AUGlwZSh7XHJcblx0bmFtZTogJ2d0Q2h1bmsnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdENodW5rUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xyXG5cdHRyYW5zZm9ybShcclxuXHRcdGFycmF5OiBhbnlbXSxcclxuXHRcdGd0SW5mbzogR3RJbmZvcm1hdGlvbixcclxuXHRcdGNodW5rU2l6ZTogbnVtYmVyLFxyXG5cdFx0cGFnZTogbnVtYmVyLFxyXG5cdFx0cmVmcmVzaFBhZ2VBcnJheTogYm9vbGVhbixcclxuXHRcdHJlZnJlc2hEYXRhOiBudW1iZXIsXHJcblx0XHRndEV2ZW50OiBFdmVudEVtaXR0ZXI8R3RFdmVudD4sXHJcblx0XHRkYXRhOiB7IGV4cG9ydERhdGE6IEFycmF5PGFueT4gfVxyXG5cdCk6IGFueVtdIHtcclxuXHRcdGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHtcclxuXHRcdFx0cmV0dXJuIGFycmF5O1xyXG5cdFx0fVxyXG5cdFx0ZGF0YS5leHBvcnREYXRhID0gYXJyYXk7IC8vIHN0b3JlIGRhdGEgZm9yIGV4cG9ydFxyXG5cclxuXHRcdGNvbnN0IFBBR0VTID0gW107XHJcblx0XHRjb25zdCBFTlRSSUVTID0gYXJyYXkubGVuZ3RoO1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgRU5UUklFUzsgaSArPSBjaHVua1NpemUpIHtcclxuXHRcdFx0UEFHRVMucHVzaChhcnJheS5zbGljZShpLCBpICsgY2h1bmtTaXplKSk7XHJcblx0XHR9XHJcblx0XHRndEluZm8udmlzaWJsZVJlY29yZHMgPSAhUEFHRVNbcGFnZSAtIDFdID8gW10gOiBbLi4uUEFHRVNbcGFnZSAtIDFdXTsgLy8gYWRkIHZpc2libGUgcm93c1xyXG5cdFx0Z3RJbmZvLnBhZ2VUb3RhbCA9IFBBR0VTLmxlbmd0aDsgLy8gYWRkIG51bWJlciBvZiBwYWdlc1xyXG5cclxuXHRcdHNldFRpbWVvdXQoXHJcblx0XHRcdCgpID0+XHJcblx0XHRcdFx0Z3RFdmVudC5lbWl0KHtcclxuXHRcdFx0XHRcdG5hbWU6ICdndC1pbmZvJyxcclxuXHRcdFx0XHRcdHZhbHVlOiBndEluZm9cclxuXHRcdFx0XHR9KSxcclxuXHRcdFx0MFxyXG5cdFx0KTtcclxuXHRcdHJldHVybiBQQUdFU1twYWdlIC0gMV07XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0sIEV2ZW50RW1pdHRlciwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEd0SW5mb3JtYXRpb24gfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LWluZm9ybWF0aW9uJztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZ3RGaWx0ZXInXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdEZpbHRlclBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHQvLyBAT3V0cHV0KCkgZmlsdGVySW5mbyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcblx0dHJhbnNmb3JtKFxyXG5cdFx0YWxsUm93czogYW55W10sXHJcblx0XHRmaWx0ZXJCeTogT2JqZWN0LFxyXG5cdFx0Z3RJbmZvOiBHdEluZm9ybWF0aW9uLFxyXG5cdFx0cmVmcmVzaEZpbHRlcjogYm9vbGVhbixcclxuXHRcdHJlZnJlc2hEYXRhOiBudW1iZXJcclxuXHQpOiBhbnlbXSB7XHJcblx0XHQvLyBjb25zb2xlLmxvZyhhbGxSb3dzLGZpbHRlckJ5KTtcclxuXHRcdGd0SW5mby5yZWNvcmRzQWxsID0gYWxsUm93cy5sZW5ndGg7XHJcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkoYWxsUm93cykgfHwgIWZpbHRlckJ5KSB7XHJcblx0XHRcdC8vIGd0SW5mby5maWx0ZXJlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0Y29uc3QgbGVuZ3RoID0gYWxsUm93cyA9PT0gbnVsbCA/IDAgOiBhbGxSb3dzLmxlbmd0aDtcclxuXHRcdFx0Z3RJbmZvLnJlY29yZHNBZnRlckZpbHRlciA9IGxlbmd0aDtcclxuXHRcdFx0cmV0dXJuIGFsbFJvd3M7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgb3V0cHV0ID0gW107XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGFsbFJvd3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Y29uc3Qgcm93T2JqZWN0ID0gYWxsUm93c1tpXTtcclxuXHRcdFx0bGV0IG1hdGNoID0gdHJ1ZTtcclxuXHJcblx0XHRcdGZvciAoY29uc3QgcHJvcGVydHkgaW4gZmlsdGVyQnkpIHtcclxuXHRcdFx0XHRpZiAoZmlsdGVyQnkuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhwcm9wZXJ0eSk7XHJcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhmaWx0ZXJbcHJvcGVydHldLmluZGV4T2Yob2JqW3Byb3BlcnR5XSkpO1xyXG5cdFx0XHRcdFx0aWYgKGZpbHRlckJ5W3Byb3BlcnR5XS5pbmRleE9mKHJvd09iamVjdFtwcm9wZXJ0eV0pID09PSAtMSkge1xyXG5cdFx0XHRcdFx0XHRtYXRjaCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAobWF0Y2gpIHtcclxuXHRcdFx0XHRvdXRwdXQucHVzaChyb3dPYmplY3QpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRndEluZm8ucmVjb3Jkc0FmdGVyRmlsdGVyID0gb3V0cHV0Lmxlbmd0aDsgLy8gLmVtaXQob3V0cHV0Lmxlbmd0aCk7XHJcblx0XHRyZXR1cm4gb3V0cHV0O1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEd0Q29uZmlnRmllbGQgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LWNvbmZpZy1maWVsZCc7XHJcbmltcG9ydCB7IEd0Um93IH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1yb3cnO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndE9yZGVyQnknXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdE9yZGVyQnlQaXBlPFIgZXh0ZW5kcyBHdFJvdz4gaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHRzdGF0aWMgX29yZGVyQnlDb21wYXJhdG9yKGE6IGFueSwgYjogYW55KTogbnVtYmVyIHtcclxuXHRcdC8vIHNvcnQgYm9vbGVhbiB2YWx1ZXMgYXMgc3RyaW5nc1xyXG5cdFx0aWYgKHR5cGVvZiBhID09PSAnYm9vbGVhbicpIHtcclxuXHRcdFx0YSA9IGEudG9TdHJpbmcoKTtcclxuXHRcdH1cclxuXHRcdGlmICh0eXBlb2YgYiA9PT0gJ2Jvb2xlYW4nKSB7XHJcblx0XHRcdGIgPSBiLnRvU3RyaW5nKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKFxyXG5cdFx0XHRpc05hTihwYXJzZUZsb2F0KGEpKSB8fFxyXG5cdFx0XHQhaXNGaW5pdGUoYSkgfHxcclxuXHRcdFx0KGlzTmFOKHBhcnNlRmxvYXQoYikpIHx8ICFpc0Zpbml0ZShiKSlcclxuXHRcdCkge1xyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0YiA9PT0gbnVsbCB8fFxyXG5cdFx0XHRcdCh0eXBlb2YgYiA9PT0gJ3VuZGVmaW5lZCcgJiYgKGEgIT09IG51bGwgJiYgdHlwZW9mIGEgIT09ICd1bmRlZmluZWQnKSlcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0cmV0dXJuIDE7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdGEgPT09IG51bGwgfHxcclxuXHRcdFx0XHQodHlwZW9mIGEgPT09ICd1bmRlZmluZWQnICYmIChiICE9PSBudWxsICYmIHR5cGVvZiBiICE9PSAndW5kZWZpbmVkJykpXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdHJldHVybiAtMTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaXNuJ3QgYSBudW1iZXIgc28gbG93ZXJjYXNlIHRoZSBzdHJpbmcgdG8gcHJvcGVybHkgY29tcGFyZVxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGlmIChhLnRvTG93ZXJDYXNlKCkgPCBiLnRvTG93ZXJDYXNlKCkpIHtcclxuXHRcdFx0XHRcdHJldHVybiAtMTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKGEudG9Mb3dlckNhc2UoKSA+IGIudG9Mb3dlckNhc2UoKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIDE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdHJldHVybiAwO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBwYXJzZSBzdHJpbmdzIGFzIG51bWJlcnMgdG8gY29tcGFyZSBwcm9wZXJseVxyXG5cdFx0XHRpZiAocGFyc2VGbG9hdChhKSA8IHBhcnNlRmxvYXQoYikpIHtcclxuXHRcdFx0XHRyZXR1cm4gLTE7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHBhcnNlRmxvYXQoYSkgPiBwYXJzZUZsb2F0KGIpKSB7XHJcblx0XHRcdFx0cmV0dXJuIDE7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gMDsgLy8gZXF1YWwgZWFjaCBvdGhlclxyXG5cdH1cclxuXHJcblx0LyoqIFJldHVybiBwcm9wZXJ0eSAqL1xyXG5cdHByaXZhdGUgZ2V0UHJvcGVydHkgPSBmdW5jdGlvbihhcnJheTogQXJyYXk8YW55Piwga2V5OiBzdHJpbmcpIHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKGFycmF5W2ldLm9iamVjdEtleSA9PT0ga2V5KSB7XHJcblx0XHRcdFx0cmV0dXJuIGFycmF5W2ldO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LyoqIFJldHVybiBzb3J0IGZ1bmN0aW9uICovXHJcblx0cHJpdmF0ZSBnZXRTb3J0RnVuY3Rpb24oZmllbGQ6IGFueSkge1xyXG5cdFx0aWYgKCFmaWVsZCkge1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZygnZXJyb3IgdHJ5aW5nIHRvIHNvcnQgdW5kZWZpbmVkIGZpZWxkJyk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdGlmICh0eXBlb2YgZmllbGQuc29ydCA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRyZXR1cm4gZmllbGQuc29ydDtcclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIGZpZWxkLnZhbHVlID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdHJldHVybiBmaWVsZC52YWx1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHRyYW5zZm9ybShcclxuXHRcdGlucHV0OiBhbnksXHJcblx0XHRzb3J0QnlQcm9wZXJ0aWVzOiBBcnJheTxzdHJpbmc+LFxyXG5cdFx0ZmllbGRzOiBHdENvbmZpZ0ZpZWxkPFIsIGFueT5bXSxcclxuXHRcdHJlZnJlc2hTb3J0aW5nOiBib29sZWFuLFxyXG5cdFx0cmVmcmVzaERhdGE6IG51bWJlclxyXG5cdCk6IGFueSB7XHJcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpIHx8IGlucHV0ID09PSBudWxsKSB7XHJcblx0XHRcdHJldHVybiBpbnB1dDtcclxuXHRcdH1cclxuXHRcdGlmIChcclxuXHRcdFx0IUFycmF5LmlzQXJyYXkoc29ydEJ5UHJvcGVydGllcykgfHxcclxuXHRcdFx0KEFycmF5LmlzQXJyYXkoc29ydEJ5UHJvcGVydGllcykgJiYgc29ydEJ5UHJvcGVydGllcy5sZW5ndGggPT09IDEpXHJcblx0XHQpIHtcclxuXHRcdFx0Y29uc3QgcHJvcGVydHlUb0NoZWNrOiBzdHJpbmcgPSBzb3J0QnlQcm9wZXJ0aWVzWzBdO1xyXG5cdFx0XHRjb25zdCBkZXNjID0gcHJvcGVydHlUb0NoZWNrLnN1YnN0cigwLCAxKSA9PT0gJy0nO1xyXG5cclxuXHRcdFx0Ly8gYmFzaWMgYXJyYXlcclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdCFwcm9wZXJ0eVRvQ2hlY2sgfHxcclxuXHRcdFx0XHRwcm9wZXJ0eVRvQ2hlY2sgPT09ICctJyB8fFxyXG5cdFx0XHRcdHByb3BlcnR5VG9DaGVjayA9PT0gJysnXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdHJldHVybiAhZGVzYyA/IGlucHV0LnNvcnQoKSA6IGlucHV0LnNvcnQoKS5yZXZlcnNlKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y29uc3QgcHJvcGVydHk6IHN0cmluZyA9XHJcblx0XHRcdFx0XHRwcm9wZXJ0eVRvQ2hlY2suc3Vic3RyKDAsIDEpID09PSAnKycgfHxcclxuXHRcdFx0XHRcdHByb3BlcnR5VG9DaGVjay5zdWJzdHIoMCwgMSkgPT09ICctJ1xyXG5cdFx0XHRcdFx0XHQ/IHByb3BlcnR5VG9DaGVjay5zdWJzdHIoMSlcclxuXHRcdFx0XHRcdFx0OiBwcm9wZXJ0eVRvQ2hlY2s7XHJcblxyXG5cdFx0XHRcdC8vIGNoZWNrIGlmIGN1c3RvbSBzb3J0IGZ1bmN0aW9uIGlzIGRlZmluZWRcclxuXHRcdFx0XHRjb25zdCBzb3J0RnVuY3Rpb246IGFueSA9IHRoaXMuZ2V0U29ydEZ1bmN0aW9uKFxyXG5cdFx0XHRcdFx0dGhpcy5nZXRQcm9wZXJ0eShmaWVsZHMsIHByb3BlcnR5KVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKHByb3BlcnR5KTtcclxuXHRcdFx0XHRyZXR1cm4gaW5wdXQuc29ydChmdW5jdGlvbihhOiBhbnksIGI6IGFueSkge1xyXG5cdFx0XHRcdFx0Ly8gdXNlIGN1c3RvbSBzb3J0IGZ1bmN0aW9uIGlmIG9uZSBpcyBkZWZpbmVkXHJcblx0XHRcdFx0XHRjb25zdCBwcm9wZXJ0eUEgPVxyXG5cdFx0XHRcdFx0XHRzb3J0RnVuY3Rpb24gPT09IGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0PyBwcm9wZXJ0eSA9PT0gJyQkZ3RSb3dJZCdcclxuXHRcdFx0XHRcdFx0XHRcdD8gK2EuJCRndFJvd0lkLnNwbGl0KCdfJylbMF1cclxuXHRcdFx0XHRcdFx0XHRcdDogYVtwcm9wZXJ0eV1cclxuXHRcdFx0XHRcdFx0XHQ6IHNvcnRGdW5jdGlvbihhKTtcclxuXHRcdFx0XHRcdGNvbnN0IHByb3BlcnR5QiA9XHJcblx0XHRcdFx0XHRcdHNvcnRGdW5jdGlvbiA9PT0gZmFsc2VcclxuXHRcdFx0XHRcdFx0XHQ/IHByb3BlcnR5ID09PSAnJCRndFJvd0lkJ1xyXG5cdFx0XHRcdFx0XHRcdFx0PyArYi4kJGd0Um93SWQuc3BsaXQoJ18nKVswXVxyXG5cdFx0XHRcdFx0XHRcdFx0OiBiW3Byb3BlcnR5XVxyXG5cdFx0XHRcdFx0XHRcdDogc29ydEZ1bmN0aW9uKGIpO1xyXG5cclxuXHRcdFx0XHRcdC8vIGlmIGJvdGggdmFsdWVzIGFyZSB1bmRlZmluZWQuLi5cclxuXHRcdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdFx0dHlwZW9mIHByb3BlcnR5QSA9PT0gJ3VuZGVmaW5lZCcgJiZcclxuXHRcdFx0XHRcdFx0dHlwZW9mIHByb3BlcnR5QiA9PT0gJ3VuZGVmaW5lZCdcclxuXHRcdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0XHQvLyAuLi5za2lwIGNvbXBhcmlzb25cclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuICFkZXNjXHJcblx0XHRcdFx0XHRcdD8gR3RPcmRlckJ5UGlwZS5fb3JkZXJCeUNvbXBhcmF0b3IocHJvcGVydHlBLCBwcm9wZXJ0eUIpXHJcblx0XHRcdFx0XHRcdDogLUd0T3JkZXJCeVBpcGUuX29yZGVyQnlDb21wYXJhdG9yKHByb3BlcnR5QSwgcHJvcGVydHlCKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gbG9vcCBvdmVyIHByb3BlcnR5IG9mIHRoZSBhcnJheSBpbiBvcmRlciBhbmQgc29ydFxyXG5cdFx0XHRyZXR1cm4gaW5wdXQuc29ydCgoYTogYW55LCBiOiBhbnkpID0+IHtcclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZygnbXVsdGlwbGUnKTtcclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRCeVByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGNvbnN0IGRlc2MgPSBzb3J0QnlQcm9wZXJ0aWVzW2ldLnN1YnN0cigwLCAxKSA9PT0gJy0nO1xyXG5cdFx0XHRcdFx0Y29uc3QgcHJvcGVydHkgPVxyXG5cdFx0XHRcdFx0XHRzb3J0QnlQcm9wZXJ0aWVzW2ldLnN1YnN0cigwLCAxKSA9PT0gJysnIHx8XHJcblx0XHRcdFx0XHRcdHNvcnRCeVByb3BlcnRpZXNbaV0uc3Vic3RyKDAsIDEpID09PSAnLSdcclxuXHRcdFx0XHRcdFx0XHQ/IHNvcnRCeVByb3BlcnRpZXNbaV0uc3Vic3RyKDEpXHJcblx0XHRcdFx0XHRcdFx0OiBzb3J0QnlQcm9wZXJ0aWVzW2ldO1xyXG5cclxuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKHByb3BlcnR5KTtcclxuXHRcdFx0XHRcdC8vIGNoZWNrIGlmIGN1c3RvbSBzb3J0IGZ1bmN0aW9uIGlzIGRlZmluZWRcclxuXHRcdFx0XHRcdGNvbnN0IHNvcnRGdW5jdGlvbjogYW55ID0gdGhpcy5nZXRTb3J0RnVuY3Rpb24oXHJcblx0XHRcdFx0XHRcdHRoaXMuZ2V0UHJvcGVydHkoZmllbGRzLCBwcm9wZXJ0eSlcclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gdXNlIGN1c3RvbSBzb3J0IGZ1bmN0aW9uIGlmIG9uZSBpcyBkZWZpbmVkXHJcblx0XHRcdFx0XHRjb25zdCBwcm9wZXJ0eUEgPVxyXG5cdFx0XHRcdFx0XHRzb3J0RnVuY3Rpb24gPT09IGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0PyBwcm9wZXJ0eSA9PT0gJyQkZ3RSb3dJZCdcclxuXHRcdFx0XHRcdFx0XHRcdD8gK2EuJCRndFJvd0lkLnNwbGl0KCdfJylbMF1cclxuXHRcdFx0XHRcdFx0XHRcdDogYVtwcm9wZXJ0eV1cclxuXHRcdFx0XHRcdFx0XHQ6IHNvcnRGdW5jdGlvbihhKTtcclxuXHRcdFx0XHRcdGNvbnN0IHByb3BlcnR5QiA9XHJcblx0XHRcdFx0XHRcdHNvcnRGdW5jdGlvbiA9PT0gZmFsc2VcclxuXHRcdFx0XHRcdFx0XHQ/IHByb3BlcnR5ID09PSAnJCRndFJvd0lkJ1xyXG5cdFx0XHRcdFx0XHRcdFx0PyArYi4kJGd0Um93SWQuc3BsaXQoJ18nKVswXVxyXG5cdFx0XHRcdFx0XHRcdFx0OiBiW3Byb3BlcnR5XVxyXG5cdFx0XHRcdFx0XHRcdDogc29ydEZ1bmN0aW9uKGIpO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGNvbXBhcmlzb24gPSAhZGVzY1xyXG5cdFx0XHRcdFx0XHQ/IEd0T3JkZXJCeVBpcGUuX29yZGVyQnlDb21wYXJhdG9yKHByb3BlcnR5QSwgcHJvcGVydHlCKVxyXG5cdFx0XHRcdFx0XHQ6IC1HdE9yZGVyQnlQaXBlLl9vcmRlckJ5Q29tcGFyYXRvcihwcm9wZXJ0eUEsIHByb3BlcnR5Qik7XHJcblxyXG5cdFx0XHRcdFx0Ly8gZG9uJ3QgcmV0dXJuIDAgeWV0IGluIGNhc2Ugb2YgbmVlZGluZyB0byBzb3J0IGJ5IG5leHQgcHJvcGVydHlcclxuXHRcdFx0XHRcdGlmIChjb21wYXJpc29uICE9PSAwKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBjb21wYXJpc29uO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIDA7IC8vIGVxdWFsIGVhY2ggb3RoZXJcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgR3RDb25maWdGaWVsZCB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3QtY29uZmlnLWZpZWxkJztcclxuaW1wb3J0IHsgR3RSb3cgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LXJvdyc7XHJcbmltcG9ydCB7IEd0Q29uZmlnU2V0dGluZyB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3QtY29uZmlnLXNldHRpbmcnO1xyXG5pbXBvcnQgeyBHdEluZm9ybWF0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1pbmZvcm1hdGlvbic7XHJcblxyXG5AUGlwZSh7XHJcblx0bmFtZTogJ2d0U2VhcmNoJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RTZWFyY2hQaXBlPFIgZXh0ZW5kcyBHdFJvdz4gaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHQvKiogUmV0dXJuIHByb3BlcnR5ICovXHJcblx0cHJpdmF0ZSBnZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uKGFycmF5OiBBcnJheTxhbnk+LCBrZXk6IHN0cmluZykge1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAoYXJyYXlbaV0ub2JqZWN0S2V5ID09PSBrZXkpIHtcclxuXHRcdFx0XHRyZXR1cm4gYXJyYXlbaV07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHR0cmFuc2Zvcm0oXHJcblx0XHRhbGxSb3dzOiBhbnksXHJcblx0XHRzZWFyY2hUZXJtczogc3RyaW5nLFxyXG5cdFx0Z3RJbmZvOiBHdEluZm9ybWF0aW9uLFxyXG5cdFx0c2V0dGluZ3M6IEFycmF5PEd0Q29uZmlnU2V0dGluZz4sXHJcblx0XHRmaWVsZHM6IEFycmF5PEd0Q29uZmlnRmllbGQ8UiwgYW55Pj4sXHJcblx0XHRyZWZyZXNoRGF0YTogbnVtYmVyXHJcblx0KTogYW55IHtcclxuXHRcdC8vICBpZiBubyBzZWFyY2ggdGVybXMgYXJlIGRlZmluZWQuLi5cclxuXHRcdGlmICghc2VhcmNoVGVybXMgfHwgc2VhcmNoVGVybXMucmVwbGFjZSgvXCIvZywgJycpLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHQvLyAuLi5yZXR1cm4gYWxsIHJvd3NcclxuXHRcdFx0Y29uc3QgbGVuZ3RoID0gYWxsUm93cyA9PT0gbnVsbCA/IDAgOiBhbGxSb3dzLmxlbmd0aDtcclxuXHRcdFx0Z3RJbmZvLnJlY29yZHNBZnRlclNlYXJjaCA9IGxlbmd0aDtcclxuXHRcdFx0cmV0dXJuIGFsbFJvd3M7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc2VhcmNoRnVuY3Rpb246IGFueSA9IHt9O1xyXG5cdFx0Y29uc3QgZmllbGRzVGVtcDogQXJyYXk8YW55PiA9IFtdO1xyXG5cclxuXHRcdGZvciAobGV0IGsgPSAwOyBrIDwgZmllbGRzLmxlbmd0aDsgaysrKSB7XHJcblx0XHRcdGNvbnN0IGZpZWxkID0gZmllbGRzW2tdO1xyXG5cclxuXHRcdFx0Ly8gY2hlY2sgaWYgZmllbGQgc2hvdWxkIGJlIGluY2x1ZGVkIGluIGdsb2JhbCBzZWFyY2hcclxuXHRcdFx0Y29uc3QgaW5jbHVkZSA9XHJcblx0XHRcdFx0dGhpcy5nZXRQcm9wZXJ0eShzZXR0aW5ncywgZmllbGQub2JqZWN0S2V5KS5zZWFyY2ggPT09IGZhbHNlXHJcblx0XHRcdFx0XHQ/IGZhbHNlXHJcblx0XHRcdFx0XHQ6IHRydWU7XHJcblxyXG5cdFx0XHQvLyBpZiBpbmNsdWRlLi4uXHJcblx0XHRcdGlmIChpbmNsdWRlKSB7XHJcblx0XHRcdFx0Ly8gLi4uYW5kIGlmIHNlYXJjaCBmdW5jdGlvbiBpcyBkZWZpbmVkLi4uXHJcblx0XHRcdFx0aWYgKHR5cGVvZiBmaWVsZC5zZWFyY2ggPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdC8vIC4uLmFkZCBpdCBhcyBzZWFyY2ggZnVuY3Rpb24gZm9yIGZpZWxkXHJcblx0XHRcdFx0XHRzZWFyY2hGdW5jdGlvbltmaWVsZC5vYmplY3RLZXldID0gZmllbGQuc2VhcmNoO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyAuLi5pZiBubyBzZWFyY2ggZnVuY3Rpb24gaXMgZGVmaW5lZCBidXQgdmFsdWUgZnVuY3Rpb24gaXMgZGVmaW5lZC4uLlxyXG5cdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBmaWVsZC52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0Ly8gLi4uYWRkIGl0IGFzIHNlYXJjaCBmdW5jdGlvbiBmb3IgZmllbGRcclxuXHRcdFx0XHRcdHNlYXJjaEZ1bmN0aW9uW2ZpZWxkLm9iamVjdEtleV0gPSBmaWVsZC52YWx1ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIC4uLnB1c2ggaXQgdG8gb3VyIGZpZWxkcyBhcnJheVxyXG5cdFx0XHRcdGZpZWxkc1RlbXAucHVzaChmaWVsZCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBmaWx0ZXJlZFJvd3M6IEFycmF5PGFueT4gPSBbXTtcclxuXHRcdHNlYXJjaFRlcm1zID0gdHlwZW9mIHNlYXJjaFRlcm1zID09PSAndW5kZWZpbmVkJyA/ICcnIDogc2VhcmNoVGVybXM7XHJcblx0XHRjb25zdCBzZWFyY2hUZXJtc0FycmF5ID0gc2VhcmNoVGVybXMudG9Mb3dlckNhc2UoKS5tYXRjaCgvKFwiLipcInxbXlxcc10rKS9nKTtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGFsbFJvd3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Y29uc3Qgcm93ID0gYWxsUm93c1tpXTtcclxuXHRcdFx0bGV0IHN0cmluZyA9ICcnO1xyXG5cclxuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBmaWVsZHNUZW1wLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0Y29uc3Qgc2VwYXJhdG9yID0gaiA9PT0gMCA/ICcnIDogJyAmICc7XHJcblx0XHRcdFx0c3RyaW5nICs9IHNlYXJjaEZ1bmN0aW9uW2ZpZWxkc1RlbXBbal0ub2JqZWN0S2V5XVxyXG5cdFx0XHRcdFx0PyBzZXBhcmF0b3IgKyBzZWFyY2hGdW5jdGlvbltmaWVsZHNUZW1wW2pdLm9iamVjdEtleV0ocm93LCBqKVxyXG5cdFx0XHRcdFx0OiBzZXBhcmF0b3IgKyByb3dbZmllbGRzVGVtcFtqXS5vYmplY3RLZXldO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0cmluZyA9IHN0cmluZy50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHRsZXQgbWF0Y2g6IEJvb2xlYW4gPSB0cnVlO1xyXG5cclxuXHRcdFx0Zm9yIChsZXQgayA9IDA7IGsgPCBzZWFyY2hUZXJtc0FycmF5Lmxlbmd0aDsgaysrKSB7XHJcblx0XHRcdFx0Y29uc3QgdGVybSA9IHNlYXJjaFRlcm1zQXJyYXlba10ucmVwbGFjZSgvXCIvZywgJycpO1xyXG5cdFx0XHRcdG1hdGNoID0gc3RyaW5nLmluZGV4T2YodGVybSkgIT09IC0xO1xyXG5cclxuXHRcdFx0XHRpZiAoIW1hdGNoKSB7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKG1hdGNoKSB7XHJcblx0XHRcdFx0ZmlsdGVyZWRSb3dzLnB1c2gocm93KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Z3RJbmZvLnJlY29yZHNBZnRlclNlYXJjaCA9IGZpbHRlcmVkUm93cy5sZW5ndGg7XHJcblx0XHQvLyBndEluZm8ucmVmcmVzaChmaWx0ZXJlZFJvd3MubGVuZ3RoLGd0KTtcclxuXHRcdHJldHVybiBmaWx0ZXJlZFJvd3M7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7XHJcblx0Q29tcG9uZW50RmFjdG9yeSxcclxuXHRDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXHJcblx0Q29tcG9uZW50UmVmLFxyXG5cdERpcmVjdGl2ZSxcclxuXHRFdmVudEVtaXR0ZXIsXHJcblx0SW5qZWN0b3IsXHJcblx0SW5wdXQsXHJcblx0T25Jbml0LFxyXG5cdE91dHB1dCxcclxuXHRUeXBlLFxyXG5cdFZpZXdDb250YWluZXJSZWZcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBEaXJlY3RpdmUoe1xyXG5cdHNlbGVjdG9yOiAnW2d0Q29tcG9uZW50QW5jaG9yXSdcclxufSlcclxuZXhwb3J0IGNsYXNzIENvbXBvbmVudEFuY2hvckRpcmVjdGl2ZTxDPiBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblx0QElucHV0KCkgY3RvcjogVHlwZTxDPjtcclxuXHRASW5wdXQoKSBpbmplY3RvcjogSW5qZWN0b3I7XHJcblx0QE91dHB1dCgpIGluc3RhbmNlOiBFdmVudEVtaXR0ZXI8Qz4gPSBuZXcgRXZlbnRFbWl0dGVyPEM+KCk7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcclxuXHRcdHByaXZhdGUgdmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZlxyXG5cdCkge31cclxuXHJcblx0bmdPbkluaXQoKTogdm9pZCB7XHJcblx0XHRjb25zdCBmYWN0b3J5OiBDb21wb25lbnRGYWN0b3J5PFxyXG5cdFx0XHRDXHJcblx0XHQ+ID0gdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodGhpcy5jdG9yKTtcclxuXHRcdGNvbnN0IGNvbXBvbmVudDogQ29tcG9uZW50UmVmPEM+ID0gdGhpcy52aWV3Q29udGFpbmVyLmNyZWF0ZUNvbXBvbmVudChcclxuXHRcdFx0ZmFjdG9yeSxcclxuXHRcdFx0MCxcclxuXHRcdFx0dGhpcy5pbmplY3RvclxyXG5cdFx0KTtcclxuXHRcdHRoaXMuaW5zdGFuY2UuZW1pdChjb21wb25lbnQuaW5zdGFuY2UpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG5cdENvbXBvbmVudCxcclxuXHRFdmVudEVtaXR0ZXIsXHJcblx0SW5qZWN0b3IsXHJcblx0SW5wdXQsXHJcblx0T25Jbml0LFxyXG5cdE91dHB1dCxcclxuXHRUeXBlXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFJlcGxheVN1YmplY3QgfSBmcm9tICdyeGpzL1JlcGxheVN1YmplY3QnO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEd0Q3VzdG9tQ29tcG9uZW50PFI+IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHRyb3c6IFI7XHJcblx0Y29sdW1uOiBhbnk7XHJcblx0cmVkcmF3RXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyPHsgcm93OiBSOyBjb2x1bW46IGFueSB9PigpO1xyXG5cdHNlYXJjaFRlcm1zOiBzdHJpbmc7XHJcblx0JHNlYXJjaFRlcm1zOiBSZXBsYXlTdWJqZWN0PHN0cmluZz4gPSBuZXcgUmVwbGF5U3ViamVjdCgxKTtcclxuXHJcblx0cHJvdGVjdGVkICRyZWRyYXcoJGV2ZW50PzogYW55KSB7XHJcblx0XHR0aGlzLnJlZHJhd0V2ZW50LmVtaXQoeyByb3c6IHRoaXMucm93LCBjb2x1bW46IHRoaXMuY29sdW1uIH0pO1xyXG5cdH1cclxuXHRuZ09uSW5pdCgpIHtcclxuXHRcdHRoaXMuJHNlYXJjaFRlcm1zLnN1YnNjcmliZSh0ZXJtcyA9PiAodGhpcy5zZWFyY2hUZXJtcyA9IHRlcm1zKSk7XHJcblx0fVxyXG59XHJcblxyXG5AQ29tcG9uZW50KHtcclxuXHRzZWxlY3RvcjogJ2d0LWN1c3RvbS1jb21wb25lbnQtZmFjdG9yeScsXHJcblx0dGVtcGxhdGU6IGA8ZGl2IGd0Q29tcG9uZW50QW5jaG9yIFtjdG9yXT1cInR5cGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtpbmplY3Rvcl09XCJpbmplY3RvclwiXHJcbiAgICAgICAgICAgICAgICAgICAgKGluc3RhbmNlKT1cImluc3RhbmNlKCRldmVudClcIj48L2Rpdj5gXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdEN1c3RvbUNvbXBvbmVudEZhY3Rvcnk8UiwgQyBleHRlbmRzIEd0Q3VzdG9tQ29tcG9uZW50PFI+PiB7XHJcblx0QElucHV0KClcclxuXHRzZXQgc2VhcmNoVGVybXModmFsdWU6IHN0cmluZykge1xyXG5cdFx0dGhpcy4kc2VhcmNoVGVybXMubmV4dCh2YWx1ZSk7XHJcblx0fVxyXG5cdEBJbnB1dCgpIHR5cGU6IFR5cGU8Qz47XHJcblx0QElucHV0KCkgaW5qZWN0b3I6IEluamVjdG9yO1xyXG5cdEBJbnB1dCgpIHJvdzogUjtcclxuXHRASW5wdXQoKSBjb2x1bW46IGFueTtcclxuXHQkc2VhcmNoVGVybXM6IFJlcGxheVN1YmplY3Q8c3RyaW5nPiA9IG5ldyBSZXBsYXlTdWJqZWN0KDEpO1xyXG5cdEBPdXRwdXQoKSByZWRyYXdFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8eyByb3c6IFI7IGNvbHVtbjogYW55IH0+KCk7XHJcblxyXG5cdGluc3RhbmNlKGluc3RhbmNlOiBDKSB7XHJcblx0XHRpbnN0YW5jZS5yb3cgPSB0aGlzLnJvdztcclxuXHRcdGluc3RhbmNlLmNvbHVtbiA9IHRoaXMuY29sdW1uO1xyXG5cdFx0aW5zdGFuY2UuJHNlYXJjaFRlcm1zID0gdGhpcy4kc2VhcmNoVGVybXM7XHJcblx0XHRpbnN0YW5jZS5yZWRyYXdFdmVudC5zdWJzY3JpYmUodGhpcy5yZWRyYXdFdmVudCk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7XHJcblx0Q29tcG9uZW50LFxyXG5cdEV2ZW50RW1pdHRlcixcclxuXHRJbnB1dCxcclxuXHRPbkRlc3Ryb3ksXHJcblx0T25Jbml0LFxyXG5cdE91dHB1dCxcclxuXHRSZW5kZXJlcjJcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMvU3ViamVjdCc7XHJcbmltcG9ydCAqIGFzIFRldGhlciBmcm9tICd0ZXRoZXInO1xyXG5cclxuQENvbXBvbmVudCh7XHJcblx0c2VsZWN0b3I6ICdndC1kcm9wZG93bicsXHJcblx0dGVtcGxhdGU6IGBcclxuICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93biBndC1kcm9wZG93blwiIFtuZ0NsYXNzXT1cInsnc2hvdyc6YWN0aXZlfVwiIFthdHRyLmlkXT1cImlkXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10b2dnbGVcIiAoY2xpY2spPVwidG9nZ2xlRHJvcGRvd24oKVwiIFthdHRyLmFyaWEtZXhwYW5kZWRdPVwiYWN0aXZlXCI+e3tzZWxlY3RlZH19PC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJndC1kcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnVcIiAqbmdJZj1cImFjdGl2ZVwiIFtuZ0NsYXNzXT1cInsnc2hvdyc6YWN0aXZlfVwiIFthdHRyLmlkXT1cImlkKydfbWVudSdcIj5cclxuICAgICAgICA8YnV0dG9uICpuZ0Zvcj1cImxldCBvcHRpb24gb2Ygb3B0aW9ucztcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiAoY2xpY2spPVwic2VsZWN0KG9wdGlvbilcIiBbbmdDbGFzc109XCJ7J2FjdGl2ZSc6b3B0aW9uID09PSBzZWxlY3RlZH1cIj57e29wdGlvbn19PC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgYCxcclxuXHRzdHlsZXM6IFtcclxuXHRcdGBcclxuICAgIC5ndC1kcm9wZG93biAuZHJvcGRvd24tdG9nZ2xlIHtcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgfVxyXG4gICAgLmd0LWRyb3Bkb3duIC5kcm9wZG93bi10b2dnbGU6OmFmdGVyIHtcclxuICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjRzIGVhc2UtaW4tb3V0O1xyXG4gICAgICBvcGFjaXR5OiAwO1xyXG4gICAgfVxyXG4gICAgLmd0LWRyb3Bkb3duIC5kcm9wZG93bi10b2dnbGU6aG92ZXI6OmFmdGVyIHtcclxuICAgICAgb3BhY2l0eTogMTtcclxuICAgIH1cclxuICBgXHJcblx0XVxyXG59KVxyXG5leHBvcnQgY2xhc3MgR3REcm9wZG93bkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcclxuXHRnZXQgc2VsZWN0ZWQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fc2VsZWN0ZWQ7XHJcblx0fVxyXG5cclxuXHRfc2VsZWN0ZWQ6IGFueTtcclxuXHRASW5wdXQoKVxyXG5cdHNldCBzZWxlY3RlZChzZWxlY3Rpb24pIHtcclxuXHRcdHRoaXMuX3NlbGVjdGVkID0gc2VsZWN0aW9uO1xyXG5cdH1cclxuXHRASW5wdXQoKSBvcHRpb25zOiBBcnJheTxhbnk+O1xyXG5cdEBJbnB1dCgpIGlkOiBzdHJpbmc7XHJcblx0QE91dHB1dCgpIHNlbGVjdGVkQ2hhbmdlOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcblx0YWN0aXZlID0gZmFsc2U7IC8vIGlzIGRyb3Bkb3duIGFjdGl2ZSBvciBub3RcclxuXHRzdGF0ZTogU3ViamVjdDxib29sZWFuPiA9IG5ldyBTdWJqZWN0KCk7IC8vIGN1cnJlbnQgc3RhdGUgb2YgZHJvcGRvd25cclxuXHR0ZXRoZXI6IGFueTtcclxuXHRjbGlja0xpc3RlbmVyOiBGdW5jdGlvbjtcclxuXHRrZXl1cExpc3RlbmVyOiBGdW5jdGlvbjtcclxuXHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyKSB7fVxyXG5cclxuXHRzZWxlY3Qob3B0aW9uOiBhbnkpIHtcclxuXHRcdHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcblx0XHR0aGlzLnN0YXRlLm5leHQodGhpcy5hY3RpdmUpO1xyXG5cdFx0aWYgKHRoaXMuX3NlbGVjdGVkICE9PSBvcHRpb24pIHtcclxuXHRcdFx0dGhpcy5zZWxlY3RlZENoYW5nZS5lbWl0KG9wdGlvbik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR0b2dnbGVEcm9wZG93bigpIHtcclxuXHRcdHRoaXMuYWN0aXZlID0gIXRoaXMuYWN0aXZlO1xyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHRoaXMuc3RhdGUubmV4dCh0aGlzLmFjdGl2ZSk7XHJcblx0XHR9LCAwKTtcclxuXHR9XHJcblxyXG5cdG5nT25Jbml0KCkge1xyXG5cdFx0dGhpcy5zdGF0ZS5zdWJzY3JpYmUoc3RhdGUgPT4ge1xyXG5cdFx0XHRpZiAoc3RhdGUpIHtcclxuXHRcdFx0XHR0aGlzLnRldGhlciA9IG5ldyBUZXRoZXIoe1xyXG5cdFx0XHRcdFx0ZWxlbWVudDogJyMnICsgdGhpcy5pZCArICdfbWVudScsXHJcblx0XHRcdFx0XHR0YXJnZXQ6ICcjJyArIHRoaXMuaWQsXHJcblx0XHRcdFx0XHRhdHRhY2htZW50OiAndG9wIGxlZnQnLFxyXG5cdFx0XHRcdFx0dGFyZ2V0QXR0YWNobWVudDogJ2JvdHRvbSBsZWZ0JyxcclxuXHRcdFx0XHRcdGNvbnN0cmFpbnRzOiBbXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHR0bzogJ3dpbmRvdycsXHJcblx0XHRcdFx0XHRcdFx0YXR0YWNobWVudDogJ3RvZ2V0aGVyJ1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRdXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdHRoaXMudGV0aGVyLnBvc2l0aW9uKCk7XHJcblxyXG5cdFx0XHRcdC8vIHNldCB1cCBjbGljayBsaXN0ZW5lciBhbmQgbGlzdGVuIGZvciBjbGljayBvdXRzaWRlIGRyb3Bkb3duXHJcblx0XHRcdFx0dGhpcy5jbGlja0xpc3RlbmVyID0gdGhpcy5yZW5kZXJlci5saXN0ZW4oXHJcblx0XHRcdFx0XHQnZG9jdW1lbnQnLFxyXG5cdFx0XHRcdFx0J2NsaWNrJyxcclxuXHRcdFx0XHRcdChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLm5leHQodGhpcy5hY3RpdmUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdC8vIHNldCB1cCBrZXlib2FyZCBsaXN0ZW5lciBhbmQgbGlzdGVuIGZvciBlc2NhcGUga2V5IHVwXHJcblx0XHRcdFx0dGhpcy5rZXl1cExpc3RlbmVyID0gdGhpcy5yZW5kZXJlci5saXN0ZW4oXHJcblx0XHRcdFx0XHQnZG9jdW1lbnQnLFxyXG5cdFx0XHRcdFx0J2tleXVwJyxcclxuXHRcdFx0XHRcdChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRzd2l0Y2ggKGV2ZW50LmtleSkge1xyXG5cdFx0XHRcdFx0XHRcdGNhc2UgJ0VzY2FwZSc6XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5uZXh0KHRoaXMuYWN0aXZlKTtcclxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnRldGhlci5kZXN0cm95KCk7XHJcblx0XHRcdFx0dGhpcy5yZW1vdmVMaXN0ZW5lcnMoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRuZ09uRGVzdHJveSgpIHtcclxuXHRcdHRoaXMucmVtb3ZlTGlzdGVuZXJzKCk7XHJcblx0fVxyXG5cclxuXHRyZW1vdmVMaXN0ZW5lcnMoKSB7XHJcblx0XHRpZiAodGhpcy5jbGlja0xpc3RlbmVyKSB7XHJcblx0XHRcdHRoaXMuY2xpY2tMaXN0ZW5lcigpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMua2V5dXBMaXN0ZW5lcikge1xyXG5cdFx0XHR0aGlzLmtleXVwTGlzdGVuZXIoKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndFRvdGFscydcclxufSlcclxuZXhwb3J0IGNsYXNzIEd0VG90YWxzUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xyXG5cdHRyYW5zZm9ybShcclxuXHRcdHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBGdW5jdGlvbixcclxuXHRcdGRhdGE6IEFycmF5PGFueT4sXHJcblx0XHRvYmplY3RLZXk6IHN0cmluZyxcclxuXHRcdHJlZnJlc2g6IGJvb2xlYW5cclxuXHQpOiBhbnkge1xyXG5cdFx0bGV0IG91dHB1dDtcclxuXHJcblx0XHRpZiAoZGF0YS5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0b3V0cHV0ID0gdmFsdWUoZGF0YSwgb2JqZWN0S2V5KTtcclxuXHRcdH0gZWxzZSBpZiAodmFsdWUpIHtcclxuXHRcdFx0b3V0cHV0ID0gdmFsdWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRvdXRwdXQgPSAnJztcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gb3V0cHV0O1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEd0Q29uZmlnVG90YWwgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LWNvbmZpZy10b3RhbCc7XHJcblxyXG5AUGlwZSh7XHJcblx0bmFtZTogJ2d0VG90YWxzUG9zaXRpb24nXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdFRvdGFsc1Bvc2l0aW9uUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xyXG5cdHRyYW5zZm9ybShcclxuXHRcdGFycmF5OiBBcnJheTxHdENvbmZpZ1RvdGFsPixcclxuXHRcdHBvc2l0aW9uOiAnaGVhZGVyJyB8ICdmb290ZXInID0gJ2hlYWRlcidcclxuXHQpOiBBcnJheTxhbnk+IHtcclxuXHRcdHJldHVybiBhcnJheS5maWx0ZXIodG90YWwgPT4ge1xyXG5cdFx0XHQvLyBpZiBubyBwb3NpdGlvbiBpcyBkZWZpbmVkIGFzc3VtZSBwb3NpdGlvbiB0byBiZSBoZWFkZXJcclxuXHRcdFx0Y29uc3QgdG90YWxQb3NpdGlvbiA9IHRvdGFsLnBvc2l0aW9uID8gdG90YWwucG9zaXRpb24gOiAnaGVhZGVyJztcclxuXHRcdFx0cmV0dXJuIHRvdGFsUG9zaXRpb24gPT09IHBvc2l0aW9uO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgR3RDb25maWdGaWVsZCB9IGZyb20gJy4uL2ludGVyZmFjZXMvZ3QtY29uZmlnLWZpZWxkJztcclxuXHJcbkBQaXBlKHtcclxuXHRuYW1lOiAnZ3RSb3dDbGFzcydcclxufSlcclxuZXhwb3J0IGNsYXNzIEd0Um93Q2xhc3NQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcblx0dHJhbnNmb3JtKGFycmF5OiBBcnJheTxhbnk+LCBndEZpZWxkczogQXJyYXk8R3RDb25maWdGaWVsZDxhbnksIGFueT4+KTogYW55IHtcclxuXHRcdGlmIChhcnJheSkge1xyXG5cdFx0XHQvLyBmaW5kIGNvbHVtbnMgd2l0aCByb3dDbGFzcyBwcm9wZXJ0eSBkZWZpbmVkXHJcblx0XHRcdGNvbnN0IENPTFVNTlNfV0lUSF9DTEFTUyA9IGd0RmllbGRzXHJcblx0XHRcdFx0Lm1hcChjb2x1bW4gPT4gY29sdW1uKVxyXG5cdFx0XHRcdC5maWx0ZXIoY29sdW1uID0+IGNvbHVtbi5yb3dDbGFzcyk7XHJcblx0XHRcdENPTFVNTlNfV0lUSF9DTEFTUy5tYXAoY29sdW1uID0+IHtcclxuXHRcdFx0XHQvLyBmb3IgZWFjaCBjb2x1bW4gd2l0aCByb3dDbGFzcyBwcm9wZXJ0eSBkZWZpbmVkLi4uXHJcblx0XHRcdFx0YXJyYXkubWFwKHJvdyA9PiB7XHJcblx0XHRcdFx0XHQvLyBsb29wIHRocm91Z2ggcm93cyBhbmQgc2V0IHJvdyBjbGFzc1xyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBjb2x1bW4ucm93Q2xhc3MgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdFx0Ly8gaWYgcm93IGNsYXNzIGlzIGEgZnVuY3Rpb24sIHRyeSB1c2luZyB0aGUgZnVuY3Rpb24uLi5cclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAocm93LiQkZ3RSb3dDbGFzcykge1xyXG5cdFx0XHRcdFx0XHRcdFx0cm93LiQkZ3RSb3dDbGFzcyA9IHJvdy4kJGd0Um93Q2xhc3MuY29uY2F0KFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQnICcgKyBjb2x1bW4ucm93Q2xhc3Mocm93LCBjb2x1bW4pXHJcblx0XHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyb3cuJCRndFJvd0NsYXNzID0gY29sdW1uLnJvd0NsYXNzKHJvdywgY29sdW1uKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdFx0XHRcdFx0XHQnRXJyb3Igd2hlbiB0cnlpbmcgdG8gZ2V0IHJvdyBjbGFzcyBuYW1lIHVzaW5nIGZvcm11bGEuJyxcclxuXHRcdFx0XHRcdFx0XHRcdGVycm9yXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Ly8gaWYgbm90IGEgZnVuY3Rpb24sIHJldHVybiBwbGFpbiBzdHJpbmcgdmFsdWVcclxuXHRcdFx0XHRcdFx0aWYgKHJvdy4kJGd0Um93Q2xhc3MpIHtcclxuXHRcdFx0XHRcdFx0XHRyb3cuJCRndFJvd0NsYXNzID0gcm93LiQkZ3RSb3dDbGFzcy5jb25jYXQoJyAnICsgY29sdW1uLnJvd0NsYXNzKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRyb3cuJCRndFJvd0NsYXNzID0gY29sdW1uLnJvd0NsYXNzO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGFycmF5O1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEd0Q29uZmlnRmllbGQgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2d0LWNvbmZpZy1maWVsZCc7XHJcbmltcG9ydCB7IEd0Um93IH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9ndC1yb3cnO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndENvbHVtbkNsYXNzJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RDb2x1bW5DbGFzc1BpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHR0cmFuc2Zvcm0oXHJcblx0XHRndEZpZWxkczogQXJyYXk8R3RDb25maWdGaWVsZDxhbnksIGFueT4+LFxyXG5cdFx0Y29sdW1uOiBHdENvbmZpZ0ZpZWxkPEd0Um93LCBhbnk+LFxyXG5cdFx0cm93PzogR3RSb3dcclxuXHQpOiBhbnkge1xyXG5cdFx0Ly8gZmluZCBjb2x1bW5zIHdpdGggY29sdW1uQ2xhc3MgcHJvcGVydHkgZGVmaW5lZFxyXG5cdFx0Y29uc3QgQ09MVU1OX1dJVEhfQ0xBU1MgPSBndEZpZWxkc1xyXG5cdFx0XHQubWFwKGZpZWxkID0+IGZpZWxkKVxyXG5cdFx0XHQuZmlsdGVyKFxyXG5cdFx0XHRcdGZpZWxkID0+IGZpZWxkLmNvbHVtbkNsYXNzICYmIGZpZWxkLm9iamVjdEtleSA9PT0gY29sdW1uLm9iamVjdEtleVxyXG5cdFx0XHQpWzBdO1xyXG5cdFx0aWYgKCFDT0xVTU5fV0lUSF9DTEFTUykge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBDT0xVTU5fV0lUSF9DTEFTUy5jb2x1bW5DbGFzcyA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHQvLyBpZiBjb2x1bW4gY2xhc3MgaXMgYSBmdW5jdGlvbiwgdHJ5IHVzaW5nIHRoZSBmdW5jdGlvbi4uLlxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHJldHVybiBDT0xVTU5fV0lUSF9DTEFTUy5jb2x1bW5DbGFzcyhyb3csIGNvbHVtbik7XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXHJcblx0XHRcdFx0XHQnRXJyb3Igd2hlbiB0cnlpbmcgdG8gZ2V0IGNvbHVtbiBjbGFzcyBuYW1lIHVzaW5nIGZvcm11bGEuJyxcclxuXHRcdFx0XHRcdGVycm9yXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gaWYgbm90IGEgZnVuY3Rpb24sIHJldHVybiBwbGFpbiBzdHJpbmcgdmFsdWVcclxuXHRcdFx0cmV0dXJuIENPTFVNTl9XSVRIX0NMQVNTLmNvbHVtbkNsYXNzO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG5cdENoYW5nZURldGVjdG9yUmVmLFxyXG5cdERpcmVjdGl2ZSxcclxuXHRFbGVtZW50UmVmLFxyXG5cdEhvc3RMaXN0ZW5lcixcclxuXHRJbnB1dCxcclxuXHRPbkluaXRcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbkBEaXJlY3RpdmUoe1xyXG5cdHNlbGVjdG9yOiAnW2d0Q29sdW1uV2lkdGhdJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RDb2x1bW5XaWR0aERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblx0QElucHV0KCkgb2JqZWN0S2V5OiBzdHJpbmc7XHJcblx0QElucHV0KCkgd2lkdGhzOiBPYmplY3Q7XHJcblx0QEhvc3RMaXN0ZW5lcignd2luZG93OnJlc2l6ZScsIFsnJGV2ZW50J10pXHJcblx0cHVibGljIG9uUmVzaXplKCRldmVudDogYW55KSB7XHJcblx0XHR0aGlzLmNoZWNrU2l6ZSgpO1xyXG5cdH1cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgaG9zdEVsZW1lbnQ6IEVsZW1lbnRSZWYsXHJcblx0XHRwcml2YXRlIGNkUmVmOiBDaGFuZ2VEZXRlY3RvclJlZlxyXG5cdCkge31cclxuXHRuZ09uSW5pdCgpIHtcclxuXHRcdHRoaXMuY2hlY2tTaXplKCk7XHJcblx0fVxyXG5cclxuXHRjaGVja1NpemUoKSB7XHJcblx0XHR0aGlzLndpZHRoc1t0aGlzLm9iamVjdEtleV0gPSB3aW5kb3dcclxuXHRcdFx0LmdldENvbXB1dGVkU3R5bGUodGhpcy5ob3N0RWxlbWVudC5uYXRpdmVFbGVtZW50LCBudWxsKVxyXG5cdFx0XHQuZ2V0UHJvcGVydHlWYWx1ZSgnd2lkdGgnKTtcclxuXHRcdHRoaXMuY2RSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG5cdENvbXBvbmVudCxcclxuXHRFdmVudEVtaXR0ZXIsXHJcblx0SG9zdEJpbmRpbmcsXHJcblx0SW5wdXQsXHJcblx0T25Jbml0LFxyXG5cdE91dHB1dFxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcblx0c2VsZWN0b3I6ICdndC1jaGVja2JveCcsXHJcblx0dGVtcGxhdGU6IGBcclxuICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sIGN1c3RvbS1jaGVja2JveCBwLTBcIiAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCI+XHJcbiAgICAgIDxpbnB1dCAjY2hlY2tib3ggdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiIFsoY2hlY2tlZCldPVwiY2hlY2tlZFwiIChjaGFuZ2UpPVwidG9nZ2xlKCRldmVudCk7XCI+XHJcbiAgICAgIDxzcGFuIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIj48L3NwYW4+XHJcbiAgICA8L2xhYmVsPlxyXG4gIGAsXHJcblx0c3R5bGVzOiBbXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgR3RDaGVja2JveENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblx0Z2V0IGluaXRpYWxWYWx1ZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLl9pbml0aWFsVmFsdWU7XHJcblx0fVxyXG5cclxuXHRASG9zdEJpbmRpbmcoJ2NsYXNzJykgY2xhc3MgPSAnZC1mbGV4IGp1c3RpZnktY29udGVudC1lbmQnO1xyXG5cclxuXHRASW5wdXQoKVxyXG5cdHNldCBpbml0aWFsVmFsdWUodmFsdWU6IGJvb2xlYW4pIHtcclxuXHRcdHRoaXMuX2luaXRpYWxWYWx1ZSA9IHZhbHVlO1xyXG5cdH1cclxuXHRnZXQgY2hlY2tlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLl9jaGVja2VkO1xyXG5cdH1cclxuXHJcblx0QElucHV0KClcclxuXHRzZXQgY2hlY2tlZCh2YWx1ZTogYm9vbGVhbikge1xyXG5cdFx0dGhpcy5fY2hlY2tlZCA9IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBfY2hlY2tlZDogYm9vbGVhbjtcclxuXHRwcml2YXRlIF9pbml0aWFsVmFsdWU6IGJvb2xlYW47XHJcblx0QE91dHB1dCgpIGNoYW5nZWQ6IEV2ZW50RW1pdHRlcjxib29sZWFuPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcblx0Y29uc3RydWN0b3IoKSB7fVxyXG5cclxuXHRuZ09uSW5pdCgpIHt9XHJcblxyXG5cdHRvZ2dsZShjaGVja2VkOiBib29sZWFuKSB7XHJcblx0XHR0aGlzLmNoYW5nZWQuZW1pdCh0aGlzLmNoZWNrZWQpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzL09ic2VydmFibGUnO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndElzT2JzZXJ2YWJsZSdcclxufSlcclxuZXhwb3J0IGNsYXNzIEd0SXNPYnNlcnZhYmxlUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xyXG5cdHRyYW5zZm9ybShpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzL09ic2VydmFibGUnO1xyXG5cclxuQFBpcGUoe1xyXG5cdG5hbWU6ICdndElzRWRpdGFibGUnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHdElzRWRpdGFibGVQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcblx0dHJhbnNmb3JtKHByb3BlcnR5OiBhbnksIHJvdzogYW55LCByZWZyZXNoUGlwZTogYm9vbGVhbik6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRyZXR1cm4gcHJvcGVydHkocm93KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IEdlbmVyaWNUYWJsZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9nZW5lcmljLXRhYmxlLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEd0UmVuZGVyUGlwZSB9IGZyb20gJy4vcGlwZXMvZ3QtcmVuZGVyLnBpcGUnO1xyXG5pbXBvcnQgeyBHdFZpc2libGVQaXBlIH0gZnJvbSAnLi9waXBlcy9ndC12aXNpYmxlLnBpcGUnO1xyXG5pbXBvcnQgeyBEYXNoQ2FzZVBpcGUgfSBmcm9tICcuL3BpcGVzL2Rhc2gtY2FzZS5waXBlJztcclxuaW1wb3J0IHsgR3RQcm9wZXJ0eVBpcGUgfSBmcm9tICcuL3BpcGVzL2d0LXByb3BlcnR5LnBpcGUnO1xyXG5pbXBvcnQgeyBHdENodW5rUGlwZSB9IGZyb20gJy4vcGlwZXMvZ3QtY2h1bmsucGlwZSc7XHJcbmltcG9ydCB7IEd0RmlsdGVyUGlwZSB9IGZyb20gJy4vcGlwZXMvZ3QtZmlsdGVyLnBpcGUnO1xyXG5pbXBvcnQgeyBHdE9yZGVyQnlQaXBlIH0gZnJvbSAnLi9waXBlcy9ndC1vcmRlci1ieS5waXBlJztcclxuaW1wb3J0IHsgR3RFeHBhbmRpbmdSb3dDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ3QtZXhwYW5kaW5nLXJvdy5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBHdFNlYXJjaFBpcGUgfSBmcm9tICcuL3BpcGVzL2d0LXNlYXJjaC5waXBlJztcclxuaW1wb3J0IHsgQ29tcG9uZW50QW5jaG9yRGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmVzL2NvbXBvbmVudC1hbmNob3IuZGlyZWN0aXZlJztcclxuaW1wb3J0IHtcclxuXHRHdFBhZ2luYXRpb25Db21wb25lbnQsXHJcblx0UGFnaW5hdGlvblBpcGVcclxufSBmcm9tICcuL2NvbXBvbmVudHMvZ3QtcGFnaW5hdGlvbi5jb21wb25lbnQnO1xyXG5pbXBvcnQge1xyXG5cdEd0VGFibGVJbmZvQ29tcG9uZW50LFxyXG5cdFRhYmxlSW5mb1BpcGVcclxufSBmcm9tICcuL2NvbXBvbmVudHMvZ3QtdGFibGUtaW5mby5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBHdEN1c3RvbUNvbXBvbmVudEZhY3RvcnkgfSBmcm9tICcuL2NvbXBvbmVudHMvZ3QtY3VzdG9tLWNvbXBvbmVudC1mYWN0b3J5JztcclxuaW1wb3J0IHsgR3RNZXRhUGlwZSB9IGZyb20gJy4vcGlwZXMvZ3QtbWV0YS5waXBlJztcclxuaW1wb3J0IHsgR3REcm9wZG93bkNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9ndC1kcm9wZG93bi5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBHdFRvdGFsc1BpcGUgfSBmcm9tICcuL3BpcGVzL2d0LXRvdGFscy5waXBlJztcclxuaW1wb3J0IHsgR3RUb3RhbHNQb3NpdGlvblBpcGUgfSBmcm9tICcuL3BpcGVzL2d0LXRvdGFscy1wb3NpdGlvbi5waXBlJztcclxuaW1wb3J0IHsgR3RSb3dDbGFzc1BpcGUgfSBmcm9tICcuL3BpcGVzL2d0LXJvdy1jbGFzcy5waXBlJztcclxuaW1wb3J0IHsgR3RDb2x1bW5DbGFzc1BpcGUgfSBmcm9tICcuL3BpcGVzL2d0LWNvbHVtbi1jbGFzcy5waXBlJztcclxuaW1wb3J0IHsgR3RDb2x1bW5XaWR0aERpcmVjdGl2ZSB9IGZyb20gJy4vZGlyZWN0aXZlcy9ndC1jb2x1bW4td2lkdGguZGlyZWN0aXZlJztcclxuaW1wb3J0IHsgR3REcmlsbGRvd25Db21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ3QtZHJpbGxkb3duLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEd0Q2hlY2tib3hDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ3QtY2hlY2tib3gvZ3QtY2hlY2tib3guY29tcG9uZW50JztcclxuaW1wb3J0IHsgR3RIaWdobGlnaHRQaXBlIH0gZnJvbSAnLi9waXBlcy9ndC1oaWdobGlnaHQucGlwZSc7XHJcbmltcG9ydCB7IEd0SXNPYnNlcnZhYmxlUGlwZSB9IGZyb20gJy4vcGlwZXMvZ3QtaXMtb2JzZXJ2YWJsZS5waXBlJztcclxuaW1wb3J0IHsgR3RJc0VkaXRhYmxlUGlwZSB9IGZyb20gJy4vcGlwZXMvZ3QtaXMtZWRpdGFibGUucGlwZSc7XHJcblxyXG5ATmdNb2R1bGUoe1xyXG5cdGRlY2xhcmF0aW9uczogW1xyXG5cdFx0Q29tcG9uZW50QW5jaG9yRGlyZWN0aXZlLFxyXG5cdFx0R2VuZXJpY1RhYmxlQ29tcG9uZW50LFxyXG5cdFx0R3RQYWdpbmF0aW9uQ29tcG9uZW50LFxyXG5cdFx0R3RWaXNpYmxlUGlwZSxcclxuXHRcdEd0UmVuZGVyUGlwZSxcclxuXHRcdERhc2hDYXNlUGlwZSxcclxuXHRcdEd0UHJvcGVydHlQaXBlLFxyXG5cdFx0R3RDaHVua1BpcGUsXHJcblx0XHRHdEZpbHRlclBpcGUsXHJcblx0XHRHdE9yZGVyQnlQaXBlLFxyXG5cdFx0R3RFeHBhbmRpbmdSb3dDb21wb25lbnQsXHJcblx0XHRHdEN1c3RvbUNvbXBvbmVudEZhY3RvcnksXHJcblx0XHRHdFNlYXJjaFBpcGUsXHJcblx0XHRQYWdpbmF0aW9uUGlwZSxcclxuXHRcdEd0VGFibGVJbmZvQ29tcG9uZW50LFxyXG5cdFx0VGFibGVJbmZvUGlwZSxcclxuXHRcdEd0TWV0YVBpcGUsXHJcblx0XHRHdFRvdGFsc1BpcGUsXHJcblx0XHRHdFRvdGFsc1Bvc2l0aW9uUGlwZSxcclxuXHRcdEd0Um93Q2xhc3NQaXBlLFxyXG5cdFx0R3RDb2x1bW5DbGFzc1BpcGUsXHJcblx0XHRHdEhpZ2hsaWdodFBpcGUsXHJcblx0XHRHdElzT2JzZXJ2YWJsZVBpcGUsXHJcblx0XHRHdElzRWRpdGFibGVQaXBlLFxyXG5cdFx0R3REcm9wZG93bkNvbXBvbmVudCxcclxuXHRcdEd0Q29sdW1uV2lkdGhEaXJlY3RpdmUsXHJcblx0XHRHdERyaWxsZG93bkNvbXBvbmVudCxcclxuXHRcdEd0Q2hlY2tib3hDb21wb25lbnRcclxuXHRdLFxyXG5cdGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIEZvcm1zTW9kdWxlXSxcclxuXHRleHBvcnRzOiBbXHJcblx0XHRHZW5lcmljVGFibGVDb21wb25lbnQsXHJcblx0XHRHdFBhZ2luYXRpb25Db21wb25lbnQsXHJcblx0XHRHdFRhYmxlSW5mb0NvbXBvbmVudCxcclxuXHRcdEd0UHJvcGVydHlQaXBlLFxyXG5cdFx0R3RIaWdobGlnaHRQaXBlLFxyXG5cdFx0R3RFeHBhbmRpbmdSb3dDb21wb25lbnQsXHJcblx0XHRHdERyb3Bkb3duQ29tcG9uZW50LFxyXG5cdFx0R3REcmlsbGRvd25Db21wb25lbnQsXHJcblx0XHRHdENoZWNrYm94Q29tcG9uZW50XHJcblx0XSxcclxuXHRlbnRyeUNvbXBvbmVudHM6IFtHdERyaWxsZG93bkNvbXBvbmVudCwgR3RDaGVja2JveENvbXBvbmVudF0sXHJcblx0cHJvdmlkZXJzOiBbR3RNZXRhUGlwZSwgR3RIaWdobGlnaHRQaXBlXSxcclxuXHRib290c3RyYXA6IFtdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHZW5lcmljVGFibGVNb2R1bGUge31cclxuIl0sIm5hbWVzIjpbInRzbGliXzEuX19leHRlbmRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBR0E7Ozs7O0FBQUE7OzJCQVFlLElBQUksWUFBWSxFQUFLOzhCQUVsQixJQUFJLFlBQVksRUFBSzs7Ozs7SUFFL0IsNkJBQUs7Ozs7UUFDWCxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7Ozs7OztJQUc3QiwrQkFBTzs7OztjQUFDLE1BQVk7UUFDMUIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDOzs7Ozs7O0lBRTFCLGlDQUFTOzs7OztjQUFDLEdBQVUsRUFBRSxNQUFrQjtRQUM5QyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztZQUNqQixJQUFJLEVBQUUsZ0JBQWdCO1lBQ3RCLEtBQUssRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTtTQUNsQyxDQUFDLENBQUM7O3dCQTFCTDtJQTRCQyxDQUFBOzs7Ozs7OzsyQkFx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